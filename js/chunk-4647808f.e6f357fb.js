(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4647808f"],{"0cb8":function(e,t,o){"use strict";o("b842")},b842:function(e,t,o){},df25:function(e,t,o){"use strict";o.r(t);var a=o("7a23");const n={class:"Fc m-txt",style:{width:"90%","margin-top":"20px"}},c={class:"Fc",style:{width:"100%",margin:"0.5rem 0"}};function l(e,t,o,l,s,r){const i=Object(a["resolveComponent"])("van-field"),u=Object(a["resolveComponent"])("van-picker"),d=Object(a["resolveComponent"])("van-popup"),m=Object(a["resolveComponent"])("van-button"),b=Object(a["resolveComponent"])("van-form");return Object(a["openBlock"])(),Object(a["createBlock"])(b,{onSubmit:r.onSubmit,class:"Fc w100"},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",n,[Object(a["createVNode"])(i,{modelValue:l.from_coin,"onUpdate:modelValue":t[0]||(t[0]=e=>l.from_coin=e),"is-link":"",readonly:"",name:"from_coin",label:e.$t("exchangeCoin.from_adddrss"),placeholder:e.$t("exchangeCoin.from_address_tip"),onClick:t[1]||(t[1]=e=>l.showPicker=!0)},null,8,["modelValue","label","placeholder"]),Object(a["createVNode"])(d,{show:l.showPicker,"onUpdate:show":t[3]||(t[3]=e=>l.showPicker=e),position:"bottom"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{columns:l.columns,onConfirm:l.onConfirm,onCancel:t[2]||(t[2]=e=>l.showPicker=!1),"confirm-button-text":e.$t("p_common.ok"),"cancel-button-text":e.$t("p_common.cancel")},null,8,["columns","onConfirm","confirm-button-text","cancel-button-text"])]),_:1},8,["show"]),Object(a["createVNode"])(i,{modelValue:r.balance,"onUpdate:modelValue":t[4]||(t[4]=e=>r.balance=e),name:"balance",label:e.$t("exchangeCoin.balance"),readonly:"readonly"},null,8,["modelValue","label"]),Object(a["createVNode"])(i,{modelValue:l.amount,"onUpdate:modelValue":t[5]||(t[5]=e=>l.amount=e),clearable:"",name:"amount",label:e.$t("exchangeCoin.amount"),rules:[{validator:l.amountPattern,message:e.$t("exchangeCoin.amount_err")}],class:"mt20"},{button:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{size:"small",type:"primary",onClick:r.exchangeAll},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("exchangeCoin.all")),1)]),_:1},8,["onClick"])]),_:1},8,["modelValue","label","rules"]),Object(a["createVNode"])(i,{modelValue:r.exchange,"onUpdate:modelValue":t[6]||(t[6]=e=>r.exchange=e),name:"exchange",label:"USDT",readonly:"readonly",class:"mt20"},null,8,["modelValue"]),Object(a["createVNode"])(i,{modelValue:l.paypwd,"onUpdate:modelValue":t[7]||(t[7]=e=>l.paypwd=e),type:"password",name:"paypwd",label:e.$t("p_register.pass2"),placeholder:e.$t("p_register.pass2tip"),class:"mt20",rules:[{validator:l.passPattern,message:e.$t("p_register.pass2tip")}]},null,8,["modelValue","label","placeholder","rules"]),Object(a["createElementVNode"])("div",c,[Object(a["createVNode"])(m,{round:"",block:"",type:"primary","native-type":"submit"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("exchangeCoin.title")),1)]),_:1})])])]),_:1},8,["onSubmit"])}o("27f1");var s=o("1c96"),r=(o("fc63"),o("dda5")),i=(o("ac6b"),o("5f24")),u=(o("22fa"),o("2e1b")),d=(o("21a7"),o("f23a")),m=(o("3b21"),o("4b9e")),b=o("c24f"),p=o("5502"),h=o("6605"),f=o("b775"),O={name:"register",setup(){let{proxy:e}=Object(a["getCurrentInstance"])();const t=Object(p["c"])(),o=Object(h["c"])();let n=Object(a["ref"])("");const c=e=>/\w{6}/.test(e),l=e=>/^[0-9]+.{0,1}[0-9]*$/.test(e);let s=o.currentRoute.value.params,r=Object(a["computed"])(()=>t.getters.userInfo);const i=Object(a["ref"])(""),u=Object(a["ref"])(!1),d=["BTC","TRX","DOGE"];let m=Object(a["ref"])("");const b=e=>{i.value=e,u.value=!1,m.value=0};let O=s["type"];O&&-1!=d.indexOf(O)?i.value=O:i.value="BTC";let g=Object(a["ref"])({}),j=()=>{Object(f["a"])({url:"https://api.coingecko.com/api/v3/simple/price?ids=tron,dogecoin,bitcoin&vs_currencies=usd",method:"get",data:{}}).then(e=>{g.value=e})};return j(),{proxy:e,userInfo:r,paypwd:n,passPattern:c,amountPattern:l,from_coin:i,columns:d,onConfirm:b,showPicker:u,amount:m,rates:g}},components:{vanForm:m["a"],vanField:d["a"],vanButton:u["b"],vanPopup:i["b"],vanPicker:r["b"]},computed:{balance(){return this.userInfo.user?this.userInfo.user[this.from_coin.toLowerCase()]:0},exchange(){return"BTC"==this.from_coin&&this.rates.bitcoin?(this.amount*this.rates.bitcoin.usd).toFixed(2):"TRX"==this.from_coin&&this.rates.tron?(this.amount*this.rates.tron.usd).toFixed(2):"DOGE"==this.from_coin&&this.rates.dogecoin?(this.amount*this.rates.dogecoin.usd).toFixed(2):0}},data(){return{}},methods:{onSubmit:function(e){s["a"].loading({message:"",forbidClick:!0});const t={...e};t.exchange<=0?s["a"].fail(this.proxy.$t("exchangeCoin.amount_err")):(console.log("sssssssssss"),Object(b["h"])(t).then(e=>{0==e.status?(s["a"].success(this.proxy.$t("exchangeCoin.success")),location.reload()):s["a"].fail(e.message)}).catch(e=>{console.log(e)}))},exchangeAll:function(){this.amount=this.balance}}},g=(o("0cb8"),o("6b0d")),j=o.n(g);const x=j()(O,[["render",l],["__scopeId","data-v-c91cde76"]]);t["default"]=x}}]);