(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"02ab":function(e,t,n){"use strict";n("68ef"),n("cb51"),n("3743"),n("8a0b")},"04f8":function(e,t,n){var r=n("2d00"),i=n("d039");e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},"06cf":function(e,t,n){var r=n("83ab"),i=n("c65b"),a=n("d1e7"),o=n("5c6c"),s=n("fc6a"),l=n("a04b"),c=n("1a2d"),u=n("0cfb"),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=s(e),t=l(t),u)try{return d(e,t)}catch(n){}if(c(e,t))return o(!i(a.f,e,t),e[t])}},"07fa":function(e,t,n){var r=n("50c4");e.exports=function(e){return r(e.length)}},"0a06":function(e,t,n){"use strict";var r=n("c532"),i=n("30b5"),a=n("f6b4"),o=n("5270"),s=n("4a7b"),l=n("848b"),c=l.validators;function u(e){this.defaults=e,this.interceptors={request:new a,response:new a}}u.prototype.request=function(e,t){"string"===typeof e?(t=t||{},t.url=e):t=e||{},t=s(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&l.assertOptions(n,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var a,u=[];if(this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)})),!i){var d=[o,void 0];Array.prototype.unshift.apply(d,r),d=d.concat(u),a=Promise.resolve(t);while(d.length)a=a.then(d.shift(),d.shift());return a}var f=t;while(r.length){var h=r.shift(),p=r.shift();try{f=h(f)}catch(g){p(g);break}}try{a=o(f)}catch(g){return Promise.reject(g)}while(u.length)a=a.then(u.shift(),u.shift());return a},u.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=u},"0cfb":function(e,t,n){var r=n("83ab"),i=n("d039"),a=n("cc12");e.exports=!r&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},"0d51":function(e,t){var n=String;e.exports=function(e){try{return n(e)}catch(t){return"Object"}}},"0df6":function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},"13d2":function(e,t,n){var r=n("d039"),i=n("1626"),a=n("1a2d"),o=n("83ab"),s=n("5e77").CONFIGURABLE,l=n("8925"),c=n("69f3"),u=c.enforce,d=c.get,f=Object.defineProperty,h=o&&!r((function(){return 8!==f((function(){}),"length",{value:8}).length})),p=String(String).split("String"),g=e.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!a(e,"name")||s&&e.name!==t)&&(o?f(e,"name",{value:t,configurable:!0}):e.name=t),h&&n&&a(n,"arity")&&e.length!==n.arity&&f(e,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?o&&f(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var r=u(e);return a(r,"source")||(r.source=p.join("string"==typeof t?t:"")),e};Function.prototype.toString=g((function(){return i(this)&&d(this).source||l(this)}),"toString")},"14d9":function(e,t,n){"use strict";var r=n("23e7"),i=n("7b0b"),a=n("07fa"),o=n("3a34"),s=n("3511"),l=n("d039"),c=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),u=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}();r({target:"Array",proto:!0,arity:1,forced:c||u},{push:function(e){var t=i(this),n=a(t),r=arguments.length;s(n+r);for(var l=0;l<r;l++)t[n]=arguments[l],n++;return o(t,n),n}})},1626:function(e,t,n){var r=n("8ea1"),i=r.all;e.exports=r.IS_HTMLDDA?function(e){return"function"==typeof e||e===i}:function(e){return"function"==typeof e}},"1a2d":function(e,t,n){var r=n("e330"),i=n("7b0b"),a=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(i(e),t)}},"1c96":function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var r=n("7a23"),i=n("fa7c"),a=n("b75f"),o=n("23f9"),s=n("6872"),l=n("1fba"),c=n("e5f6");let u=0;function d(e){e?(u||document.body.classList.add("van-toast--unclickable"),u++):u&&(u--,u||document.body.classList.remove("van-toast--unclickable"))}var f=n("9a1c"),h=n("5f24"),p=n("5913");const[g,v]=Object(l["a"])("toast"),m=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay"],b={icon:String,show:Boolean,type:Object(c["e"])("text"),overlay:Boolean,message:c["f"],iconSize:c["f"],duration:Object(c["b"])(2e3),position:Object(c["e"])("middle"),teleport:[String,Object],className:c["h"],iconPrefix:String,transition:Object(c["e"])("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:c["h"],overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean};var y=Object(r["defineComponent"])({name:g,props:b,emits:["update:show"],setup(e,{emit:t}){let n,o=!1;const s=()=>{const t=e.show&&e.forbidClick;o!==t&&(o=t,d(o))},l=e=>t("update:show",e),c=()=>{e.closeOnClick&&l(!1)},u=()=>clearTimeout(n),g=()=>{const{icon:t,type:n,iconSize:i,iconPrefix:a,loadingType:o}=e,s=t||"success"===n||"fail"===n;return s?Object(r["createVNode"])(f["a"],{name:t||n,size:i,class:v("icon"),classPrefix:a},null):"loading"===n?Object(r["createVNode"])(p["a"],{class:v("loading"),size:i,type:o},null):void 0},b=()=>{const{type:t,message:n}=e;if(Object(a["b"])(n)&&""!==n)return"html"===t?Object(r["createVNode"])("div",{key:0,class:v("text"),innerHTML:String(n)},null):Object(r["createVNode"])("div",{class:v("text")},[n])};return Object(r["watch"])(()=>[e.show,e.forbidClick],s),Object(r["watch"])(()=>[e.show,e.type,e.message,e.duration],()=>{u(),e.show&&e.duration>0&&(n=setTimeout(()=>{l(!1)},e.duration))}),Object(r["onMounted"])(s),Object(r["onUnmounted"])(s),()=>Object(r["createVNode"])(h["a"],Object(r["mergeProps"])({class:[v([e.position,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:c,onClosed:u,"onUpdate:show":l},Object(i["e"])(e,m)),{default:()=>[g(),b()]})}});const E={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let O=[],T=!1,_=Object(i["a"])({},E);const S=new Map;function k(e){return Object(a["f"])(e)?e:{message:e}}function L(){const{instance:e,unmount:t}=Object(s["a"])({setup(){const n=Object(r["ref"])(""),{open:i,state:a,close:o,toggle:l}=Object(s["b"])(),c=()=>{T&&(O=O.filter(t=>t!==e),t())},u=()=>{const e={onClosed:c,"onUpdate:show":l};return Object(r["createVNode"])(y,Object(r["mergeProps"])(a,e),null)};return Object(r["watch"])(n,e=>{a.message=e}),Object(r["getCurrentInstance"])().render=u,{open:i,clear:o,message:n}}});return e}function A(){if(!O.length||T){const e=L();O.push(e)}return O[O.length-1]}function w(e={}){if(!i["c"])return{};const t=A(),n=k(e);return t.open(Object(i["a"])({},_,S.get(n.type||_.type),n)),t}const C=e=>t=>w(Object(i["a"])({type:e},k(t)));function j(e,t){"string"===typeof e?S.set(e,t):Object(i["a"])(_,e)}w.loading=C("loading"),w.success=C("success"),w.fail=C("fail"),w.clear=e=>{var t;O.length&&(e?(O.forEach(e=>{e.clear()}),O=[]):T?null==(t=O.shift())||t.clear():O[0].clear())},w.setDefaultOptions=j,w.resetDefaultOptions=e=>{"string"===typeof e?S.delete(e):(_=Object(i["a"])({},E),S.clear())},w.allowMultiple=(e=!0)=>{T=e},w.install=e=>{e.use(Object(o["a"])(y)),e.config.globalProperties.$toast=w};var D=w},"1d2b":function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},"1d80":function(e,t,n){var r=n("7234"),i=TypeError;e.exports=function(e){if(r(e))throw i("Can't call method on "+e);return e}},"1fba":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("fa7c"),i=n("5aa0"),a=n("b75f"),o=n("7a23");const{hasOwnProperty:s}=Object.prototype;function l(e,t,n){const r=t[n];Object(a["b"])(r)&&(s.call(e,n)&&Object(a["f"])(r)?e[n]=c(Object(e[n]),r):e[n]=r)}function c(e,t){return Object.keys(t).forEach(n=>{l(e,t,n)}),e}var u={name:"姓名",tel:"电话",save:"保存",confirm:"确认",cancel:"取消",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,t)=>`${e}年${t}月`,rangePrompt:e=>`最多选择 ${e} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:e=>e+"折",condition:e=>`满${e}元可用`},vanCouponCell:{title:"优惠券",count:e=>e+"张可用"},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",postal:"邮政编码",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",postalEmpty:"邮政编码不正确",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}};const d=Object(o["ref"])("zh-CN"),f=Object(o["reactive"])({"zh-CN":u}),h={messages(){return f[d.value]},use(e,t){d.value=e,this.add({[e]:t})},add(e={}){c(f,e)}};var p=h;function g(e){const t=Object(i["b"])(e)+".";return(e,...n)=>{const i=p.messages(),o=Object(r["b"])(i,t+e)||Object(r["b"])(i,e);return Object(a["c"])(o)?o(...n):o}}function v(e,t){return t?"string"===typeof t?` ${e}--${t}`:Array.isArray(t)?t.reduce((t,n)=>t+v(e,n),""):Object.keys(t).reduce((n,r)=>n+(t[r]?v(e,r):""),""):""}function m(e){return(t,n)=>(t&&"string"!==typeof t&&(n=t,t=""),t=t?`${e}__${t}`:e,`${t}${v(t,n)}`)}function b(e){const t="van-"+e;return[t,m(t),g(t)]}},"23cb":function(e,t,n){var r=n("5926"),i=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):a(n,t)}},"23e7":function(e,t,n){var r=n("da84"),i=n("06cf").f,a=n("9112"),o=n("cb2d"),s=n("6374"),l=n("e893"),c=n("94ca");e.exports=function(e,t){var n,u,d,f,h,p,g=e.target,v=e.global,m=e.stat;if(u=v?r:m?r[g]||s(g,{}):(r[g]||{}).prototype,u)for(d in t){if(h=t[d],e.dontCallGetSet?(p=i(u,d),f=p&&p.value):f=u[d],n=c(v?d:g+(m?".":"#")+d,e.forced),!n&&void 0!==f){if(typeof h==typeof f)continue;l(h,f)}(e.sham||f&&f.sham)&&a(h,"sham",!0),o(u,d,h,e)}}},"23f9":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("5aa0");function i(e){return e.install=t=>{const{name:n}=e;n&&(t.component(n,e),t.component(Object(r["b"])("-"+n),e))},e}},"241c":function(e,t,n){var r=n("ca84"),i=n("7839"),a=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,a)}},"27f1":function(e,t,n){"use strict";n("68ef"),n("cb51"),n("3743"),n("e3b3"),n("a71a"),n("4d75"),n("b258")},"2d00":function(e,t,n){var r,i,a=n("da84"),o=n("342f"),s=a.process,l=a.Deno,c=s&&s.versions||l&&l.version,u=c&&c.v8;u&&(r=u.split("."),i=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&o&&(r=o.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/),r&&(i=+r[1]))),e.exports=i},"2d83":function(e,t,n){"use strict";var r=n("387f");e.exports=function(e,t,n,i,a){var o=new Error(e);return r(o,t,n,i,a)}},"2e67":function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},"30b5":function(e,t,n){"use strict";var r=n("c532");function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},"342f":function(e,t,n){var r=n("d066");e.exports=r("navigator","userAgent")||""},3511:function(e,t){var n=TypeError,r=9007199254740991;e.exports=function(e){if(e>r)throw n("Maximum allowed index exceeded");return e}},3743:function(e,t,n){},"387f":function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},3934:function(e,t,n){"use strict";var r=n("c532");e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return function(){return!0}}()},"3a34":function(e,t,n){"use strict";var r=n("83ab"),i=n("e8b5"),a=TypeError,o=Object.getOwnPropertyDescriptor,s=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(i(e)&&!o(e,"length").writable)throw a("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},"3a9b":function(e,t,n){var r=n("e330");e.exports=r({}.isPrototypeOf)},"3aa7":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("23f9"),i=n("95de");const a=Object(r["a"])(i["b"]);var o=a},"3f4e":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("abc5");const i="devtools-plugin:setup",a="plugin:settings:set";var o=n("5134");class s{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const n={};if(e.settings)for(const a in e.settings){const t=e.settings[a];n[a]=t.defaultValue}const r="__vue-devtools-plugin-settings__"+e.id;let i=Object.assign({},n);try{const e=localStorage.getItem(r),t=JSON.parse(e);Object.assign(i,t)}catch(s){}this.fallbacks={getSettings(){return i},setSettings(e){try{localStorage.setItem(r,JSON.stringify(e))}catch(s){}i=e},now(){return Object(o["a"])()}},t&&t.on(a,(e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)}),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise(n=>{this.targetQueue.push({method:t,args:e,resolve:n})})})}async setRealTarget(e){this.target=e;for(const t of this.onQueue)this.target.on[t.method](...t.args);for(const t of this.targetQueue)t.resolve(await this.target[t.method](...t.args))}}function l(e,t){const n=e,a=Object(r["b"])(),o=Object(r["a"])(),l=r["c"]&&n.enableEarlyProxy;if(!o||!a.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&l){const e=l?new s(n,o):null,r=a.__VUE_DEVTOOLS_PLUGINS__=a.__VUE_DEVTOOLS_PLUGINS__||[];r.push({pluginDescriptor:n,setupFn:t,proxy:e}),e&&t(e.proxiedTarget)}else o.emit(i,e,t)}},"40d5":function(e,t,n){var r=n("d039");e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},4213:function(e,t,n){},4362:function(e,t,n){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,r="/";t.cwd=function(){return r},t.chdir=function(t){e||(e=n("df7c")),r=e.resolve(t,r)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},"44ad":function(e,t,n){var r=n("e330"),i=n("d039"),a=n("c6b6"),o=Object,s=r("".split);e.exports=i((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?s(e,""):o(e)}:o},"450f":function(e,t,n){"use strict";var r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,s=(e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})},l=(e,t,n,s)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let l of a(t))o.call(e,l)||l===n||r(e,l,{get:()=>t[l],enumerable:!(s=i(t,l))||s.enumerable});return e},c=e=>l(r({},"__esModule",{value:!0}),e),u={};s(u,{CUSTOM_FIELD_INJECTION_KEY:()=>ne,cancelRaf:()=>p,doubleRaf:()=>g,flattenVNodes:()=>k,getScrollParent:()=>X,inBrowser:()=>d,onMountedOrActivated:()=>B,raf:()=>h,sortChildren:()=>L,supportsPassive:()=>f,useChildren:()=>A,useClickAway:()=>V,useCountDown:()=>P,useCustomFieldValue:()=>re,useEventListener:()=>U,usePageVisibility:()=>ee,useParent:()=>_,useRect:()=>y,useScrollParent:()=>J,useToggle:()=>O,useWindowSize:()=>W}),e.exports=c(u);var d="undefined"!==typeof window,f=!0;function h(e){return d?requestAnimationFrame(e):-1}function p(e){d&&cancelAnimationFrame(e)}function g(e){h(()=>h(e))}var v=n("7a23"),m=e=>e===window,b=(e,t)=>({top:0,left:0,right:e,bottom:t,width:e,height:t}),y=e=>{const t=(0,v.unref)(e);if(m(t)){const e=t.innerWidth,n=t.innerHeight;return b(e,n)}return(null==t?void 0:t.getBoundingClientRect)?t.getBoundingClientRect():b(0,0)},E=n("7a23");function O(e=!1){const t=(0,E.ref)(e),n=(e=!t.value)=>{t.value=e};return[t,n]}var T=n("7a23");function _(e){const t=(0,T.inject)(e,null);if(t){const e=(0,T.getCurrentInstance)(),{link:n,unlink:r,internalChildren:i}=t;n(e),(0,T.onUnmounted)(()=>r(e));const a=(0,T.computed)(()=>i.indexOf(e));return{parent:t,index:a}}return{parent:null,index:(0,T.ref)(-1)}}var S=n("7a23");function k(e){const t=[],n=e=>{Array.isArray(e)&&e.forEach(e=>{var r;(0,S.isVNode)(e)&&(t.push(e),(null==(r=e.component)?void 0:r.subTree)&&(t.push(e.component.subTree),n(e.component.subTree.children)),e.children&&n(e.children))})};return n(e),t}function L(e,t,n){const r=k(e.subTree.children);n.sort((e,t)=>r.indexOf(e.vnode)-r.indexOf(t.vnode));const i=n.map(e=>e.proxy);t.sort((e,t)=>{const n=i.indexOf(e),r=i.indexOf(t);return n-r})}function A(e){const t=(0,S.reactive)([]),n=(0,S.reactive)([]),r=(0,S.getCurrentInstance)(),i=i=>{const a=e=>{e.proxy&&(n.push(e),t.push(e.proxy),L(r,t,n))},o=e=>{const r=n.indexOf(e);t.splice(r,1),n.splice(r,1)};(0,S.provide)(e,Object.assign({link:a,unlink:o,children:t,internalChildren:n},i))};return{children:t,linkChildren:i}}var w=n("7a23"),C=1e3,j=60*C,D=60*j,R=24*D;function I(e){const t=Math.floor(e/R),n=Math.floor(e%R/D),r=Math.floor(e%D/j),i=Math.floor(e%j/C),a=Math.floor(e%C);return{total:e,days:t,hours:n,minutes:r,seconds:i,milliseconds:a}}function x(e,t){return Math.floor(e/1e3)===Math.floor(t/1e3)}function P(e){let t,n,r,i;const a=(0,w.ref)(e.time),o=(0,w.computed)(()=>I(a.value)),s=()=>{r=!1,p(t)},l=()=>Math.max(n-Date.now(),0),c=t=>{var n,r;a.value=t,null==(n=e.onChange)||n.call(e,o.value),0===t&&(s(),null==(r=e.onFinish)||r.call(e))},u=()=>{t=h(()=>{r&&(c(l()),a.value>0&&u())})},f=()=>{t=h(()=>{if(r){const e=l();x(e,a.value)&&0!==e||c(e),a.value>0&&f()}})},g=()=>{d&&(e.millisecond?u():f())},v=()=>{r||(n=Date.now()+a.value,r=!0,g())},m=(t=e.time)=>{s(),a.value=t};return(0,w.onBeforeUnmount)(s),(0,w.onActivated)(()=>{i&&(r=!0,i=!1,g())}),(0,w.onDeactivated)(()=>{r&&(s(),i=!0)}),{start:v,pause:s,reset:m,current:o}}var N=n("7a23"),F=n("7a23"),M=n("7a23");function B(e){let t;(0,M.onMounted)(()=>{e(),(0,M.nextTick)(()=>{t=!0})}),(0,M.onActivated)(()=>{t&&e()})}function U(e,t,n={}){if(!d)return;const{target:r=window,passive:i=!1,capture:a=!1}=n;let o;const s=n=>{const r=(0,F.unref)(n);r&&!o&&(r.addEventListener(e,t,{capture:a,passive:i}),o=!0)},l=n=>{const r=(0,F.unref)(n);r&&o&&(r.removeEventListener(e,t,a),o=!1)};(0,F.onUnmounted)(()=>l(r)),(0,F.onDeactivated)(()=>l(r)),B(()=>s(r)),(0,F.isRef)(r)&&(0,F.watch)(r,(e,t)=>{l(t),s(e)})}function V(e,t,n={}){if(!d)return;const{eventName:r="click"}=n,i=n=>{const r=Array.isArray(e)?e:[e],i=r.every(e=>{const t=(0,N.unref)(e);return t&&!t.contains(n.target)});i&&t(n)};U(r,i,{target:document})}var G,H,K=n("7a23");function W(){if(!G&&(G=(0,K.ref)(0),H=(0,K.ref)(0),d)){const e=()=>{G.value=window.innerWidth,H.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:G,height:H}}var q=n("7a23"),Y=/scroll|auto|overlay/i,$=d?window:void 0;function z(e){const t=1;return"HTML"!==e.tagName&&"BODY"!==e.tagName&&e.nodeType===t}function X(e,t=$){let n=e;while(n&&n!==t&&z(n)){const{overflowY:e}=window.getComputedStyle(n);if(Y.test(e))return n;n=n.parentNode}return t}function J(e,t=$){const n=(0,q.ref)();return(0,q.onMounted)(()=>{e.value&&(n.value=X(e.value,t))}),n}var Q,Z=n("7a23");function ee(){if(!Q&&(Q=(0,Z.ref)("visible"),d)){const e=()=>{Q.value=document.hidden?"hidden":"visible"};e(),window.addEventListener("visibilitychange",e)}return Q}var te=n("7a23"),ne=Symbol("van-field");function re(e){const t=(0,te.inject)(ne,null);t&&!t.customValue.value&&(t.customValue.value=e,(0,te.watch)(e,()=>{t.resetValidation(),t.validateWithTrigger("onChange")}))}},"467f":function(e,t,n){"use strict";var r=n("2d83");e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},"47e2":function(e,t,n){"use strict";n.d(t,"a",(function(){return Qt}));var r=n("f83d");
/*!
  * message-compiler v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const i={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,__EXTEND_POINT__:15};i.EXPECTED_TOKEN,i.INVALID_TOKEN_IN_PLACEHOLDER,i.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,i.UNKNOWN_ESCAPE_SEQUENCE,i.INVALID_UNICODE_ESCAPE_SEQUENCE,i.UNBALANCED_CLOSING_BRACE,i.UNTERMINATED_CLOSING_BRACE,i.EMPTY_PLACEHOLDER,i.NOT_ALLOW_NEST_PLACEHOLDER,i.INVALID_LINKED_FORMAT,i.MUST_HAVE_MESSAGES_IN_PLURAL,i.UNEXPECTED_EMPTY_LINKED_MODIFIER,i.UNEXPECTED_EMPTY_LINKED_KEY,i.UNEXPECTED_LEXICAL_ANALYSIS;function a(e,t,n={}){const{domain:r,messages:i,args:a}=n,o=e,s=new SyntaxError(String(o));return s.code=e,t&&(s.location=t),s.domain=r,s}function o(e){throw e}function s(e,t,n){return{line:e,column:t,offset:n}}function l(e,t,n){const r={start:e,end:t};return null!=n&&(r.source=n),r}const c=" ",u="\r",d="\n",f=String.fromCharCode(8232),h=String.fromCharCode(8233);function p(e){const t=e;let n=0,r=1,i=1,a=0;const o=e=>t[e]===u&&t[e+1]===d,s=e=>t[e]===d,l=e=>t[e]===h,c=e=>t[e]===f,p=e=>o(e)||s(e)||l(e)||c(e),g=()=>n,v=()=>r,m=()=>i,b=()=>a,y=e=>o(e)||l(e)||c(e)?d:t[e],E=()=>y(n),O=()=>y(n+a);function T(){return a=0,p(n)&&(r++,i=0),o(n)&&n++,n++,i++,t[n]}function _(){return o(n+a)&&a++,a++,t[n+a]}function S(){n=0,r=1,i=1,a=0}function k(e=0){a=e}function L(){const e=n+a;while(e!==n)T();a=0}return{index:g,line:v,column:m,peekOffset:b,charAt:y,currentChar:E,currentPeek:O,next:T,peek:_,reset:S,resetPeek:k,skipToPeek:L}}const g=void 0,v="'",m="tokenizer";function b(e,t={}){const n=!1!==t.location,r=p(e),o=()=>r.index(),u=()=>s(r.line(),r.column(),r.index()),f=u(),h=o(),b={currentType:14,offset:h,startLoc:f,endLoc:f,lastType:14,lastOffset:h,lastStartLoc:f,lastEndLoc:f,braceNest:0,inLinked:!1,text:""},y=()=>b,{onError:E}=t;function O(e,t,n,...r){const i=y();if(t.column+=n,t.offset+=n,E){const n=l(i.startLoc,t),o=a(e,n,{domain:m,args:r});E(o)}}function T(e,t,r){e.endLoc=u(),e.currentType=t;const i={type:t};return n&&(i.loc=l(e.startLoc,e.endLoc)),null!=r&&(i.value=r),i}const _=e=>T(e,14);function S(e,t){return e.currentChar()===t?(e.next(),t):(O(i.EXPECTED_TOKEN,u(),0,t),"")}function k(e){let t="";while(e.currentPeek()===c||e.currentPeek()===d)t+=e.currentPeek(),e.peek();return t}function L(e){const t=k(e);return e.skipToPeek(),t}function A(e){if(e===g)return!1;const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||95===t}function w(e){if(e===g)return!1;const t=e.charCodeAt(0);return t>=48&&t<=57}function C(e,t){const{currentType:n}=t;if(2!==n)return!1;k(e);const r=A(e.currentPeek());return e.resetPeek(),r}function j(e,t){const{currentType:n}=t;if(2!==n)return!1;k(e);const r="-"===e.currentPeek()?e.peek():e.currentPeek(),i=w(r);return e.resetPeek(),i}function D(e,t){const{currentType:n}=t;if(2!==n)return!1;k(e);const r=e.currentPeek()===v;return e.resetPeek(),r}function R(e,t){const{currentType:n}=t;if(8!==n)return!1;k(e);const r="."===e.currentPeek();return e.resetPeek(),r}function I(e,t){const{currentType:n}=t;if(9!==n)return!1;k(e);const r=A(e.currentPeek());return e.resetPeek(),r}function x(e,t){const{currentType:n}=t;if(8!==n&&12!==n)return!1;k(e);const r=":"===e.currentPeek();return e.resetPeek(),r}function P(e,t){const{currentType:n}=t;if(10!==n)return!1;const r=()=>{const t=e.currentPeek();return"{"===t?A(e.peek()):!("@"===t||"%"===t||"|"===t||":"===t||"."===t||t===c||!t)&&(t===d?(e.peek(),r()):A(t))},i=r();return e.resetPeek(),i}function N(e){k(e);const t="|"===e.currentPeek();return e.resetPeek(),t}function F(e){const t=k(e),n="%"===e.currentPeek()&&"{"===e.peek();return e.resetPeek(),{isModulo:n,hasSpace:t.length>0}}function M(e,t=!0){const n=(t=!1,r="",i=!1)=>{const a=e.currentPeek();return"{"===a?"%"!==r&&t:"@"!==a&&a?"%"===a?(e.peek(),n(t,"%",!0)):"|"===a?!("%"!==r&&!i)||!(r===c||r===d):a===c?(e.peek(),n(!0,c,i)):a!==d||(e.peek(),n(!0,d,i)):"%"===r||t},r=n();return t&&e.resetPeek(),r}function B(e,t){const n=e.currentChar();return n===g?g:t(n)?(e.next(),n):null}function U(e){const t=e=>{const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||t>=48&&t<=57||95===t||36===t};return B(e,t)}function V(e){const t=e=>{const t=e.charCodeAt(0);return t>=48&&t<=57};return B(e,t)}function G(e){const t=e=>{const t=e.charCodeAt(0);return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102};return B(e,t)}function H(e){let t="",n="";while(t=V(e))n+=t;return n}function K(e){L(e);const t=e.currentChar();return"%"!==t&&O(i.EXPECTED_TOKEN,u(),0,t),e.next(),"%"}function W(e){let t="";while(1){const n=e.currentChar();if("{"===n||"}"===n||"@"===n||"|"===n||!n)break;if("%"===n){if(!M(e))break;t+=n,e.next()}else if(n===c||n===d)if(M(e))t+=n,e.next();else{if(N(e))break;t+=n,e.next()}else t+=n,e.next()}return t}function q(e){L(e);let t="",n="";while(t=U(e))n+=t;return e.currentChar()===g&&O(i.UNTERMINATED_CLOSING_BRACE,u(),0),n}function Y(e){L(e);let t="";return"-"===e.currentChar()?(e.next(),t+="-"+H(e)):t+=H(e),e.currentChar()===g&&O(i.UNTERMINATED_CLOSING_BRACE,u(),0),t}function $(e){L(e),S(e,"'");let t="",n="";const r=e=>e!==v&&e!==d;while(t=B(e,r))n+="\\"===t?z(e):t;const a=e.currentChar();return a===d||a===g?(O(i.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,u(),0),a===d&&(e.next(),S(e,"'")),n):(S(e,"'"),n)}function z(e){const t=e.currentChar();switch(t){case"\\":case"'":return e.next(),"\\"+t;case"u":return X(e,t,4);case"U":return X(e,t,6);default:return O(i.UNKNOWN_ESCAPE_SEQUENCE,u(),0,t),""}}function X(e,t,n){S(e,t);let r="";for(let a=0;a<n;a++){const n=G(e);if(!n){O(i.INVALID_UNICODE_ESCAPE_SEQUENCE,u(),0,`\\${t}${r}${e.currentChar()}`);break}r+=n}return`\\${t}${r}`}function J(e){L(e);let t="",n="";const r=e=>"{"!==e&&"}"!==e&&e!==c&&e!==d;while(t=B(e,r))n+=t;return n}function Q(e){let t="",n="";while(t=U(e))n+=t;return n}function Z(e){const t=(n=!1,r)=>{const i=e.currentChar();return"{"!==i&&"%"!==i&&"@"!==i&&"|"!==i&&i?i===c?r:i===d?(r+=i,e.next(),t(n,r)):(r+=i,e.next(),t(!0,r)):r};return t(!1,"")}function ee(e){L(e);const t=S(e,"|");return L(e),t}function te(e,t){let n=null;const r=e.currentChar();switch(r){case"{":return t.braceNest>=1&&O(i.NOT_ALLOW_NEST_PLACEHOLDER,u(),0),e.next(),n=T(t,2,"{"),L(e),t.braceNest++,n;case"}":return t.braceNest>0&&2===t.currentType&&O(i.EMPTY_PLACEHOLDER,u(),0),e.next(),n=T(t,3,"}"),t.braceNest--,t.braceNest>0&&L(e),t.inLinked&&0===t.braceNest&&(t.inLinked=!1),n;case"@":return t.braceNest>0&&O(i.UNTERMINATED_CLOSING_BRACE,u(),0),n=ne(e,t)||_(t),t.braceNest=0,n;default:let r=!0,a=!0,o=!0;if(N(e))return t.braceNest>0&&O(i.UNTERMINATED_CLOSING_BRACE,u(),0),n=T(t,1,ee(e)),t.braceNest=0,t.inLinked=!1,n;if(t.braceNest>0&&(5===t.currentType||6===t.currentType||7===t.currentType))return O(i.UNTERMINATED_CLOSING_BRACE,u(),0),t.braceNest=0,re(e,t);if(r=C(e,t))return n=T(t,5,q(e)),L(e),n;if(a=j(e,t))return n=T(t,6,Y(e)),L(e),n;if(o=D(e,t))return n=T(t,7,$(e)),L(e),n;if(!r&&!a&&!o)return n=T(t,13,J(e)),O(i.INVALID_TOKEN_IN_PLACEHOLDER,u(),0,n.value),L(e),n;break}return n}function ne(e,t){const{currentType:n}=t;let r=null;const a=e.currentChar();switch(8!==n&&9!==n&&12!==n&&10!==n||a!==d&&a!==c||O(i.INVALID_LINKED_FORMAT,u(),0),a){case"@":return e.next(),r=T(t,8,"@"),t.inLinked=!0,r;case".":return L(e),e.next(),T(t,9,".");case":":return L(e),e.next(),T(t,10,":");default:return N(e)?(r=T(t,1,ee(e)),t.braceNest=0,t.inLinked=!1,r):R(e,t)||x(e,t)?(L(e),ne(e,t)):I(e,t)?(L(e),T(t,12,Q(e))):P(e,t)?(L(e),"{"===a?te(e,t)||r:T(t,11,Z(e))):(8===n&&O(i.INVALID_LINKED_FORMAT,u(),0),t.braceNest=0,t.inLinked=!1,re(e,t))}}function re(e,t){let n={type:14};if(t.braceNest>0)return te(e,t)||_(t);if(t.inLinked)return ne(e,t)||_(t);const r=e.currentChar();switch(r){case"{":return te(e,t)||_(t);case"}":return O(i.UNBALANCED_CLOSING_BRACE,u(),0),e.next(),T(t,3,"}");case"@":return ne(e,t)||_(t);default:if(N(e))return n=T(t,1,ee(e)),t.braceNest=0,t.inLinked=!1,n;const{isModulo:r,hasSpace:a}=F(e);if(r)return a?T(t,0,W(e)):T(t,4,K(e));if(M(e))return T(t,0,W(e));break}return n}function ie(){const{currentType:e,offset:t,startLoc:n,endLoc:i}=b;return b.lastType=e,b.lastOffset=t,b.lastStartLoc=n,b.lastEndLoc=i,b.offset=o(),b.startLoc=u(),r.currentChar()===g?T(b,14):re(r,b)}return{nextToken:ie,currentOffset:o,currentPosition:u,context:y}}const y="parser",E=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function O(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const e=parseInt(t||n,16);return e<=55295||e>=57344?String.fromCodePoint(e):"�"}}}function T(e={}){const t=!1!==e.location,{onError:n}=e;function o(e,t,r,i,...o){const s=e.currentPosition();if(s.offset+=i,s.column+=i,n){const e=l(r,s),i=a(t,e,{domain:y,args:o});n(i)}}function s(e,n,r){const i={type:e,start:n,end:n};return t&&(i.loc={start:r,end:r}),i}function c(e,n,r,i){e.end=n,i&&(e.type=i),t&&e.loc&&(e.loc.end=r)}function u(e,t){const n=e.context(),r=s(3,n.offset,n.startLoc);return r.value=t,c(r,e.currentOffset(),e.currentPosition()),r}function d(e,t){const n=e.context(),{lastOffset:r,lastStartLoc:i}=n,a=s(5,r,i);return a.index=parseInt(t,10),e.nextToken(),c(a,e.currentOffset(),e.currentPosition()),a}function f(e,t){const n=e.context(),{lastOffset:r,lastStartLoc:i}=n,a=s(4,r,i);return a.key=t,e.nextToken(),c(a,e.currentOffset(),e.currentPosition()),a}function h(e,t){const n=e.context(),{lastOffset:r,lastStartLoc:i}=n,a=s(9,r,i);return a.value=t.replace(E,O),e.nextToken(),c(a,e.currentOffset(),e.currentPosition()),a}function p(e){const t=e.nextToken(),n=e.context(),{lastOffset:r,lastStartLoc:a}=n,l=s(8,r,a);return 12!==t.type?(o(e,i.UNEXPECTED_EMPTY_LINKED_MODIFIER,n.lastStartLoc,0),l.value="",c(l,r,a),{nextConsumeToken:t,node:l}):(null==t.value&&o(e,i.UNEXPECTED_LEXICAL_ANALYSIS,n.lastStartLoc,0,_(t)),l.value=t.value||"",c(l,e.currentOffset(),e.currentPosition()),{node:l})}function g(e,t){const n=e.context(),r=s(7,n.offset,n.startLoc);return r.value=t,c(r,e.currentOffset(),e.currentPosition()),r}function v(e){const t=e.context(),n=s(6,t.offset,t.startLoc);let r=e.nextToken();if(9===r.type){const t=p(e);n.modifier=t.node,r=t.nextConsumeToken||e.nextToken()}switch(10!==r.type&&o(e,i.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,_(r)),r=e.nextToken(),2===r.type&&(r=e.nextToken()),r.type){case 11:null==r.value&&o(e,i.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,_(r)),n.key=g(e,r.value||"");break;case 5:null==r.value&&o(e,i.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,_(r)),n.key=f(e,r.value||"");break;case 6:null==r.value&&o(e,i.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,_(r)),n.key=d(e,r.value||"");break;case 7:null==r.value&&o(e,i.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,_(r)),n.key=h(e,r.value||"");break;default:o(e,i.UNEXPECTED_EMPTY_LINKED_KEY,t.lastStartLoc,0);const a=e.context(),l=s(7,a.offset,a.startLoc);return l.value="",c(l,a.offset,a.startLoc),n.key=l,c(n,a.offset,a.startLoc),{nextConsumeToken:r,node:n}}return c(n,e.currentOffset(),e.currentPosition()),{node:n}}function m(e){const t=e.context(),n=1===t.currentType?e.currentOffset():t.offset,r=1===t.currentType?t.endLoc:t.startLoc,a=s(2,n,r);a.items=[];let l=null;do{const n=l||e.nextToken();switch(l=null,n.type){case 0:null==n.value&&o(e,i.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,_(n)),a.items.push(u(e,n.value||""));break;case 6:null==n.value&&o(e,i.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,_(n)),a.items.push(d(e,n.value||""));break;case 5:null==n.value&&o(e,i.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,_(n)),a.items.push(f(e,n.value||""));break;case 7:null==n.value&&o(e,i.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,_(n)),a.items.push(h(e,n.value||""));break;case 8:const r=v(e);a.items.push(r.node),l=r.nextConsumeToken||null;break}}while(14!==t.currentType&&1!==t.currentType);const p=1===t.currentType?t.lastOffset:e.currentOffset(),g=1===t.currentType?t.lastEndLoc:e.currentPosition();return c(a,p,g),a}function T(e,t,n,r){const a=e.context();let l=0===r.items.length;const u=s(1,t,n);u.cases=[],u.cases.push(r);do{const t=m(e);l||(l=0===t.items.length),u.cases.push(t)}while(14!==a.currentType);return l&&o(e,i.MUST_HAVE_MESSAGES_IN_PLURAL,n,0),c(u,e.currentOffset(),e.currentPosition()),u}function S(e){const t=e.context(),{offset:n,startLoc:r}=t,i=m(e);return 14===t.currentType?i:T(e,n,r,i)}function k(n){const a=b(n,Object(r["a"])({},e)),l=a.context(),u=s(0,l.offset,l.startLoc);return t&&u.loc&&(u.loc.source=n),u.body=S(a),14!==l.currentType&&o(a,i.UNEXPECTED_LEXICAL_ANALYSIS,l.lastStartLoc,0,n[l.offset]||""),c(u,a.currentOffset(),a.currentPosition()),u}return{parse:k}}function _(e){if(14===e.type)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"…":t}function S(e,t={}){const n={ast:e,helpers:new Set},r=()=>n,i=e=>(n.helpers.add(e),e);return{context:r,helper:i}}function k(e,t){for(let n=0;n<e.length;n++)L(e[n],t)}function L(e,t){switch(e.type){case 1:k(e.cases,t),t.helper("plural");break;case 2:k(e.items,t);break;case 6:const n=e;L(n.key,t),t.helper("linked"),t.helper("type");break;case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function A(e,t={}){const n=S(e);n.helper("normalize"),e.body&&L(e.body,n);const r=n.context();e.helpers=Array.from(r.helpers)}function w(e,t){const{sourceMap:n,filename:r,breakLineCode:i,needIndent:a}=t,o={source:e.loc.source,filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:i,needIndent:a,indentLevel:0},s=()=>o;function l(e,t){o.code+=e}function c(e,t=!0){const n=t?i:"";l(a?n+"  ".repeat(e):n)}function u(e=!0){const t=++o.indentLevel;e&&c(t)}function d(e=!0){const t=--o.indentLevel;e&&c(t)}function f(){c(o.indentLevel)}const h=e=>"_"+e,p=()=>o.needIndent;return{context:s,push:l,indent:u,deindent:d,newline:f,helper:h,needIndent:p}}function C(e,t){const{helper:n}=e;e.push(n("linked")+"("),I(e,t.key),t.modifier?(e.push(", "),I(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function j(e,t){const{helper:n,needIndent:r}=e;e.push(n("normalize")+"(["),e.indent(r());const i=t.items.length;for(let a=0;a<i;a++){if(I(e,t.items[a]),a===i-1)break;e.push(", ")}e.deindent(r()),e.push("])")}function D(e,t){const{helper:n,needIndent:r}=e;if(t.cases.length>1){e.push(n("plural")+"(["),e.indent(r());const i=t.cases.length;for(let n=0;n<i;n++){if(I(e,t.cases[n]),n===i-1)break;e.push(", ")}e.deindent(r()),e.push("])")}}function R(e,t){t.body?I(e,t.body):e.push("null")}function I(e,t){const{helper:n}=e;switch(t.type){case 0:R(e,t);break;case 1:D(e,t);break;case 2:j(e,t);break;case 6:C(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${n("interpolate")}(${n("list")}(${t.index}))`,t);break;case 4:e.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break;default:0}}const x=(e,t={})=>{const n=Object(r["q"])(t.mode)?t.mode:"normal",i=Object(r["q"])(t.filename)?t.filename:"message.intl",a=!!t.sourceMap,o=null!=t.breakLineCode?t.breakLineCode:"arrow"===n?";":"\n",s=t.needIndent?t.needIndent:"arrow"!==n,l=e.helpers||[],c=w(e,{mode:n,filename:i,sourceMap:a,breakLineCode:o,needIndent:s});c.push("normal"===n?"function __msg__ (ctx) {":"(ctx) => {"),c.indent(s),l.length>0&&(c.push(`const { ${l.map(e=>`${e}: _${e}`).join(", ")} } = ctx`),c.newline()),c.push("return "),I(c,e),c.deindent(s),c.push("}");const{code:u,map:d}=c.context();return{ast:e,code:u,map:d?d.toJSON():void 0}};function P(e,t={}){const n=Object(r["a"])({},t),i=T(n),a=i.parse(e);return A(a,n),x(a,n)}
/*!
  * devtools-if v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const N={I18nInit:"i18n:init",FunctionTranslate:"function:translate"},F=[];
/*!
  * core-base v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */F[0]={["w"]:[0],["i"]:[3,0],["["]:[4],["o"]:[7]},F[1]={["w"]:[1],["."]:[2],["["]:[4],["o"]:[7]},F[2]={["w"]:[2],["i"]:[3,0],["0"]:[3,0]},F[3]={["i"]:[3,0],["0"]:[3,0],["w"]:[1,1],["."]:[2,1],["["]:[4,1],["o"]:[7,1]},F[4]={["'"]:[5,0],['"']:[6,0],["["]:[4,2],["]"]:[1,3],["o"]:8,["l"]:[4,0]},F[5]={["'"]:[4,0],["o"]:8,["l"]:[5,0]},F[6]={['"']:[4,0],["o"]:8,["l"]:[6,0]};const M=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function B(e){return M.test(e)}function U(e){const t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t!==n||34!==t&&39!==t?e:e.slice(1,-1)}function V(e){if(void 0===e||null===e)return"o";const t=e.charCodeAt(0);switch(t){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function G(e){const t=e.trim();return("0"!==e.charAt(0)||!isNaN(parseInt(e)))&&(B(t)?U(t):"*"+t)}function H(e){const t=[];let n,r,i,a,o,s,l,c=-1,u=0,d=0;const f=[];function h(){const t=e[c+1];if(5===u&&"'"===t||6===u&&'"'===t)return c++,i="\\"+t,f[0](),!0}f[0]=()=>{void 0===r?r=i:r+=i},f[1]=()=>{void 0!==r&&(t.push(r),r=void 0)},f[2]=()=>{f[0](),d++},f[3]=()=>{if(d>0)d--,u=4,f[0]();else{if(d=0,void 0===r)return!1;if(r=G(r),!1===r)return!1;f[1]()}};while(null!==u)if(c++,n=e[c],"\\"!==n||!h()){if(a=V(n),l=F[u],o=l[a]||l["l"]||8,8===o)return;if(u=o[0],void 0!==o[1]&&(s=f[o[1]],s&&(i=n,!1===s())))return;if(7===u)return t}}const K=new Map;function W(e,t){return Object(r["n"])(e)?e[t]:null}function q(e,t){if(!Object(r["n"])(e))return null;let n=K.get(t);if(n||(n=H(t),n&&K.set(t,n)),!n)return null;const i=n.length;let a=e,o=0;while(o<i){const e=a[n[o]];if(void 0===e)return null;a=e,o++}return a}const Y=e=>e,$=e=>"",z="text",X=e=>0===e.length?"":e.join(""),J=r["s"];function Q(e,t){return e=Math.abs(e),2===t?e?e>1?1:0:1:e?Math.min(e,2):0}function Z(e){const t=Object(r["m"])(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(Object(r["m"])(e.named.count)||Object(r["m"])(e.named.n))?Object(r["m"])(e.named.count)?e.named.count:Object(r["m"])(e.named.n)?e.named.n:t:t}function ee(e,t){t.count||(t.count=e),t.n||(t.n=e)}function te(e={}){const t=e.locale,n=Z(e),i=Object(r["n"])(e.pluralRules)&&Object(r["q"])(t)&&Object(r["l"])(e.pluralRules[t])?e.pluralRules[t]:Q,a=Object(r["n"])(e.pluralRules)&&Object(r["q"])(t)&&Object(r["l"])(e.pluralRules[t])?Q:void 0,o=e=>e[i(n,e.length,a)],s=e.list||[],l=e=>s[e],c=e.named||{};Object(r["m"])(e.pluralIndex)&&ee(n,c);const u=e=>c[e];function d(t){const n=Object(r["l"])(e.messages)?e.messages(t):!!Object(r["n"])(e.messages)&&e.messages[t];return n||(e.parent?e.parent.message(t):$)}const f=t=>e.modifiers?e.modifiers[t]:Y,h=Object(r["o"])(e.processor)&&Object(r["l"])(e.processor.normalize)?e.processor.normalize:X,p=Object(r["o"])(e.processor)&&Object(r["l"])(e.processor.interpolate)?e.processor.interpolate:J,g=Object(r["o"])(e.processor)&&Object(r["q"])(e.processor.type)?e.processor.type:z,v=(e,...t)=>{const[n,i]=t;let a="text",o="";1===t.length?Object(r["n"])(n)?(o=n.modifier||o,a=n.type||a):Object(r["q"])(n)&&(o=n||o):2===t.length&&(Object(r["q"])(n)&&(o=n||o),Object(r["q"])(i)&&(a=i||a));let s=d(e)(m);return"vnode"===a&&Object(r["h"])(s)&&o&&(s=s[0]),o?f(o)(s,a):s},m={["list"]:l,["named"]:u,["plural"]:o,["linked"]:v,["message"]:d,["type"]:g,["interpolate"]:p,["normalize"]:h};return m}let ne=null;function re(e){ne=e}function ie(e,t,n){ne&&ne.emit(N.I18nInit,{timestamp:Date.now(),i18n:e,version:t,meta:n})}const ae=oe(N.FunctionTranslate);function oe(e){return t=>ne&&ne.emit(e,t)}const se={NOT_FOUND_KEY:1,FALLBACK_TO_TRANSLATE:2,CANNOT_FORMAT_NUMBER:3,FALLBACK_TO_NUMBER_FORMAT:4,CANNOT_FORMAT_DATE:5,FALLBACK_TO_DATE_FORMAT:6,__EXTEND_POINT__:7};se.NOT_FOUND_KEY,se.FALLBACK_TO_TRANSLATE,se.CANNOT_FORMAT_NUMBER,se.FALLBACK_TO_NUMBER_FORMAT,se.CANNOT_FORMAT_DATE,se.FALLBACK_TO_DATE_FORMAT;function le(e,t,n){return[...new Set([n,...Object(r["h"])(t)?t:Object(r["n"])(t)?Object.keys(t):Object(r["q"])(t)?[t]:[n]])]}function ce(e,t,n){const i=Object(r["q"])(n)?n:ge,a=e;a.__localeChainCache||(a.__localeChainCache=new Map);let o=a.__localeChainCache.get(i);if(!o){o=[];let e=[n];while(Object(r["h"])(e))e=ue(o,e,t);const s=Object(r["h"])(t)||!Object(r["o"])(t)?t:t["default"]?t["default"]:null;e=Object(r["q"])(s)?[s]:s,Object(r["h"])(e)&&ue(o,e,!1),a.__localeChainCache.set(i,o)}return o}function ue(e,t,n){let i=!0;for(let a=0;a<t.length&&Object(r["i"])(i);a++){const o=t[a];Object(r["q"])(o)&&(i=de(e,t[a],n))}return i}function de(e,t,n){let r;const i=t.split("-");do{const t=i.join("-");r=fe(e,t,n),i.splice(-1,1)}while(i.length&&!0===r);return r}function fe(e,t,n){let i=!1;if(!e.includes(t)&&(i=!0,t)){i="!"!==t[t.length-1];const a=t.replace(/!/g,"");e.push(a),(Object(r["h"])(n)||Object(r["o"])(n))&&n[a]&&(i=n[a])}return i}const he="9.2.2",pe=-1,ge="en-US",ve="",me=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function be(){return{upper:(e,t)=>"text"===t&&Object(r["q"])(e)?e.toUpperCase():"vnode"===t&&Object(r["n"])(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>"text"===t&&Object(r["q"])(e)?e.toLowerCase():"vnode"===t&&Object(r["n"])(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>"text"===t&&Object(r["q"])(e)?me(e):"vnode"===t&&Object(r["n"])(e)&&"__v_isVNode"in e?me(e.children):e}}let ye,Ee,Oe;function Te(e){ye=e}function _e(e){Ee=e}function Se(e){Oe=e}let ke=null;const Le=e=>{ke=e},Ae=()=>ke;let we=null;const Ce=e=>{we=e},je=()=>we;let De=0;function Re(e={}){const t=Object(r["q"])(e.version)?e.version:he,n=Object(r["q"])(e.locale)?e.locale:ge,i=Object(r["h"])(e.fallbackLocale)||Object(r["o"])(e.fallbackLocale)||Object(r["q"])(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:n,a=Object(r["o"])(e.messages)?e.messages:{[n]:{}},o=Object(r["o"])(e.datetimeFormats)?e.datetimeFormats:{[n]:{}},s=Object(r["o"])(e.numberFormats)?e.numberFormats:{[n]:{}},l=Object(r["a"])({},e.modifiers||{},be()),c=e.pluralRules||{},u=Object(r["l"])(e.missing)?e.missing:null,d=!Object(r["i"])(e.missingWarn)&&!Object(r["p"])(e.missingWarn)||e.missingWarn,f=!Object(r["i"])(e.fallbackWarn)&&!Object(r["p"])(e.fallbackWarn)||e.fallbackWarn,h=!!e.fallbackFormat,p=!!e.unresolving,g=Object(r["l"])(e.postTranslation)?e.postTranslation:null,v=Object(r["o"])(e.processor)?e.processor:null,m=!Object(r["i"])(e.warnHtmlMessage)||e.warnHtmlMessage,b=!!e.escapeParameter,y=Object(r["l"])(e.messageCompiler)?e.messageCompiler:ye,E=Object(r["l"])(e.messageResolver)?e.messageResolver:Ee||W,O=Object(r["l"])(e.localeFallbacker)?e.localeFallbacker:Oe||le,T=Object(r["n"])(e.fallbackContext)?e.fallbackContext:void 0,_=Object(r["l"])(e.onWarn)?e.onWarn:r["t"],S=e,k=Object(r["n"])(S.__datetimeFormatters)?S.__datetimeFormatters:new Map,L=Object(r["n"])(S.__numberFormatters)?S.__numberFormatters:new Map,A=Object(r["n"])(S.__meta)?S.__meta:{};De++;const w={version:t,cid:De,locale:n,fallbackLocale:i,messages:a,modifiers:l,pluralRules:c,missing:u,missingWarn:d,fallbackWarn:f,fallbackFormat:h,unresolving:p,postTranslation:g,processor:v,warnHtmlMessage:m,escapeParameter:b,messageCompiler:y,messageResolver:E,localeFallbacker:O,fallbackContext:T,onWarn:_,__meta:A};return w.datetimeFormats=o,w.numberFormats=s,w.__datetimeFormatters=k,w.__numberFormatters=L,__INTLIFY_PROD_DEVTOOLS__&&ie(w,t,A),w}function Ie(e,t,n,i,a){const{missing:o,onWarn:s}=e;if(null!==o){const i=o(e,n,t,a);return Object(r["q"])(i)?i:t}return t}function xe(e,t,n){const r=e;r.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}const Pe=e=>e;let Ne=Object.create(null);function Fe(e,t={}){{const n=t.onCacheKey||Pe,r=n(e),i=Ne[r];if(i)return i;let a=!1;const s=t.onError||o;t.onError=e=>{a=!0,s(e)};const{code:l}=P(e,t),c=new Function("return "+l)();return a?c:Ne[r]=c}}let Me=i.__EXTEND_POINT__;const Be=()=>++Me,Ue={INVALID_ARGUMENT:Me,INVALID_DATE_ARGUMENT:Be(),INVALID_ISO_DATE_ARGUMENT:Be(),__EXTEND_POINT__:Be()};function Ve(e){return a(e,null,void 0)}Ue.INVALID_ARGUMENT,Ue.INVALID_DATE_ARGUMENT,Ue.INVALID_ISO_DATE_ARGUMENT;const Ge=()=>"",He=e=>Object(r["l"])(e);function Ke(e,...t){const{fallbackFormat:n,postTranslation:i,unresolving:a,messageCompiler:o,fallbackLocale:s,messages:l}=e,[c,u]=ze(...t),d=Object(r["i"])(u.missingWarn)?u.missingWarn:e.missingWarn,f=Object(r["i"])(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn,h=Object(r["i"])(u.escapeParameter)?u.escapeParameter:e.escapeParameter,p=!!u.resolvedMessage,g=Object(r["q"])(u.default)||Object(r["i"])(u.default)?Object(r["i"])(u.default)?o?c:()=>c:u.default:n?o?c:()=>c:"",v=n||""!==g,m=Object(r["q"])(u.locale)?u.locale:e.locale;h&&We(u);let[b,y,E]=p?[c,m,l[m]||{}]:qe(e,c,m,s,f,d),O=b,T=c;if(p||Object(r["q"])(O)||He(O)||v&&(O=g,T=O),!p&&(!Object(r["q"])(O)&&!He(O)||!Object(r["q"])(y)))return a?pe:c;let _=!1;const S=()=>{_=!0},k=He(O)?O:Ye(e,c,y,O,T,S);if(_)return O;const L=Je(e,y,E,u),A=te(L),w=$e(e,k,A),C=i?i(w,c):w;if(__INTLIFY_PROD_DEVTOOLS__){const t={timestamp:Date.now(),key:Object(r["q"])(c)?c:He(O)?O.key:"",locale:y||(He(O)?O.locale:""),format:Object(r["q"])(O)?O:He(O)?O.source:"",message:C};t.meta=Object(r["a"])({},e.__meta,Ae()||{}),ae(t)}return C}function We(e){Object(r["h"])(e.list)?e.list=e.list.map(e=>Object(r["q"])(e)?Object(r["b"])(e):e):Object(r["n"])(e.named)&&Object.keys(e.named).forEach(t=>{Object(r["q"])(e.named[t])&&(e.named[t]=Object(r["b"])(e.named[t]))})}function qe(e,t,n,i,a,o){const{messages:s,onWarn:l,messageResolver:c,localeFallbacker:u}=e,d=u(e,i,n);let f,h={},p=null,g=n,v=null;const m="translate";for(let b=0;b<d.length;b++){f=v=d[b],h=s[f]||{};if(null===(p=c(h,t))&&(p=h[t]),Object(r["q"])(p)||Object(r["l"])(p))break;const n=Ie(e,t,f,o,m);n!==t&&(p=n),g=v}return[p,f,h]}function Ye(e,t,n,r,i,a){const{messageCompiler:o,warnHtmlMessage:s}=e;if(He(r)){const e=r;return e.locale=e.locale||n,e.key=e.key||t,e}if(null==o){const e=()=>r;return e.locale=n,e.key=t,e}const l=o(r,Xe(e,n,i,r,s,a));return l.locale=n,l.key=t,l.source=r,l}function $e(e,t,n){const r=t(n);return r}function ze(...e){const[t,n,i]=e,a={};if(!Object(r["q"])(t)&&!Object(r["m"])(t)&&!He(t))throw Ve(Ue.INVALID_ARGUMENT);const o=Object(r["m"])(t)?String(t):(He(t),t);return Object(r["m"])(n)?a.plural=n:Object(r["q"])(n)?a.default=n:Object(r["o"])(n)&&!Object(r["k"])(n)?a.named=n:Object(r["h"])(n)&&(a.list=n),Object(r["m"])(i)?a.plural=i:Object(r["q"])(i)?a.default=i:Object(r["o"])(i)&&Object(r["a"])(a,i),[o,a]}function Xe(e,t,n,i,a,o){return{warnHtmlMessage:a,onError:e=>{throw o&&o(e),e},onCacheKey:e=>Object(r["d"])(t,n,e)}}function Je(e,t,n,i){const{modifiers:a,pluralRules:o,messageResolver:s,fallbackLocale:l,fallbackWarn:c,missingWarn:u,fallbackContext:d}=e,f=i=>{let a=s(n,i);if(null==a&&d){const[,,e]=qe(d,i,t,l,c,u);a=s(e,i)}if(Object(r["q"])(a)){let n=!1;const r=()=>{n=!0},o=Ye(e,i,t,a,i,r);return n?Ge:o}return He(a)?a:Ge},h={locale:t,modifiers:a,pluralRules:o,messages:f};return e.processor&&(h.processor=e.processor),i.list&&(h.list=i.list),i.named&&(h.named=i.named),Object(r["m"])(i.plural)&&(h.pluralIndex=i.plural),h}const Qe="undefined"!==typeof Intl;Qe&&Intl.DateTimeFormat,Qe&&Intl.NumberFormat;function Ze(e,...t){const{datetimeFormats:n,unresolving:i,fallbackLocale:a,onWarn:o,localeFallbacker:s}=e,{__datetimeFormatters:l}=e;const[c,u,d,f]=tt(...t),h=Object(r["i"])(d.missingWarn)?d.missingWarn:e.missingWarn,p=(Object(r["i"])(d.fallbackWarn)?d.fallbackWarn:e.fallbackWarn,!!d.part),g=Object(r["q"])(d.locale)?d.locale:e.locale,v=s(e,a,g);if(!Object(r["q"])(c)||""===c)return new Intl.DateTimeFormat(g,f).format(u);let m,b={},y=null,E=g,O=null;const T="datetime format";for(let k=0;k<v.length;k++){if(m=O=v[k],b=n[m]||{},y=b[c],Object(r["o"])(y))break;Ie(e,c,m,h,T),E=O}if(!Object(r["o"])(y)||!Object(r["q"])(m))return i?pe:c;let _=`${m}__${c}`;Object(r["k"])(f)||(_=`${_}__${JSON.stringify(f)}`);let S=l.get(_);return S||(S=new Intl.DateTimeFormat(m,Object(r["a"])({},y,f)),l.set(_,S)),p?S.formatToParts(u):S.format(u)}const et=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function tt(...e){const[t,n,i,a]=e,o={};let s,l={};if(Object(r["q"])(t)){const e=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!e)throw Ve(Ue.INVALID_ISO_DATE_ARGUMENT);const n=e[3]?e[3].trim().startsWith("T")?`${e[1].trim()}${e[3].trim()}`:`${e[1].trim()}T${e[3].trim()}`:e[1].trim();s=new Date(n);try{s.toISOString()}catch(c){throw Ve(Ue.INVALID_ISO_DATE_ARGUMENT)}}else if(Object(r["j"])(t)){if(isNaN(t.getTime()))throw Ve(Ue.INVALID_DATE_ARGUMENT);s=t}else{if(!Object(r["m"])(t))throw Ve(Ue.INVALID_ARGUMENT);s=t}return Object(r["q"])(n)?o.key=n:Object(r["o"])(n)&&Object.keys(n).forEach(e=>{et.includes(e)?l[e]=n[e]:o[e]=n[e]}),Object(r["q"])(i)?o.locale=i:Object(r["o"])(i)&&(l=i),Object(r["o"])(a)&&(l=a),[o.key||"",s,o,l]}function nt(e,t,n){const r=e;for(const i in n){const e=`${t}__${i}`;r.__datetimeFormatters.has(e)&&r.__datetimeFormatters.delete(e)}}function rt(e,...t){const{numberFormats:n,unresolving:i,fallbackLocale:a,onWarn:o,localeFallbacker:s}=e,{__numberFormatters:l}=e;const[c,u,d,f]=at(...t),h=Object(r["i"])(d.missingWarn)?d.missingWarn:e.missingWarn,p=(Object(r["i"])(d.fallbackWarn)?d.fallbackWarn:e.fallbackWarn,!!d.part),g=Object(r["q"])(d.locale)?d.locale:e.locale,v=s(e,a,g);if(!Object(r["q"])(c)||""===c)return new Intl.NumberFormat(g,f).format(u);let m,b={},y=null,E=g,O=null;const T="number format";for(let k=0;k<v.length;k++){if(m=O=v[k],b=n[m]||{},y=b[c],Object(r["o"])(y))break;Ie(e,c,m,h,T),E=O}if(!Object(r["o"])(y)||!Object(r["q"])(m))return i?pe:c;let _=`${m}__${c}`;Object(r["k"])(f)||(_=`${_}__${JSON.stringify(f)}`);let S=l.get(_);return S||(S=new Intl.NumberFormat(m,Object(r["a"])({},y,f)),l.set(_,S)),p?S.formatToParts(u):S.format(u)}const it=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function at(...e){const[t,n,i,a]=e,o={};let s={};if(!Object(r["m"])(t))throw Ve(Ue.INVALID_ARGUMENT);const l=t;return Object(r["q"])(n)?o.key=n:Object(r["o"])(n)&&Object.keys(n).forEach(e=>{it.includes(e)?s[e]=n[e]:o[e]=n[e]}),Object(r["q"])(i)?o.locale=i:Object(r["o"])(i)&&(s=i),Object(r["o"])(a)&&(s=a),[o.key||"",l,o,s]}function ot(e,t,n){const r=e;for(const i in n){const e=`${t}__${i}`;r.__numberFormatters.has(e)&&r.__numberFormatters.delete(e)}}"boolean"!==typeof __INTLIFY_PROD_DEVTOOLS__&&(Object(r["e"])().__INTLIFY_PROD_DEVTOOLS__=!1);var st=n("7a23");n("3f4e");
/*!
  * vue-devtools v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */
const lt="9.2.2";function ct(){let e=!1;"boolean"!==typeof __VUE_I18N_FULL_INSTALL__&&(e=!0,Object(r["e"])().__VUE_I18N_FULL_INSTALL__=!0),"boolean"!==typeof __VUE_I18N_LEGACY_API__&&(e=!0,Object(r["e"])().__VUE_I18N_LEGACY_API__=!0),"boolean"!==typeof __INTLIFY_PROD_DEVTOOLS__&&(Object(r["e"])().__INTLIFY_PROD_DEVTOOLS__=!1)}let ut=se.__EXTEND_POINT__;const dt=()=>++ut,ft={FALLBACK_TO_ROOT:ut,NOT_SUPPORTED_PRESERVE:dt(),NOT_SUPPORTED_FORMATTER:dt(),NOT_SUPPORTED_PRESERVE_DIRECTIVE:dt(),NOT_SUPPORTED_GET_CHOICE_INDEX:dt(),COMPONENT_NAME_LEGACY_COMPATIBLE:dt(),NOT_FOUND_PARENT_SCOPE:dt()};ft.FALLBACK_TO_ROOT,ft.NOT_SUPPORTED_PRESERVE,ft.NOT_SUPPORTED_FORMATTER,ft.NOT_SUPPORTED_PRESERVE_DIRECTIVE,ft.NOT_SUPPORTED_GET_CHOICE_INDEX,ft.COMPONENT_NAME_LEGACY_COMPATIBLE,ft.NOT_FOUND_PARENT_SCOPE;let ht=i.__EXTEND_POINT__;const pt=()=>++ht,gt={UNEXPECTED_RETURN_TYPE:ht,INVALID_ARGUMENT:pt(),MUST_BE_CALL_SETUP_TOP:pt(),NOT_INSLALLED:pt(),NOT_AVAILABLE_IN_LEGACY_MODE:pt(),REQUIRED_VALUE:pt(),INVALID_VALUE:pt(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:pt(),NOT_INSLALLED_WITH_PROVIDE:pt(),UNEXPECTED_ERROR:pt(),NOT_COMPATIBLE_LEGACY_VUE_I18N:pt(),BRIDGE_SUPPORT_VUE_2_ONLY:pt(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:pt(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:pt(),__EXTEND_POINT__:pt()};function vt(e,...t){return a(e,null,void 0)}gt.UNEXPECTED_RETURN_TYPE,gt.INVALID_ARGUMENT,gt.MUST_BE_CALL_SETUP_TOP,gt.NOT_INSLALLED,gt.UNEXPECTED_ERROR,gt.NOT_AVAILABLE_IN_LEGACY_MODE,gt.REQUIRED_VALUE,gt.INVALID_VALUE,gt.CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN,gt.NOT_INSLALLED_WITH_PROVIDE,gt.NOT_COMPATIBLE_LEGACY_VUE_I18N,gt.BRIDGE_SUPPORT_VUE_2_ONLY,gt.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION,gt.NOT_AVAILABLE_COMPOSITION_IN_LEGACY;const mt=Object(r["r"])("__transrateVNode"),bt=Object(r["r"])("__datetimeParts"),yt=Object(r["r"])("__numberParts"),Et=Object(r["r"])("__setPluralRules");Object(r["r"])("__intlifyMeta");const Ot=Object(r["r"])("__injectWithOption");function Tt(e){if(!Object(r["n"])(e))return e;for(const t in e)if(Object(r["f"])(e,t))if(t.includes(".")){const n=t.split("."),i=n.length-1;let a=e;for(let e=0;e<i;e++)n[e]in a||(a[n[e]]={}),a=a[n[e]];a[n[i]]=e[t],delete e[t],Object(r["n"])(a[n[i]])&&Tt(a[n[i]])}else Object(r["n"])(e[t])&&Tt(e[t]);return e}function _t(e,t){const{messages:n,__i18n:i,messageResolver:a,flatJson:o}=t,s=Object(r["o"])(n)?n:Object(r["h"])(i)?{}:{[e]:{}};if(Object(r["h"])(i)&&i.forEach(e=>{if("locale"in e&&"resource"in e){const{locale:t,resource:n}=e;t?(s[t]=s[t]||{},kt(n,s[t])):kt(n,s)}else Object(r["q"])(e)&&kt(JSON.parse(e),s)}),null==a&&o)for(const l in s)Object(r["f"])(s,l)&&Tt(s[l]);return s}const St=e=>!Object(r["n"])(e)||Object(r["h"])(e);function kt(e,t){if(St(e)||St(t))throw vt(gt.INVALID_VALUE);for(const n in e)Object(r["f"])(e,n)&&(St(e[n])||St(t[n])?t[n]=e[n]:kt(e[n],t[n]))}function Lt(e){return e.type}function At(e,t,n){let i=Object(r["n"])(t.messages)?t.messages:{};"__i18nGlobal"in n&&(i=_t(e.locale.value,{messages:i,__i18n:n.__i18nGlobal}));const a=Object.keys(i);if(a.length&&a.forEach(t=>{e.mergeLocaleMessage(t,i[t])}),Object(r["n"])(t.datetimeFormats)){const n=Object.keys(t.datetimeFormats);n.length&&n.forEach(n=>{e.mergeDateTimeFormat(n,t.datetimeFormats[n])})}if(Object(r["n"])(t.numberFormats)){const n=Object.keys(t.numberFormats);n.length&&n.forEach(n=>{e.mergeNumberFormat(n,t.numberFormats[n])})}}function wt(e){return Object(st["createVNode"])(st["Text"],null,e,0)}const Ct="__INTLIFY_META__";let jt=0;function Dt(e){return(t,n,r,i)=>e(n,r,Object(st["getCurrentInstance"])()||void 0,i)}const Rt=()=>{const e=Object(st["getCurrentInstance"])();let t=null;return e&&(t=Lt(e)[Ct])?{[Ct]:t}:null};function It(e={},t){const{__root:n}=e,i=void 0===n;let a=!Object(r["i"])(e.inheritLocale)||e.inheritLocale;const o=Object(st["ref"])(n&&a?n.locale.value:Object(r["q"])(e.locale)?e.locale:ge),s=Object(st["ref"])(n&&a?n.fallbackLocale.value:Object(r["q"])(e.fallbackLocale)||Object(r["h"])(e.fallbackLocale)||Object(r["o"])(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:o.value),l=Object(st["ref"])(_t(o.value,e)),c=Object(st["ref"])(Object(r["o"])(e.datetimeFormats)?e.datetimeFormats:{[o.value]:{}}),u=Object(st["ref"])(Object(r["o"])(e.numberFormats)?e.numberFormats:{[o.value]:{}});let d=n?n.missingWarn:!Object(r["i"])(e.missingWarn)&&!Object(r["p"])(e.missingWarn)||e.missingWarn,f=n?n.fallbackWarn:!Object(r["i"])(e.fallbackWarn)&&!Object(r["p"])(e.fallbackWarn)||e.fallbackWarn,h=n?n.fallbackRoot:!Object(r["i"])(e.fallbackRoot)||e.fallbackRoot,p=!!e.fallbackFormat,g=Object(r["l"])(e.missing)?e.missing:null,v=Object(r["l"])(e.missing)?Dt(e.missing):null,m=Object(r["l"])(e.postTranslation)?e.postTranslation:null,b=n?n.warnHtmlMessage:!Object(r["i"])(e.warnHtmlMessage)||e.warnHtmlMessage,y=!!e.escapeParameter;const E=n?n.modifiers:Object(r["o"])(e.modifiers)?e.modifiers:{};let O,T=e.pluralRules||n&&n.pluralRules;const _=()=>{i&&Ce(null);const t={version:lt,locale:o.value,fallbackLocale:s.value,messages:l.value,modifiers:E,pluralRules:T,missing:null===v?void 0:v,missingWarn:d,fallbackWarn:f,fallbackFormat:p,unresolving:!0,postTranslation:null===m?void 0:m,warnHtmlMessage:b,escapeParameter:y,messageResolver:e.messageResolver,__meta:{framework:"vue"}};t.datetimeFormats=c.value,t.numberFormats=u.value,t.__datetimeFormatters=Object(r["o"])(O)?O.__datetimeFormatters:void 0,t.__numberFormatters=Object(r["o"])(O)?O.__numberFormatters:void 0;const n=Re(t);return i&&Ce(n),n};function S(){return[o.value,s.value,l.value,c.value,u.value]}O=_(),xe(O,o.value,s.value);const k=Object(st["computed"])({get:()=>o.value,set:e=>{o.value=e,O.locale=o.value}}),L=Object(st["computed"])({get:()=>s.value,set:e=>{s.value=e,O.fallbackLocale=s.value,xe(O,o.value,e)}}),A=Object(st["computed"])(()=>l.value),w=Object(st["computed"])(()=>c.value),C=Object(st["computed"])(()=>u.value);function j(){return Object(r["l"])(m)?m:null}function D(e){m=e,O.postTranslation=e}function R(){return g}function I(e){null!==e&&(v=Dt(e)),g=e,O.missing=v}const x=(e,t,a,o,s,l)=>{let c;if(S(),__INTLIFY_PROD_DEVTOOLS__)try{Le(Rt()),i||(O.fallbackContext=n?je():void 0),c=e(O)}finally{Le(null),i||(O.fallbackContext=void 0)}else c=e(O);if(Object(r["m"])(c)&&c===pe){const[e,r]=t();return n&&h?o(n):s(e)}if(l(c))return c;throw vt(gt.UNEXPECTED_RETURN_TYPE)};function P(...e){return x(t=>Reflect.apply(Ke,null,[t,...e]),()=>ze(...e),"translate",t=>Reflect.apply(t.t,t,[...e]),e=>e,e=>Object(r["q"])(e))}function N(...e){const[t,n,i]=e;if(i&&!Object(r["n"])(i))throw vt(gt.INVALID_ARGUMENT);return P(t,n,Object(r["a"])({resolvedMessage:!0},i||{}))}function F(...e){return x(t=>Reflect.apply(Ze,null,[t,...e]),()=>tt(...e),"datetime format",t=>Reflect.apply(t.d,t,[...e]),()=>ve,e=>Object(r["q"])(e))}function M(...e){return x(t=>Reflect.apply(rt,null,[t,...e]),()=>at(...e),"number format",t=>Reflect.apply(t.n,t,[...e]),()=>ve,e=>Object(r["q"])(e))}function B(e){return e.map(e=>Object(r["q"])(e)||Object(r["m"])(e)||Object(r["i"])(e)?wt(String(e)):e)}const U=e=>e,V={normalize:B,interpolate:U,type:"vnode"};function G(...e){return x(t=>{let n;const r=t;try{r.processor=V,n=Reflect.apply(Ke,null,[r,...e])}finally{r.processor=null}return n},()=>ze(...e),"translate",t=>t[mt](...e),e=>[wt(e)],e=>Object(r["h"])(e))}function H(...e){return x(t=>Reflect.apply(rt,null,[t,...e]),()=>at(...e),"number format",t=>t[yt](...e),()=>[],e=>Object(r["q"])(e)||Object(r["h"])(e))}function K(...e){return x(t=>Reflect.apply(Ze,null,[t,...e]),()=>tt(...e),"datetime format",t=>t[bt](...e),()=>[],e=>Object(r["q"])(e)||Object(r["h"])(e))}function W(e){T=e,O.pluralRules=T}function q(e,t){const n=Object(r["q"])(t)?t:o.value,i=z(n);return null!==O.messageResolver(i,e)}function Y(e){let t=null;const n=ce(O,s.value,o.value);for(let r=0;r<n.length;r++){const i=l.value[n[r]]||{},a=O.messageResolver(i,e);if(null!=a){t=a;break}}return t}function $(e){const t=Y(e);return null!=t?t:n&&n.tm(e)||{}}function z(e){return l.value[e]||{}}function X(e,t){l.value[e]=t,O.messages=l.value}function J(e,t){l.value[e]=l.value[e]||{},kt(t,l.value[e]),O.messages=l.value}function Q(e){return c.value[e]||{}}function Z(e,t){c.value[e]=t,O.datetimeFormats=c.value,nt(O,e,t)}function ee(e,t){c.value[e]=Object(r["a"])(c.value[e]||{},t),O.datetimeFormats=c.value,nt(O,e,t)}function te(e){return u.value[e]||{}}function ne(e,t){u.value[e]=t,O.numberFormats=u.value,ot(O,e,t)}function re(e,t){u.value[e]=Object(r["a"])(u.value[e]||{},t),O.numberFormats=u.value,ot(O,e,t)}jt++,n&&r["g"]&&(Object(st["watch"])(n.locale,e=>{a&&(o.value=e,O.locale=e,xe(O,o.value,s.value))}),Object(st["watch"])(n.fallbackLocale,e=>{a&&(s.value=e,O.fallbackLocale=e,xe(O,o.value,s.value))}));const ie={id:jt,locale:k,fallbackLocale:L,get inheritLocale(){return a},set inheritLocale(e){a=e,e&&n&&(o.value=n.locale.value,s.value=n.fallbackLocale.value,xe(O,o.value,s.value))},get availableLocales(){return Object.keys(l.value).sort()},messages:A,get modifiers(){return E},get pluralRules(){return T||{}},get isGlobal(){return i},get missingWarn(){return d},set missingWarn(e){d=e,O.missingWarn=d},get fallbackWarn(){return f},set fallbackWarn(e){f=e,O.fallbackWarn=f},get fallbackRoot(){return h},set fallbackRoot(e){h=e},get fallbackFormat(){return p},set fallbackFormat(e){p=e,O.fallbackFormat=p},get warnHtmlMessage(){return b},set warnHtmlMessage(e){b=e,O.warnHtmlMessage=e},get escapeParameter(){return y},set escapeParameter(e){y=e,O.escapeParameter=e},t:P,getLocaleMessage:z,setLocaleMessage:X,mergeLocaleMessage:J,getPostTranslationHandler:j,setPostTranslationHandler:D,getMissingHandler:R,setMissingHandler:I,[Et]:W};return ie.datetimeFormats=w,ie.numberFormats=C,ie.rt=N,ie.te=q,ie.tm=$,ie.d=F,ie.n=M,ie.getDateTimeFormat=Q,ie.setDateTimeFormat=Z,ie.mergeDateTimeFormat=ee,ie.getNumberFormat=te,ie.setNumberFormat=ne,ie.mergeNumberFormat=re,ie[Ot]=e.__injectWithOption,ie[mt]=G,ie[bt]=K,ie[yt]=H,ie}function xt(e){const t=Object(r["q"])(e.locale)?e.locale:ge,n=Object(r["q"])(e.fallbackLocale)||Object(r["h"])(e.fallbackLocale)||Object(r["o"])(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:t,i=Object(r["l"])(e.missing)?e.missing:void 0,a=!Object(r["i"])(e.silentTranslationWarn)&&!Object(r["p"])(e.silentTranslationWarn)||!e.silentTranslationWarn,o=!Object(r["i"])(e.silentFallbackWarn)&&!Object(r["p"])(e.silentFallbackWarn)||!e.silentFallbackWarn,s=!Object(r["i"])(e.fallbackRoot)||e.fallbackRoot,l=!!e.formatFallbackMessages,c=Object(r["o"])(e.modifiers)?e.modifiers:{},u=e.pluralizationRules,d=Object(r["l"])(e.postTranslation)?e.postTranslation:void 0,f=!Object(r["q"])(e.warnHtmlInMessage)||"off"!==e.warnHtmlInMessage,h=!!e.escapeParameterHtml,p=!Object(r["i"])(e.sync)||e.sync;let g=e.messages;if(Object(r["o"])(e.sharedMessages)){const t=e.sharedMessages,n=Object.keys(t);g=n.reduce((e,n)=>{const i=e[n]||(e[n]={});return Object(r["a"])(i,t[n]),e},g||{})}const{__i18n:v,__root:m,__injectWithOption:b}=e,y=e.datetimeFormats,E=e.numberFormats,O=e.flatJson;return{locale:t,fallbackLocale:n,messages:g,flatJson:O,datetimeFormats:y,numberFormats:E,missing:i,missingWarn:a,fallbackWarn:o,fallbackRoot:s,fallbackFormat:l,modifiers:c,pluralRules:u,postTranslation:d,warnHtmlMessage:f,escapeParameter:h,messageResolver:e.messageResolver,inheritLocale:p,__i18n:v,__root:m,__injectWithOption:b}}function Pt(e={},t){{const t=It(xt(e)),n={id:t.id,get locale(){return t.locale.value},set locale(e){t.locale.value=e},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(e){t.fallbackLocale.value=e},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(e){},get missing(){return t.getMissingHandler()},set missing(e){t.setMissingHandler(e)},get silentTranslationWarn(){return Object(r["i"])(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(e){t.missingWarn=Object(r["i"])(e)?!e:e},get silentFallbackWarn(){return Object(r["i"])(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(e){t.fallbackWarn=Object(r["i"])(e)?!e:e},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(e){t.fallbackFormat=e},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(e){t.setPostTranslationHandler(e)},get sync(){return t.inheritLocale},set sync(e){t.inheritLocale=e},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(e){t.warnHtmlMessage="off"!==e},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(e){t.escapeParameter=e},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(e){},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t(...e){const[n,i,a]=e,o={};let s=null,l=null;if(!Object(r["q"])(n))throw vt(gt.INVALID_ARGUMENT);const c=n;return Object(r["q"])(i)?o.locale=i:Object(r["h"])(i)?s=i:Object(r["o"])(i)&&(l=i),Object(r["h"])(a)?s=a:Object(r["o"])(a)&&(l=a),Reflect.apply(t.t,t,[c,s||l||{},o])},rt(...e){return Reflect.apply(t.rt,t,[...e])},tc(...e){const[n,i,a]=e,o={plural:1};let s=null,l=null;if(!Object(r["q"])(n))throw vt(gt.INVALID_ARGUMENT);const c=n;return Object(r["q"])(i)?o.locale=i:Object(r["m"])(i)?o.plural=i:Object(r["h"])(i)?s=i:Object(r["o"])(i)&&(l=i),Object(r["q"])(a)?o.locale=a:Object(r["h"])(a)?s=a:Object(r["o"])(a)&&(l=a),Reflect.apply(t.t,t,[c,s||l||{},o])},te(e,n){return t.te(e,n)},tm(e){return t.tm(e)},getLocaleMessage(e){return t.getLocaleMessage(e)},setLocaleMessage(e,n){t.setLocaleMessage(e,n)},mergeLocaleMessage(e,n){t.mergeLocaleMessage(e,n)},d(...e){return Reflect.apply(t.d,t,[...e])},getDateTimeFormat(e){return t.getDateTimeFormat(e)},setDateTimeFormat(e,n){t.setDateTimeFormat(e,n)},mergeDateTimeFormat(e,n){t.mergeDateTimeFormat(e,n)},n(...e){return Reflect.apply(t.n,t,[...e])},getNumberFormat(e){return t.getNumberFormat(e)},setNumberFormat(e,n){t.setNumberFormat(e,n)},mergeNumberFormat(e,n){t.mergeNumberFormat(e,n)},getChoiceIndex(e,t){return-1},__onComponentInstanceCreated(t){const{componentInstanceCreatedListener:r}=e;r&&r(t,n)}};return n}}const Nt={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>"parent"===e||"global"===e,default:"parent"},i18n:{type:Object}};function Ft({slots:e},t){if(1===t.length&&"default"===t[0]){const t=e.default?e.default():[];return t.reduce((e,t)=>[...e,...Object(r["h"])(t.children)?t.children:[t]],[])}return t.reduce((t,n)=>{const r=e[n];return r&&(t[n]=r()),t},{})}function Mt(e){return st["Fragment"]}const Bt={name:"i18n-t",props:Object(r["a"])({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>Object(r["m"])(e)||!isNaN(e)}},Nt),setup(e,t){const{slots:n,attrs:i}=t,a=e.i18n||Zt({useScope:e.scope,__useComponent:!0});return()=>{const o=Object.keys(n).filter(e=>"_"!==e),s={};e.locale&&(s.locale=e.locale),void 0!==e.plural&&(s.plural=Object(r["q"])(e.plural)?+e.plural:e.plural);const l=Ft(t,o),c=a[mt](e.keypath,l,s),u=Object(r["a"])({},i),d=Object(r["q"])(e.tag)||Object(r["n"])(e.tag)?e.tag:Mt();return Object(st["h"])(d,u,c)}}};function Ut(e){return Object(r["h"])(e)&&!Object(r["q"])(e[0])}function Vt(e,t,n,i){const{slots:a,attrs:o}=t;return()=>{const t={part:!0};let s={};e.locale&&(t.locale=e.locale),Object(r["q"])(e.format)?t.key=e.format:Object(r["n"])(e.format)&&(Object(r["q"])(e.format.key)&&(t.key=e.format.key),s=Object.keys(e.format).reduce((t,i)=>n.includes(i)?Object(r["a"])({},t,{[i]:e.format[i]}):t,{}));const l=i(e.value,t,s);let c=[t.key];Object(r["h"])(l)?c=l.map((e,t)=>{const n=a[e.type],r=n?n({[e.type]:e.value,index:t,parts:l}):[e.value];return Ut(r)&&(r[0].key=`${e.type}-${t}`),r}):Object(r["q"])(l)&&(c=[l]);const u=Object(r["a"])({},o),d=Object(r["q"])(e.tag)||Object(r["n"])(e.tag)?e.tag:Mt();return Object(st["h"])(d,u,c)}}const Gt={name:"i18n-n",props:Object(r["a"])({value:{type:Number,required:!0},format:{type:[String,Object]}},Nt),setup(e,t){const n=e.i18n||Zt({useScope:"parent",__useComponent:!0});return Vt(e,t,it,(...e)=>n[yt](...e))}},Ht={name:"i18n-d",props:Object(r["a"])({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Nt),setup(e,t){const n=e.i18n||Zt({useScope:"parent",__useComponent:!0});return Vt(e,t,et,(...e)=>n[bt](...e))}};function Kt(e,t){const n=e;if("composition"===e.mode)return n.__getInstance(t)||e.global;{const r=n.__getInstance(t);return null!=r?r.__composer:e.global.__composer}}function Wt(e){const t=t=>{const{instance:n,modifiers:r,value:i}=t;if(!n||!n.$)throw vt(gt.UNEXPECTED_ERROR);const a=Kt(e,n.$);const o=qt(i);return[Reflect.apply(a.t,a,[...Yt(o)]),a]},n=(n,i)=>{const[a,o]=t(i);r["g"]&&e.global===o&&(n.__i18nWatcher=Object(st["watch"])(o.locale,()=>{i.instance&&i.instance.$forceUpdate()})),n.__composer=o,n.textContent=a},i=e=>{r["g"]&&e.__i18nWatcher&&(e.__i18nWatcher(),e.__i18nWatcher=void 0,delete e.__i18nWatcher),e.__composer&&(e.__composer=void 0,delete e.__composer)},a=(e,{value:t})=>{if(e.__composer){const n=e.__composer,r=qt(t);e.textContent=Reflect.apply(n.t,n,[...Yt(r)])}},o=e=>{const[n]=t(e);return{textContent:n}};return{created:n,unmounted:i,beforeUpdate:a,getSSRProps:o}}function qt(e){if(Object(r["q"])(e))return{path:e};if(Object(r["o"])(e)){if(!("path"in e))throw vt(gt.REQUIRED_VALUE,"path");return e}throw vt(gt.INVALID_VALUE)}function Yt(e){const{path:t,locale:n,args:i,choice:a,plural:o}=e,s={},l=i||{};return Object(r["q"])(n)&&(s.locale=n),Object(r["m"])(a)&&(s.plural=a),Object(r["m"])(o)&&(s.plural=o),[t,l,s]}function $t(e,t,...n){const i=Object(r["o"])(n[0])?n[0]:{},a=!!i.useI18nComponentName,o=!Object(r["i"])(i.globalInstall)||i.globalInstall;o&&(e.component(a?"i18n":Bt.name,Bt),e.component(Gt.name,Gt),e.component(Ht.name,Ht)),e.directive("t",Wt(t))}function zt(e,t,n){return{beforeCreate(){const r=Object(st["getCurrentInstance"])();if(!r)throw vt(gt.UNEXPECTED_ERROR);const i=this.$options;if(i.i18n){const n=i.i18n;i.__i18n&&(n.__i18n=i.__i18n),n.__root=t,this===this.$root?this.$i18n=Xt(e,n):(n.__injectWithOption=!0,this.$i18n=Pt(n))}else i.__i18n?this===this.$root?this.$i18n=Xt(e,i):this.$i18n=Pt({__i18n:i.__i18n,__injectWithOption:!0,__root:t}):this.$i18n=e;i.__i18nGlobal&&At(t,i,i),e.__onComponentInstanceCreated(this.$i18n),n.__setInstance(r,this.$i18n),this.$t=(...e)=>this.$i18n.t(...e),this.$rt=(...e)=>this.$i18n.rt(...e),this.$tc=(...e)=>this.$i18n.tc(...e),this.$te=(e,t)=>this.$i18n.te(e,t),this.$d=(...e)=>this.$i18n.d(...e),this.$n=(...e)=>this.$i18n.n(...e),this.$tm=e=>this.$i18n.tm(e)},mounted(){0},unmounted(){const e=Object(st["getCurrentInstance"])();if(!e)throw vt(gt.UNEXPECTED_ERROR);delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,n.__deleteInstance(e),delete this.$i18n}}}function Xt(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[Et](t.pluralizationRules||e.pluralizationRules);const n=_t(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(n).forEach(t=>e.mergeLocaleMessage(t,n[t])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(n=>e.mergeDateTimeFormat(n,t.datetimeFormats[n])),t.numberFormats&&Object.keys(t.numberFormats).forEach(n=>e.mergeNumberFormat(n,t.numberFormats[n])),e}const Jt=Object(r["r"])("global-vue-i18n");function Qt(e={},t){const n=__VUE_I18N_LEGACY_API__&&Object(r["i"])(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,i=!Object(r["i"])(e.globalInjection)||e.globalInjection,a=!__VUE_I18N_LEGACY_API__||!n||!!e.allowComposition,o=new Map,[s,l]=en(e,n),c=Object(r["r"])("");function u(e){return o.get(e)||null}function d(e,t){o.set(e,t)}function f(e){o.delete(e)}{const e={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},get allowComposition(){return a},async install(t,...r){t.__VUE_I18N_SYMBOL__=c,t.provide(t.__VUE_I18N_SYMBOL__,e),!n&&i&&un(t,e.global),__VUE_I18N_FULL_INSTALL__&&$t(t,e,...r),__VUE_I18N_LEGACY_API__&&n&&t.mixin(zt(l,l.__composer,e));const a=t.unmount;t.unmount=()=>{e.dispose(),a()}},get global(){return l},dispose(){s.stop()},__instances:o,__getInstance:u,__setInstance:d,__deleteInstance:f};return e}}function Zt(e={}){const t=Object(st["getCurrentInstance"])();if(null==t)throw vt(gt.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&null!=t.appContext.app&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw vt(gt.NOT_INSLALLED);const n=tn(t),i=rn(n),a=Lt(t),o=nn(e,a);if(__VUE_I18N_LEGACY_API__&&"legacy"===n.mode&&!e.__useComponent){if(!n.allowComposition)throw vt(gt.NOT_AVAILABLE_IN_LEGACY_MODE);return sn(t,o,i,e)}if("global"===o)return At(i,e,a),i;if("parent"===o){let r=an(n,t,e.__useComponent);return null==r&&(r=i),r}const s=n;let l=s.__getInstance(t);if(null==l){const n=Object(r["a"])({},e);"__i18n"in a&&(n.__i18n=a.__i18n),i&&(n.__root=i),l=It(n),on(s,t,l),s.__setInstance(t,l)}return l}function en(e,t,n){const r=Object(st["effectScope"])();{const n=__VUE_I18N_LEGACY_API__&&t?r.run(()=>Pt(e)):r.run(()=>It(e));if(null==n)throw vt(gt.UNEXPECTED_ERROR);return[r,n]}}function tn(e){{const t=Object(st["inject"])(e.isCE?Jt:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw vt(e.isCE?gt.NOT_INSLALLED_WITH_PROVIDE:gt.UNEXPECTED_ERROR);return t}}function nn(e,t){return Object(r["k"])(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function rn(e){return"composition"===e.mode?e.global:e.global.__composer}function an(e,t,n=!1){let r=null;const i=t.root;let a=t.parent;while(null!=a){const t=e;if("composition"===e.mode)r=t.__getInstance(a);else if(__VUE_I18N_LEGACY_API__){const e=t.__getInstance(a);null!=e&&(r=e.__composer,n&&r&&!r[Ot]&&(r=null))}if(null!=r)break;if(i===a)break;a=a.parent}return r}function on(e,t,n){Object(st["onMounted"])(()=>{0},t),Object(st["onUnmounted"])(()=>{e.__deleteInstance(t)},t)}function sn(e,t,n,i={}){const a="local"===t,o=Object(st["shallowRef"])(null);if(a&&e.proxy&&!e.proxy.$options.i18n&&!e.proxy.$options.__i18n)throw vt(gt.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const s=!Object(r["i"])(i.inheritLocale)||i.inheritLocale,l=Object(st["ref"])(a&&s?n.locale.value:Object(r["q"])(i.locale)?i.locale:ge),c=Object(st["ref"])(a&&s?n.fallbackLocale.value:Object(r["q"])(i.fallbackLocale)||Object(r["h"])(i.fallbackLocale)||Object(r["o"])(i.fallbackLocale)||!1===i.fallbackLocale?i.fallbackLocale:l.value),u=Object(st["ref"])(_t(l.value,i)),d=Object(st["ref"])(Object(r["o"])(i.datetimeFormats)?i.datetimeFormats:{[l.value]:{}}),f=Object(st["ref"])(Object(r["o"])(i.numberFormats)?i.numberFormats:{[l.value]:{}}),h=a?n.missingWarn:!Object(r["i"])(i.missingWarn)&&!Object(r["p"])(i.missingWarn)||i.missingWarn,p=a?n.fallbackWarn:!Object(r["i"])(i.fallbackWarn)&&!Object(r["p"])(i.fallbackWarn)||i.fallbackWarn,g=a?n.fallbackRoot:!Object(r["i"])(i.fallbackRoot)||i.fallbackRoot,v=!!i.fallbackFormat,m=Object(r["l"])(i.missing)?i.missing:null,b=Object(r["l"])(i.postTranslation)?i.postTranslation:null,y=a?n.warnHtmlMessage:!Object(r["i"])(i.warnHtmlMessage)||i.warnHtmlMessage,E=!!i.escapeParameter,O=a?n.modifiers:Object(r["o"])(i.modifiers)?i.modifiers:{},T=i.pluralRules||a&&n.pluralRules;function _(){return[l.value,c.value,u.value,d.value,f.value]}const S=Object(st["computed"])({get:()=>o.value?o.value.locale.value:l.value,set:e=>{o.value&&(o.value.locale.value=e),l.value=e}}),k=Object(st["computed"])({get:()=>o.value?o.value.fallbackLocale.value:c.value,set:e=>{o.value&&(o.value.fallbackLocale.value=e),c.value=e}}),L=Object(st["computed"])(()=>o.value?o.value.messages.value:u.value),A=Object(st["computed"])(()=>d.value),w=Object(st["computed"])(()=>f.value);function C(){return o.value?o.value.getPostTranslationHandler():b}function j(e){o.value&&o.value.setPostTranslationHandler(e)}function D(){return o.value?o.value.getMissingHandler():m}function R(e){o.value&&o.value.setMissingHandler(e)}function I(e){return _(),e()}function x(...e){return o.value?I(()=>Reflect.apply(o.value.t,null,[...e])):I(()=>"")}function P(...e){return o.value?Reflect.apply(o.value.rt,null,[...e]):""}function N(...e){return o.value?I(()=>Reflect.apply(o.value.d,null,[...e])):I(()=>"")}function F(...e){return o.value?I(()=>Reflect.apply(o.value.n,null,[...e])):I(()=>"")}function M(e){return o.value?o.value.tm(e):{}}function B(e,t){return!!o.value&&o.value.te(e,t)}function U(e){return o.value?o.value.getLocaleMessage(e):{}}function V(e,t){o.value&&(o.value.setLocaleMessage(e,t),u.value[e]=t)}function G(e,t){o.value&&o.value.mergeLocaleMessage(e,t)}function H(e){return o.value?o.value.getDateTimeFormat(e):{}}function K(e,t){o.value&&(o.value.setDateTimeFormat(e,t),d.value[e]=t)}function W(e,t){o.value&&o.value.mergeDateTimeFormat(e,t)}function q(e){return o.value?o.value.getNumberFormat(e):{}}function Y(e,t){o.value&&(o.value.setNumberFormat(e,t),f.value[e]=t)}function $(e,t){o.value&&o.value.mergeNumberFormat(e,t)}const z={get id(){return o.value?o.value.id:-1},locale:S,fallbackLocale:k,messages:L,datetimeFormats:A,numberFormats:w,get inheritLocale(){return o.value?o.value.inheritLocale:s},set inheritLocale(e){o.value&&(o.value.inheritLocale=e)},get availableLocales(){return o.value?o.value.availableLocales:Object.keys(u.value)},get modifiers(){return o.value?o.value.modifiers:O},get pluralRules(){return o.value?o.value.pluralRules:T},get isGlobal(){return!!o.value&&o.value.isGlobal},get missingWarn(){return o.value?o.value.missingWarn:h},set missingWarn(e){o.value&&(o.value.missingWarn=e)},get fallbackWarn(){return o.value?o.value.fallbackWarn:p},set fallbackWarn(e){o.value&&(o.value.missingWarn=e)},get fallbackRoot(){return o.value?o.value.fallbackRoot:g},set fallbackRoot(e){o.value&&(o.value.fallbackRoot=e)},get fallbackFormat(){return o.value?o.value.fallbackFormat:v},set fallbackFormat(e){o.value&&(o.value.fallbackFormat=e)},get warnHtmlMessage(){return o.value?o.value.warnHtmlMessage:y},set warnHtmlMessage(e){o.value&&(o.value.warnHtmlMessage=e)},get escapeParameter(){return o.value?o.value.escapeParameter:E},set escapeParameter(e){o.value&&(o.value.escapeParameter=e)},t:x,getPostTranslationHandler:C,setPostTranslationHandler:j,getMissingHandler:D,setMissingHandler:R,rt:P,d:N,n:F,tm:M,te:B,getLocaleMessage:U,setLocaleMessage:V,mergeLocaleMessage:G,getDateTimeFormat:H,setDateTimeFormat:K,mergeDateTimeFormat:W,getNumberFormat:q,setNumberFormat:Y,mergeNumberFormat:$};function X(e){e.locale.value=l.value,e.fallbackLocale.value=c.value,Object.keys(u.value).forEach(t=>{e.mergeLocaleMessage(t,u.value[t])}),Object.keys(d.value).forEach(t=>{e.mergeDateTimeFormat(t,d.value[t])}),Object.keys(f.value).forEach(t=>{e.mergeNumberFormat(t,f.value[t])}),e.escapeParameter=E,e.fallbackFormat=v,e.fallbackRoot=g,e.fallbackWarn=p,e.missingWarn=h,e.warnHtmlMessage=y}return Object(st["onBeforeMount"])(()=>{if(null==e.proxy||null==e.proxy.$i18n)throw vt(gt.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const n=o.value=e.proxy.$i18n.__composer;"global"===t?(l.value=n.locale.value,c.value=n.fallbackLocale.value,u.value=n.messages.value,d.value=n.datetimeFormats.value,f.value=n.numberFormats.value):a&&X(n)}),z}const ln=["locale","fallbackLocale","availableLocales"],cn=["t","rt","d","n","tm"];function un(e,t){const n=Object.create(null);ln.forEach(e=>{const r=Object.getOwnPropertyDescriptor(t,e);if(!r)throw vt(gt.UNEXPECTED_ERROR);const i=Object(st["isRef"])(r.value)?{get(){return r.value.value},set(e){r.value.value=e}}:{get(){return r.get&&r.get()}};Object.defineProperty(n,e,i)}),e.config.globalProperties.$i18n=n,cn.forEach(n=>{const r=Object.getOwnPropertyDescriptor(t,n);if(!r||!r.value)throw vt(gt.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,"$"+n,r)})}if(Te(Fe),_e(q),Se(ce),ct(),__INTLIFY_PROD_DEVTOOLS__){const e=Object(r["e"])();e.__INTLIFY__=!0,re(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}},"485a":function(e,t,n){var r=n("c65b"),i=n("1626"),a=n("861d"),o=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&i(n=e.toString)&&!a(s=r(n,e)))return s;if(i(n=e.valueOf)&&!a(s=r(n,e)))return s;if("string"!==t&&i(n=e.toString)&&!a(s=r(n,e)))return s;throw o("Can't convert object to primitive value")}},"4a7b":function(e,t,n){"use strict";var r=n("c532");e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function o(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function l(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||a,i=t(e);r.isUndefined(i)&&t!==l||(n[e]=i)})),n}},"4c3d":function(e,t,n){"use strict";(function(t){var r=n("c532"),i=n("c8af"),a=n("387f"),o=n("cafa"),s={"Content-Type":"application/x-www-form-urlencoded"};function l(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function c(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t))&&(e=n("b50d")),e}function u(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}var d={transitional:o,adapter:c(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(l(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(l(t,"application/json"),u(e)):e}],transformResponse:[function(e){var t=this.transitional||d.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(o){if("SyntaxError"===s.name)throw a(s,this,"E_JSON_PARSE");throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){d.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){d.headers[e]=r.merge(s)})),e.exports=d}).call(this,n("4362"))},"4d64":function(e,t,n){var r=n("fc6a"),i=n("23cb"),a=n("07fa"),o=function(e){return function(t,n,o){var s,l=r(t),c=a(l),u=i(o,c);if(e&&n!=n){while(c>u)if(s=l[u++],s!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},"4d75":function(e,t,n){},"4e5e":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}));var r=n("7a23");const i={to:[String,Object],url:String,replace:Boolean};function a({to:e,url:t,replace:n,$router:r}){e&&r?r[n?"replace":"push"](e):t&&(n?location.replace(t):location.href=t)}function o(){const e=Object(r["getCurrentInstance"])().proxy;return()=>a(e)}},"50c4":function(e,t,n){var r=n("5926"),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},5134:function(e,t,n){"use strict";(function(e){let r,i;function a(){var t;return void 0!==r||("undefined"!==typeof window&&window.performance?(r=!0,i=window.performance):"undefined"!==typeof e&&(null===(t=e.perf_hooks)||void 0===t?void 0:t.performance)?(r=!0,i=e.perf_hooks.performance):r=!1),r}function o(){return a()?i.now():Date.now()}n.d(t,"a",(function(){return o}))}).call(this,n("c8ba"))},5270:function(e,t,n){"use strict";var r=n("c532"),i=n("c401"),a=n("2e67"),o=n("4c3d"),s=n("7a77");function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s("canceled")}e.exports=function(e){l(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]}));var t=e.adapter||o.adapter;return t(e).then((function(t){return l(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(l(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},5502:function(e,t,n){"use strict";n.d(t,"a",(function(){return ae})),n.d(t,"b",(function(){return Q})),n.d(t,"c",(function(){return o}));var r=n("7a23"),i=n("3f4e"),a="store";function o(e){return void 0===e&&(e=null),Object(r["inject"])(null!==e?e:a)}function s(e,t){return e.filter(t)[0]}function l(e,t){if(void 0===t&&(t=[]),null===e||"object"!==typeof e)return e;var n=s(t,(function(t){return t.original===e}));if(n)return n.copy;var r=Array.isArray(e)?[]:{};return t.push({original:e,copy:r}),Object.keys(e).forEach((function(n){r[n]=l(e[n],t)})),r}function c(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}function u(e){return null!==e&&"object"===typeof e}function d(e){return e&&"function"===typeof e.then}function f(e,t){if(!e)throw new Error("[vuex] "+t)}function h(e,t){return function(){return e(t)}}function p(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function g(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;m(e,n,[],e._modules.root,!0),v(e,n,t)}function v(e,t,n){var i=e._state,a=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var o=e._wrappedGetters,s={},l={},u=Object(r["effectScope"])(!0);u.run((function(){c(o,(function(t,n){s[n]=h(t,e),l[n]=Object(r["computed"])((function(){return s[n]()})),Object.defineProperty(e.getters,n,{get:function(){return l[n].value},enumerable:!0})}))})),e._state=Object(r["reactive"])({data:t}),e._scope=u,e.strict&&_(e),i&&n&&e._withCommit((function(){i.data=null})),a&&a.stop()}function m(e,t,n,r,i){var a=!n.length,o=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[o]&&console.error("[vuex] duplicate namespace "+o+" for the namespaced module "+n.join("/")),e._modulesNamespaceMap[o]=r),!a&&!i){var s=S(t,n.slice(0,-1)),l=n[n.length-1];e._withCommit((function(){l in s&&console.warn('[vuex] state field "'+l+'" was overridden by a module with the same name at "'+n.join(".")+'"'),s[l]=r.state}))}var c=r.context=b(e,o,n);r.forEachMutation((function(t,n){var r=o+n;E(e,r,t,c)})),r.forEachAction((function(t,n){var r=t.root?n:o+n,i=t.handler||t;O(e,r,i,c)})),r.forEachGetter((function(t,n){var r=o+n;T(e,r,t,c)})),r.forEachChild((function(r,a){m(e,t,n.concat(a),r,i)}))}function b(e,t,n){var r=""===t,i={dispatch:r?e.dispatch:function(n,r,i){var a=k(n,r,i),o=a.payload,s=a.options,l=a.type;if(s&&s.root||(l=t+l,e._actions[l]))return e.dispatch(l,o);console.error("[vuex] unknown local action type: "+a.type+", global type: "+l)},commit:r?e.commit:function(n,r,i){var a=k(n,r,i),o=a.payload,s=a.options,l=a.type;s&&s.root||(l=t+l,e._mutations[l])?e.commit(l,o,s):console.error("[vuex] unknown local mutation type: "+a.type+", global type: "+l)}};return Object.defineProperties(i,{getters:{get:r?function(){return e.getters}:function(){return y(e,t)}},state:{get:function(){return S(e.state,n)}}}),i}function y(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach((function(i){if(i.slice(0,r)===t){var a=i.slice(r);Object.defineProperty(n,a,{get:function(){return e.getters[i]},enumerable:!0})}})),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function E(e,t,n,r){var i=e._mutations[t]||(e._mutations[t]=[]);i.push((function(t){n.call(e,r.state,t)}))}function O(e,t,n,r){var i=e._actions[t]||(e._actions[t]=[]);i.push((function(t){var i=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},t);return d(i)||(i=Promise.resolve(i)),e._devtoolHook?i.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):i}))}function T(e,t,n,r){e._wrappedGetters[t]?console.error("[vuex] duplicate getter key: "+t):e._wrappedGetters[t]=function(e){return n(r.state,r.getters,e.state,e.getters)}}function _(e){Object(r["watch"])((function(){return e._state.data}),(function(){f(e._committing,"do not mutate vuex store state outside mutation handlers.")}),{deep:!0,flush:"sync"})}function S(e,t){return t.reduce((function(e,t){return e[t]}),e)}function k(e,t,n){return u(e)&&e.type&&(n=t,t=e,e=e.type),f("string"===typeof e,"expects string as the type, but found "+typeof e+"."),{type:e,payload:t,options:n}}var L="vuex bindings",A="vuex:mutations",w="vuex:actions",C="vuex",j=0;function D(e,t){Object(i["a"])({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[L]},(function(n){n.addTimelineLayer({id:A,label:"Vuex Mutations",color:R}),n.addTimelineLayer({id:w,label:"Vuex Actions",color:R}),n.addInspector({id:C,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree((function(n){if(n.app===e&&n.inspectorId===C)if(n.filter){var r=[];M(r,t._modules.root,n.filter,""),n.rootNodes=r}else n.rootNodes=[F(t._modules.root,"")]})),n.on.getInspectorState((function(n){if(n.app===e&&n.inspectorId===C){var r=n.nodeId;y(t,r),n.state=B(V(t._modules,r),"root"===r?t.getters:t._makeLocalGettersCache,r)}})),n.on.editInspectorState((function(n){if(n.app===e&&n.inspectorId===C){var r=n.nodeId,i=n.path;"root"!==r&&(i=r.split("/").filter(Boolean).concat(i)),t._withCommit((function(){n.set(t._state.data,i,n.state.value)}))}})),t.subscribe((function(e,t){var r={};e.payload&&(r.payload=e.payload),r.state=t,n.notifyComponentUpdate(),n.sendInspectorTree(C),n.sendInspectorState(C),n.addTimelineEvent({layerId:A,event:{time:Date.now(),title:e.type,data:r}})})),t.subscribeAction({before:function(e,t){var r={};e.payload&&(r.payload=e.payload),e._id=j++,e._time=Date.now(),r.state=t,n.addTimelineEvent({layerId:w,event:{time:e._time,title:e.type,groupId:e._id,subtitle:"start",data:r}})},after:function(e,t){var r={},i=Date.now()-e._time;r.duration={_custom:{type:"duration",display:i+"ms",tooltip:"Action duration",value:i}},e.payload&&(r.payload=e.payload),r.state=t,n.addTimelineEvent({layerId:w,event:{time:Date.now(),title:e.type,groupId:e._id,subtitle:"end",data:r}})}})}))}var R=8702998,I=6710886,x=16777215,P={label:"namespaced",textColor:x,backgroundColor:I};function N(e){return e&&"root"!==e?e.split("/").slice(-2,-1)[0]:"Root"}function F(e,t){return{id:t||"root",label:N(t),tags:e.namespaced?[P]:[],children:Object.keys(e._children).map((function(n){return F(e._children[n],t+n+"/")}))}}function M(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[P]:[]}),Object.keys(t._children).forEach((function(i){M(e,t._children[i],n,r+i+"/")}))}function B(e,t,n){t="root"===n?t:t[n];var r=Object.keys(t),i={state:Object.keys(e.state).map((function(t){return{key:t,editable:!0,value:e.state[t]}}))};if(r.length){var a=U(t);i.getters=Object.keys(a).map((function(e){return{key:e.endsWith("/")?N(e):e,editable:!1,value:G((function(){return a[e]}))}}))}return i}function U(e){var t={};return Object.keys(e).forEach((function(n){var r=n.split("/");if(r.length>1){var i=t,a=r.pop();r.forEach((function(e){i[e]||(i[e]={_custom:{value:{},display:e,tooltip:"Module",abstract:!0}}),i=i[e]._custom.value})),i[a]=G((function(){return e[n]}))}else t[n]=G((function(){return e[n]}))})),t}function V(e,t){var n=t.split("/").filter((function(e){return e}));return n.reduce((function(e,r,i){var a=e[r];if(!a)throw new Error('Missing module "'+r+'" for path "'+t+'".');return i===n.length-1?a:a._children}),"root"===t?e:e.root._children)}function G(e){try{return e()}catch(t){return t}}var H=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"===typeof n?n():n)||{}},K={namespaced:{configurable:!0}};K.namespaced.get=function(){return!!this._rawModule.namespaced},H.prototype.addChild=function(e,t){this._children[e]=t},H.prototype.removeChild=function(e){delete this._children[e]},H.prototype.getChild=function(e){return this._children[e]},H.prototype.hasChild=function(e){return e in this._children},H.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},H.prototype.forEachChild=function(e){c(this._children,e)},H.prototype.forEachGetter=function(e){this._rawModule.getters&&c(this._rawModule.getters,e)},H.prototype.forEachAction=function(e){this._rawModule.actions&&c(this._rawModule.actions,e)},H.prototype.forEachMutation=function(e){this._rawModule.mutations&&c(this._rawModule.mutations,e)},Object.defineProperties(H.prototype,K);var W=function(e){this.register([],e,!1)};function q(e,t,n){if(X(e,n),t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return void console.warn("[vuex] trying to add a new module '"+r+"' on hot reloading, manual reload is needed");q(e.concat(r),t.getChild(r),n.modules[r])}}W.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},W.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return t=t.getChild(n),e+(t.namespaced?n+"/":"")}),"")},W.prototype.update=function(e){q([],this.root,e)},W.prototype.register=function(e,t,n){var r=this;void 0===n&&(n=!0),X(e,t);var i=new H(t,n);if(0===e.length)this.root=i;else{var a=this.get(e.slice(0,-1));a.addChild(e[e.length-1],i)}t.modules&&c(t.modules,(function(t,i){r.register(e.concat(i),t,n)}))},W.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1],r=t.getChild(n);r?r.runtime&&t.removeChild(n):console.warn("[vuex] trying to unregister module '"+n+"', which is not registered")},W.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];return!!t&&t.hasChild(n)};var Y={assert:function(e){return"function"===typeof e},expected:"function"},$={assert:function(e){return"function"===typeof e||"object"===typeof e&&"function"===typeof e.handler},expected:'function or object with "handler" function'},z={getters:Y,mutations:Y,actions:$};function X(e,t){Object.keys(z).forEach((function(n){if(t[n]){var r=z[n];c(t[n],(function(t,i){f(r.assert(t),J(e,n,i,t,r.expected))}))}}))}function J(e,t,n,r,i){var a=t+" should be "+i+' but "'+t+"."+n+'"';return e.length>0&&(a+=' in module "'+e.join(".")+'"'),a+=" is "+JSON.stringify(r)+".",a}function Q(e){return new Z(e)}var Z=function e(t){var n=this;void 0===t&&(t={}),f("undefined"!==typeof Promise,"vuex requires a Promise polyfill in this browser."),f(this instanceof e,"store must be called with the new operator.");var r=t.plugins;void 0===r&&(r=[]);var i=t.strict;void 0===i&&(i=!1);var a=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new W(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=a;var o=this,s=this,l=s.dispatch,c=s.commit;this.dispatch=function(e,t){return l.call(o,e,t)},this.commit=function(e,t,n){return c.call(o,e,t,n)},this.strict=i;var u=this._modules.root.state;m(this,u,[],this._modules.root),v(this,u),r.forEach((function(e){return e(n)}))},ee={state:{configurable:!0}};Z.prototype.install=function(e,t){e.provide(t||a,this),e.config.globalProperties.$store=this;var n=void 0===this._devtools||this._devtools;n&&D(e,this)},ee.state.get=function(){return this._state.data},ee.state.set=function(e){f(!1,"use store.replaceState() to explicit replace store state.")},Z.prototype.commit=function(e,t,n){var r=this,i=k(e,t,n),a=i.type,o=i.payload,s=i.options,l={type:a,payload:o},c=this._mutations[a];c?(this._withCommit((function(){c.forEach((function(e){e(o)}))})),this._subscribers.slice().forEach((function(e){return e(l,r.state)})),s&&s.silent&&console.warn("[vuex] mutation type: "+a+". Silent option has been removed. Use the filter functionality in the vue-devtools")):console.error("[vuex] unknown mutation type: "+a)},Z.prototype.dispatch=function(e,t){var n=this,r=k(e,t),i=r.type,a=r.payload,o={type:i,payload:a},s=this._actions[i];if(s){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(o,n.state)}))}catch(c){console.warn("[vuex] error in before action subscribers: "),console.error(c)}var l=s.length>1?Promise.all(s.map((function(e){return e(a)}))):s[0](a);return new Promise((function(e,t){l.then((function(t){try{n._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(o,n.state)}))}catch(c){console.warn("[vuex] error in after action subscribers: "),console.error(c)}e(t)}),(function(e){try{n._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(o,n.state,e)}))}catch(c){console.warn("[vuex] error in error action subscribers: "),console.error(c)}t(e)}))}))}console.error("[vuex] unknown action type: "+i)},Z.prototype.subscribe=function(e,t){return p(e,this._subscribers,t)},Z.prototype.subscribeAction=function(e,t){var n="function"===typeof e?{before:e}:e;return p(n,this._actionSubscribers,t)},Z.prototype.watch=function(e,t,n){var i=this;return f("function"===typeof e,"store.watch only accepts a function."),Object(r["watch"])((function(){return e(i.state,i.getters)}),t,Object.assign({},n))},Z.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._state.data=e}))},Z.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"===typeof e&&(e=[e]),f(Array.isArray(e),"module path must be a string or an Array."),f(e.length>0,"cannot register the root module by using registerModule."),this._modules.register(e,t),m(this,this.state,e,this._modules.get(e),n.preserveState),v(this,this.state)},Z.prototype.unregisterModule=function(e){var t=this;"string"===typeof e&&(e=[e]),f(Array.isArray(e),"module path must be a string or an Array."),this._modules.unregister(e),this._withCommit((function(){var n=S(t.state,e.slice(0,-1));delete n[e[e.length-1]]})),g(this)},Z.prototype.hasModule=function(e){return"string"===typeof e&&(e=[e]),f(Array.isArray(e),"module path must be a string or an Array."),this._modules.isRegistered(e)},Z.prototype.hotUpdate=function(e){this._modules.update(e),g(this,!0)},Z.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(Z.prototype,ee);re((function(e,t){var n={};return ne(t)||console.error("[vuex] mapState: mapper parameter must be either an Array or an Object"),te(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){var t=this.$store.state,n=this.$store.getters;if(e){var r=ie(this.$store,"mapState",e);if(!r)return;t=r.context.state,n=r.context.getters}return"function"===typeof i?i.call(this,t,n):t[i]},n[r].vuex=!0})),n})),re((function(e,t){var n={};return ne(t)||console.error("[vuex] mapMutations: mapper parameter must be either an Array or an Object"),te(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=this.$store.commit;if(e){var a=ie(this.$store,"mapMutations",e);if(!a)return;r=a.context.commit}return"function"===typeof i?i.apply(this,[r].concat(t)):r.apply(this.$store,[i].concat(t))}})),n})),re((function(e,t){var n={};return ne(t)||console.error("[vuex] mapGetters: mapper parameter must be either an Array or an Object"),te(t).forEach((function(t){var r=t.key,i=t.val;i=e+i,n[r]=function(){if(!e||ie(this.$store,"mapGetters",e)){if(i in this.$store.getters)return this.$store.getters[i];console.error("[vuex] unknown getter: "+i)}},n[r].vuex=!0})),n})),re((function(e,t){var n={};return ne(t)||console.error("[vuex] mapActions: mapper parameter must be either an Array or an Object"),te(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=this.$store.dispatch;if(e){var a=ie(this.$store,"mapActions",e);if(!a)return;r=a.context.dispatch}return"function"===typeof i?i.apply(this,[r].concat(t)):r.apply(this.$store,[i].concat(t))}})),n}));function te(e){return ne(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function ne(e){return Array.isArray(e)||u(e)}function re(e){return function(t,n){return"string"!==typeof t?(n=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,n)}}function ie(e,t,n){var r=e._modulesNamespaceMap[n];return r||console.error("[vuex] module namespace not found in "+t+"(): "+n),r}function ae(e){void 0===e&&(e={});var t=e.collapsed;void 0===t&&(t=!0);var n=e.filter;void 0===n&&(n=function(e,t,n){return!0});var r=e.transformer;void 0===r&&(r=function(e){return e});var i=e.mutationTransformer;void 0===i&&(i=function(e){return e});var a=e.actionFilter;void 0===a&&(a=function(e,t){return!0});var o=e.actionTransformer;void 0===o&&(o=function(e){return e});var s=e.logMutations;void 0===s&&(s=!0);var c=e.logActions;void 0===c&&(c=!0);var u=e.logger;return void 0===u&&(u=console),function(e){var d=l(e.state);"undefined"!==typeof u&&(s&&e.subscribe((function(e,a){var o=l(a);if(n(e,d,o)){var s=le(),c=i(e),f="mutation "+e.type+s;oe(u,f,t),u.log("%c prev state","color: #9E9E9E; font-weight: bold",r(d)),u.log("%c mutation","color: #03A9F4; font-weight: bold",c),u.log("%c next state","color: #4CAF50; font-weight: bold",r(o)),se(u)}d=o})),c&&e.subscribeAction((function(e,n){if(a(e,n)){var r=le(),i=o(e),s="action "+e.type+r;oe(u,s,t),u.log("%c action","color: #03A9F4; font-weight: bold",i),se(u)}})))}}function oe(e,t,n){var r=n?e.groupCollapsed:e.group;try{r.call(e,t)}catch(i){e.log(t)}}function se(e){try{e.groupEnd()}catch(t){e.log("—— log end ——")}}function le(){var e=new Date;return" @ "+ue(e.getHours(),2)+":"+ue(e.getMinutes(),2)+":"+ue(e.getSeconds(),2)+"."+ue(e.getMilliseconds(),3)}function ce(e,t){return new Array(t+1).join(e)}function ue(e,t){return ce("0",t-e.toString().length)+e}},5692:function(e,t,n){var r=n("c430"),i=n("c6cd");(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.25.5",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.5/LICENSE",source:"https://github.com/zloirock/core-js"})},"56ef":function(e,t,n){var r=n("d066"),i=n("e330"),a=n("241c"),o=n("7418"),s=n("825a"),l=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=a.f(s(e)),n=o.f;return n?l(t,n(e)):t}},5913:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return v}));var r=n("23f9"),i=n("7a23"),a=n("1fba"),o=n("e5f6"),s=n("fa7c"),l=n("5aa0");const[c,u]=Object(a["a"])("loading"),d=Array(12).fill(null).map((e,t)=>Object(i["createVNode"])("i",{class:u("line",String(t+1))},null)),f=Object(i["createVNode"])("svg",{class:u("circular"),viewBox:"25 25 50 50"},[Object(i["createVNode"])("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),h={size:o["f"],type:Object(o["e"])("circular"),color:String,vertical:Boolean,textSize:o["f"],textColor:String};var p=Object(i["defineComponent"])({name:c,props:h,setup(e,{slots:t}){const n=Object(i["computed"])(()=>Object(s["a"])({color:e.color},Object(l["e"])(e.size))),r=()=>{var n;if(t.default)return Object(i["createVNode"])("span",{class:u("text"),style:{fontSize:Object(l["a"])(e.textSize),color:null!=(n=e.textColor)?n:e.color}},[t.default()])};return()=>{const{type:t,vertical:a}=e;return Object(i["createVNode"])("div",{class:u([t,{vertical:a}]),"aria-live":"polite","aria-busy":!0},[Object(i["createVNode"])("span",{class:u("spinner",t),style:n.value},["spinner"===t?d:f]),r()])}}});const g=Object(r["a"])(p);var v=g},5926:function(e,t,n){var r=n("b42e");e.exports=function(e){var t=+e;return t!==t||0===t?0:r(t)}},"59ed":function(e,t,n){var r=n("1626"),i=n("0d51"),a=TypeError;e.exports=function(e){if(r(e))return e;throw a(i(e)+" is not a function")}},"5aa0":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return m})),n.d(t,"h",(function(){return b})),n.d(t,"i",(function(){return p}));var r=n("fa7c"),i=n("8db7"),a=n("b75f");function o(e){if(Object(a["b"])(e))return Object(a["e"])(e)?e+"px":String(e)}function s(e){if(Object(a["b"])(e)){if(Array.isArray(e))return{width:o(e[0]),height:o(e[1])};const t=o(e);return{width:t,height:t}}}function l(e){const t={};return void 0!==e&&(t.zIndex=+e),t}let c;function u(){if(!c){const e=document.documentElement,t=e.style.fontSize||window.getComputedStyle(e).fontSize;c=parseFloat(t)}return c}function d(e){return e=e.replace(/rem/g,""),+e*u()}function f(e){return e=e.replace(/vw/g,""),+e*i["j"].value/100}function h(e){return e=e.replace(/vh/g,""),+e*i["i"].value/100}function p(e){if("number"===typeof e)return e;if(r["c"]){if(e.includes("rem"))return d(e);if(e.includes("vw"))return f(e);if(e.includes("vh"))return h(e)}return parseFloat(e)}const g=/-(\w)/g,v=e=>e.replace(g,(e,t)=>t.toUpperCase()),m=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,"");function b(e,t=2){let n=e+"";while(n.length<t)n="0"+n;return n}const y=(e,t,n)=>Math.min(Math.max(e,t),n);function E(e,t,n){const r=e.indexOf(t);return-1===r?e:"-"===t&&0!==r?e.slice(0,r):e.slice(0,r+1)+e.slice(r).replace(n,"")}function O(e,t=!0,n=!0){e=t?E(e,".",/\./g):e.split(".")[0],e=n?E(e,"-",/-/g):e.replace(/-/,"");const r=t?/[^-0-9.]/g:/[^-0-9]/g;return e.replace(r,"")}},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"5cce":function(e,t){e.exports={version:"0.26.1"}},"5e77":function(e,t,n){var r=n("83ab"),i=n("1a2d"),a=Function.prototype,o=r&&Object.getOwnPropertyDescriptor,s=i(a,"name"),l=s&&"something"===function(){}.name,c=s&&(!r||r&&o(a,"name").configurable);e.exports={EXISTS:s,PROPER:l,CONFIGURABLE:c}},"5f02":function(e,t,n){"use strict";var r=n("c532");e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},"5f24":function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return C}));var r=n("23f9"),i=n("7a23"),a=n("eec6"),o=n("fa7c"),s=n("e5f6"),l=n("1fba"),c=n("b75f"),u=n("9b55"),d=n("d243"),f=n("450f"),h=n("efd9"),p=n("d7d5"),g=n("8db7");let v=0;const m="van-overflow-hidden";function b(e,t){const n=Object(p["a"])(),r="01",a="10",o=t=>{n.move(t);const i=n.deltaY.value>0?a:r,o=Object(f["getScrollParent"])(t.target,e.value),{scrollHeight:s,offsetHeight:l,scrollTop:c}=o;let u="11";0===c?u=l>=s?"00":"01":c+l>=s&&(u="10"),"11"===u||!n.isVertical()||parseInt(u,2)&parseInt(i,2)||Object(g["e"])(t,!0)},s=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",o,{passive:!1}),v||document.body.classList.add(m),v++},l=()=>{v&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",o),v--,v||document.body.classList.remove(m))},c=()=>t()&&s(),u=()=>t()&&l();Object(f["onMountedOrActivated"])(c),Object(i["onDeactivated"])(u),Object(i["onBeforeUnmount"])(u),Object(i["watch"])(t,e=>{e?s():l()})}var y=n("84d0"),E=n("ee0b"),O=n("bbf9"),T=n("9a1c"),_=n("d29f");const S=Object(o["a"])({},a["b"],{round:Boolean,position:Object(s["e"])("center"),closeIcon:Object(s["e"])("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:Object(s["e"])("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[k,L]=Object(l["a"])("popup");var A=Object(i["defineComponent"])({name:k,inheritAttrs:!1,props:S,emits:["open","close","opened","closed","keydown","update:show","click-overlay","click-close-icon"],setup(e,{emit:t,attrs:n,slots:r}){let a,o;const s=Object(i["ref"])(),l=Object(i["ref"])(),p=Object(y["a"])(()=>e.show||!e.lazyRender),g=Object(i["computed"])(()=>{const t={zIndex:s.value};if(Object(c["b"])(e.duration)){const n="center"===e.position?"animationDuration":"transitionDuration";t[n]=e.duration+"s"}return t}),v=()=>{a||(a=!0,s.value=void 0!==e.zIndex?+e.zIndex:Object(O["b"])(),t("open"))},m=()=>{a&&Object(u["a"])(e.beforeClose,{done(){a=!1,t("close"),t("update:show",!1)}})},S=n=>{t("click-overlay",n),e.closeOnClickOverlay&&m()},k=()=>{if(e.overlay)return Object(i["createVNode"])(_["a"],{show:e.show,class:e.overlayClass,zIndex:s.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0,onClick:S},{default:r["overlay-content"]})},A=e=>{t("click-close-icon",e),m()},w=()=>{if(e.closeable)return Object(i["createVNode"])(T["a"],{role:"button",tabindex:0,name:e.closeIcon,class:[L("close-icon",e.closeIconPosition),d["h"]],classPrefix:e.iconPrefix,onClick:A},null)},C=()=>t("opened"),j=()=>t("closed"),D=e=>t("keydown",e),R=p(()=>{var t;const{round:a,position:o,safeAreaInsetTop:s,safeAreaInsetBottom:c}=e;return Object(i["withDirectives"])(Object(i["createVNode"])("div",Object(i["mergeProps"])({ref:l,style:g.value,role:"dialog",tabindex:0,class:[L({round:a,[o]:o}),{"van-safe-area-top":s,"van-safe-area-bottom":c}],onKeydown:D},n),[null==(t=r.default)?void 0:t.call(r),w()]),[[i["vShow"],e.show]])}),I=()=>{const{position:t,transition:n,transitionAppear:r}=e,a="center"===t?"van-fade":"van-popup-slide-"+t;return Object(i["createVNode"])(i["Transition"],{name:n||a,appear:r,onAfterEnter:C,onAfterLeave:j},{default:R})};return Object(i["watch"])(()=>e.show,e=>{e&&!a&&(v(),0===n.tabindex&&Object(i["nextTick"])(()=>{var e;null==(e=l.value)||e.focus()})),!e&&a&&(a=!1,t("close"))}),Object(h["a"])({popupRef:l}),b(l,()=>e.show&&e.lockScroll),Object(f["useEventListener"])("popstate",()=>{e.closeOnPopstate&&(m(),o=!1)}),Object(i["onMounted"])(()=>{e.show&&v()}),Object(i["onActivated"])(()=>{o&&(t("update:show",!0),o=!1)}),Object(i["onDeactivated"])(()=>{e.show&&e.teleport&&(m(),o=!0)}),Object(i["provide"])(E["a"],()=>e.show),()=>e.teleport?Object(i["createVNode"])(i["Teleport"],{to:e.teleport},{default:()=>[k(),I()]}):Object(i["createVNode"])(i["Fragment"],null,[k(),I()])}});const w=Object(r["a"])(A);var C=w},6374:function(e,t,n){var r=n("da84"),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},6605:function(e,t,n){"use strict";n.d(t,"a",(function(){return tt})),n.d(t,"b",(function(){return B})),n.d(t,"c",(function(){return it}));var r=n("7a23");n("3f4e");
/*!
  * vue-router v4.1.5
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */
const i="undefined"!==typeof window;function a(e){return e.__esModule||"Module"===e[Symbol.toStringTag]}const o=Object.assign;function s(e,t){const n={};for(const r in t){const i=t[r];n[r]=c(i)?i.map(e):e(i)}return n}const l=()=>{},c=Array.isArray;const u=/\/$/,d=e=>e.replace(u,"");function f(e,t,n="/"){let r,i={},a="",o="";const s=t.indexOf("#");let l=t.indexOf("?");return s<l&&s>=0&&(l=-1),l>-1&&(r=t.slice(0,l),a=t.slice(l+1,s>-1?s:t.length),i=e(a)),s>-1&&(r=r||t.slice(0,s),o=t.slice(s,t.length)),r=E(null!=r?r:t,n),{fullPath:r+(a&&"?")+a+o,path:r,query:i,hash:o}}function h(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function p(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function g(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&v(t.matched[r],n.matched[i])&&m(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function v(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function m(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!b(e[n],t[n]))return!1;return!0}function b(e,t){return c(e)?y(e,t):c(t)?y(t,e):e===t}function y(e,t){return c(t)?e.length===t.length&&e.every((e,n)=>e===t[n]):1===e.length&&e[0]===t}function E(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let i,a,o=n.length-1;for(i=0;i<r.length;i++)if(a=r[i],"."!==a){if(".."!==a)break;o>1&&o--}return n.slice(0,o).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}var O,T;(function(e){e["pop"]="pop",e["push"]="push"})(O||(O={})),function(e){e["back"]="back",e["forward"]="forward",e["unknown"]=""}(T||(T={}));function _(e){if(!e)if(i){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),d(e)}const S=/^[^#]+#/;function k(e,t){return e.replace(S,"#")+t}function L(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const A=()=>({left:window.pageXOffset,top:window.pageYOffset});function w(e){let t;if("el"in e){const n=e.el,r="string"===typeof n&&n.startsWith("#");0;const i="string"===typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=L(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}function C(e,t){const n=history.state?history.state.position-t:-1;return n+e}const j=new Map;function D(e,t){j.set(e,t)}function R(e){const t=j.get(e);return j.delete(e),t}let I=()=>location.protocol+"//"+location.host;function x(e,t){const{pathname:n,search:r,hash:i}=t,a=e.indexOf("#");if(a>-1){let t=i.includes(e.slice(a))?e.slice(a).length:1,n=i.slice(t);return"/"!==n[0]&&(n="/"+n),p(n,"")}const o=p(n,e);return o+r+i}function P(e,t,n,r){let i=[],a=[],s=null;const l=({state:a})=>{const o=x(e,location),l=n.value,c=t.value;let u=0;if(a){if(n.value=o,t.value=a,s&&s===l)return void(s=null);u=c?a.position-c.position:0}else r(o);i.forEach(e=>{e(n.value,l,{delta:u,type:O.pop,direction:u?u>0?T.forward:T.back:T.unknown})})};function c(){s=n.value}function u(e){i.push(e);const t=()=>{const t=i.indexOf(e);t>-1&&i.splice(t,1)};return a.push(t),t}function d(){const{history:e}=window;e.state&&e.replaceState(o({},e.state,{scroll:A()}),"")}function f(){for(const e of a)e();a=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",d),{pauseListeners:c,listen:u,destroy:f}}function N(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?A():null}}function F(e){const{history:t,location:n}=window,r={value:x(e,n)},i={value:t.state};function a(r,a,o){const s=e.indexOf("#"),l=s>-1?(n.host&&document.querySelector("base")?e:e.slice(s))+r:I()+e+r;try{t[o?"replaceState":"pushState"](a,"",l),i.value=a}catch(c){console.error(c),n[o?"replace":"assign"](l)}}function s(e,n){const s=o({},t.state,N(i.value.back,e,i.value.forward,!0),n,{position:i.value.position});a(e,s,!0),r.value=e}function l(e,n){const s=o({},i.value,t.state,{forward:e,scroll:A()});a(s.current,s,!0);const l=o({},N(r.value,e,null),{position:s.position+1},n);a(e,l,!1),r.value=e}return i.value||a(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:r,state:i,push:l,replace:s}}function M(e){e=_(e);const t=F(e),n=P(e,t.state,t.location,t.replace);function r(e,t=!0){t||n.pauseListeners(),history.go(e)}const i=o({location:"",base:e,go:r,createHref:k.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function B(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),M(e)}function U(e){return"string"===typeof e||e&&"object"===typeof e}function V(e){return"string"===typeof e||"symbol"===typeof e}const G={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},H=Symbol("");var K;(function(e){e[e["aborted"]=4]="aborted",e[e["cancelled"]=8]="cancelled",e[e["duplicated"]=16]="duplicated"})(K||(K={}));function W(e,t){return o(new Error,{type:e,[H]:!0},t)}function q(e,t){return e instanceof Error&&H in e&&(null==t||!!(e.type&t))}const Y="[^/]+?",$={sensitive:!1,strict:!1,start:!0,end:!0},z=/[.+*?^${}()[\]/\\]/g;function X(e,t){const n=o({},$,t),r=[];let i=n.start?"^":"";const a=[];for(const o of e){const e=o.length?[]:[90];n.strict&&!o.length&&(i+="/");for(let t=0;t<o.length;t++){const r=o[t];let s=40+(n.sensitive?.25:0);if(0===r.type)t||(i+="/"),i+=r.value.replace(z,"\\$&"),s+=40;else if(1===r.type){const{value:e,repeatable:n,optional:l,regexp:c}=r;a.push({name:e,repeatable:n,optional:l});const u=c||Y;if(u!==Y){s+=10;try{new RegExp(`(${u})`)}catch(d){throw new Error(`Invalid custom RegExp for param "${e}" (${u}): `+d.message)}}let f=n?`((?:${u})(?:/(?:${u}))*)`:`(${u})`;t||(f=l&&o.length<2?`(?:/${f})`:"/"+f),l&&(f+="?"),i+=f,s+=20,l&&(s+=-8),n&&(s+=-20),".*"===u&&(s+=-50)}e.push(s)}r.push(e)}if(n.strict&&n.end){const e=r.length-1;r[e][r[e].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");function l(e){const t=e.match(s),n={};if(!t)return null;for(let r=1;r<t.length;r++){const e=t[r]||"",i=a[r-1];n[i.name]=e&&i.repeatable?e.split("/"):e}return n}function u(t){let n="",r=!1;for(const i of e){r&&n.endsWith("/")||(n+="/"),r=!1;for(const e of i)if(0===e.type)n+=e.value;else if(1===e.type){const{value:a,repeatable:o,optional:s}=e,l=a in t?t[a]:"";if(c(l)&&!o)throw new Error(`Provided param "${a}" is an array but it is not repeatable (* or + modifiers)`);const u=c(l)?l.join("/"):l;if(!u){if(!s)throw new Error(`Missing required param "${a}"`);i.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=u}}return n||"/"}return{re:s,score:r,keys:a,parse:l,stringify:u}}function J(e,t){let n=0;while(n<e.length&&n<t.length){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function Q(e,t){let n=0;const r=e.score,i=t.score;while(n<r.length&&n<i.length){const e=J(r[n],i[n]);if(e)return e;n++}if(1===Math.abs(i.length-r.length)){if(Z(r))return 1;if(Z(i))return-1}return i.length-r.length}function Z(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const ee={type:0,value:""},te=/[a-zA-Z0-9_]/;function ne(e){if(!e)return[[]];if("/"===e)return[[ee]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${c}": ${e}`)}let n=0,r=n;const i=[];let a;function o(){a&&i.push(a),a=[]}let s,l=0,c="",u="";function d(){c&&(0===n?a.push({type:0,value:c}):1===n||2===n||3===n?(a.length>1&&("*"===s||"+"===s)&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:c,regexp:u,repeatable:"*"===s||"+"===s,optional:"*"===s||"?"===s})):t("Invalid state to consume buffer"),c="")}function f(){c+=s}while(l<e.length)if(s=e[l++],"\\"!==s||2===n)switch(n){case 0:"/"===s?(c&&d(),o()):":"===s?(d(),n=1):f();break;case 4:f(),n=r;break;case 1:"("===s?n=2:te.test(s)?f():(d(),n=0,"*"!==s&&"?"!==s&&"+"!==s&&l--);break;case 2:")"===s?"\\"==u[u.length-1]?u=u.slice(0,-1)+s:n=3:u+=s;break;case 3:d(),n=0,"*"!==s&&"?"!==s&&"+"!==s&&l--,u="";break;default:t("Unknown state");break}else r=n,n=4;return 2===n&&t(`Unfinished custom RegExp for param "${c}"`),d(),o(),i}function re(e,t,n){const r=X(ne(e.path),n);const i=o(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf===!t.record.aliasOf&&t.children.push(i),i}function ie(e,t){const n=[],r=new Map;function i(e){return r.get(e)}function a(e,n,r){const i=!r,c=oe(e);c.aliasOf=r&&r.record;const d=ue(t,e),f=[c];if("alias"in e){const t="string"===typeof e.alias?[e.alias]:e.alias;for(const e of t)f.push(o({},c,{components:r?r.record.components:c.components,path:e,aliasOf:r?r.record:c}))}let h,p;for(const t of f){const{path:o}=t;if(n&&"/"!==o[0]){const e=n.record.path,r="/"===e[e.length-1]?"":"/";t.path=n.record.path+(o&&r+o)}if(h=re(t,n,d),r?r.alias.push(h):(p=p||h,p!==h&&p.alias.push(h),i&&e.name&&!le(h)&&s(e.name)),c.children){const e=c.children;for(let t=0;t<e.length;t++)a(e[t],h,r&&r.children[t])}r=r||h,u(h)}return p?()=>{s(p)}:l}function s(e){if(V(e)){const t=r.get(e);t&&(r.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(s),t.alias.forEach(s))}else{const t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&r.delete(e.record.name),e.children.forEach(s),e.alias.forEach(s))}}function c(){return n}function u(e){let t=0;while(t<n.length&&Q(e,n[t])>=0&&(e.record.path!==n[t].record.path||!de(e,n[t])))t++;n.splice(t,0,e),e.record.name&&!le(e)&&r.set(e.record.name,e)}function d(e,t){let i,a,s,l={};if("name"in e&&e.name){if(i=r.get(e.name),!i)throw W(1,{location:e});0,s=i.record.name,l=o(ae(t.params,i.keys.filter(e=>!e.optional).map(e=>e.name)),e.params&&ae(e.params,i.keys.map(e=>e.name))),a=i.stringify(l)}else if("path"in e)a=e.path,i=n.find(e=>e.re.test(a)),i&&(l=i.parse(a),s=i.record.name);else{if(i=t.name?r.get(t.name):n.find(e=>e.re.test(t.path)),!i)throw W(1,{location:e,currentLocation:t});s=i.record.name,l=o({},t.params,e.params),a=i.stringify(l)}const c=[];let u=i;while(u)c.unshift(u.record),u=u.parent;return{name:s,path:a,params:l,matched:c,meta:ce(c)}}return t=ue({strict:!1,end:!0,sensitive:!1},t),e.forEach(e=>a(e)),{addRoute:a,resolve:d,removeRoute:s,getRoutes:c,getRecordMatcher:i}}function ae(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function oe(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:se(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function se(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]="boolean"===typeof n?n:n[r];return t}function le(e){while(e){if(e.record.aliasOf)return!0;e=e.parent}return!1}function ce(e){return e.reduce((e,t)=>o(e,t.meta),{})}function ue(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function de(e,t){return t.children.some(t=>t===e||de(e,t))}const fe=/#/g,he=/&/g,pe=/\//g,ge=/=/g,ve=/\?/g,me=/\+/g,be=/%5B/g,ye=/%5D/g,Ee=/%5E/g,Oe=/%60/g,Te=/%7B/g,_e=/%7C/g,Se=/%7D/g,ke=/%20/g;function Le(e){return encodeURI(""+e).replace(_e,"|").replace(be,"[").replace(ye,"]")}function Ae(e){return Le(e).replace(Te,"{").replace(Se,"}").replace(Ee,"^")}function we(e){return Le(e).replace(me,"%2B").replace(ke,"+").replace(fe,"%23").replace(he,"%26").replace(Oe,"`").replace(Te,"{").replace(Se,"}").replace(Ee,"^")}function Ce(e){return we(e).replace(ge,"%3D")}function je(e){return Le(e).replace(fe,"%23").replace(ve,"%3F")}function De(e){return null==e?"":je(e).replace(pe,"%2F")}function Re(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}function Ie(e){const t={};if(""===e||"?"===e)return t;const n="?"===e[0],r=(n?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const e=r[i].replace(me," "),n=e.indexOf("="),a=Re(n<0?e:e.slice(0,n)),o=n<0?null:Re(e.slice(n+1));if(a in t){let e=t[a];c(e)||(e=t[a]=[e]),e.push(o)}else t[a]=o}return t}function xe(e){let t="";for(let n in e){const r=e[n];if(n=Ce(n),null==r){void 0!==r&&(t+=(t.length?"&":"")+n);continue}const i=c(r)?r.map(e=>e&&we(e)):[r&&we(r)];i.forEach(e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))})}return t}function Pe(e){const t={};for(const n in e){const r=e[n];void 0!==r&&(t[n]=c(r)?r.map(e=>null==e?null:""+e):null==r?r:""+r)}return t}const Ne=Symbol(""),Fe=Symbol(""),Me=Symbol(""),Be=Symbol(""),Ue=Symbol("");function Ve(){let e=[];function t(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function Ge(e,t,n,r,i){const a=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((o,s)=>{const l=e=>{!1===e?s(W(4,{from:n,to:t})):e instanceof Error?s(e):U(e)?s(W(2,{from:t,to:e})):(a&&r.enterCallbacks[i]===a&&"function"===typeof e&&a.push(e),o())},c=e.call(r&&r.instances[i],t,n,l);let u=Promise.resolve(c);e.length<3&&(u=u.then(l)),u.catch(e=>s(e))})}function He(e,t,n,r){const i=[];for(const o of e){0;for(const e in o.components){let s=o.components[e];if("beforeRouteEnter"===t||o.instances[e])if(Ke(s)){const a=s.__vccOpts||s,l=a[t];l&&i.push(Ge(l,n,r,o,e))}else{let l=s();0,i.push(()=>l.then(i=>{if(!i)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${o.path}"`));const s=a(i)?i.default:i;o.components[e]=s;const l=s.__vccOpts||s,c=l[t];return c&&Ge(c,n,r,o,e)()}))}}}return i}function Ke(e){return"object"===typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}function We(e){const t=Object(r["inject"])(Me),n=Object(r["inject"])(Be),i=Object(r["computed"])(()=>t.resolve(Object(r["unref"])(e.to))),a=Object(r["computed"])(()=>{const{matched:e}=i.value,{length:t}=e,r=e[t-1],a=n.matched;if(!r||!a.length)return-1;const o=a.findIndex(v.bind(null,r));if(o>-1)return o;const s=Xe(e[t-2]);return t>1&&Xe(r)===s&&a[a.length-1].path!==s?a.findIndex(v.bind(null,e[t-2])):o}),o=Object(r["computed"])(()=>a.value>-1&&ze(n.params,i.value.params)),s=Object(r["computed"])(()=>a.value>-1&&a.value===n.matched.length-1&&m(n.params,i.value.params));function c(n={}){return $e(n)?t[Object(r["unref"])(e.replace)?"replace":"push"](Object(r["unref"])(e.to)).catch(l):Promise.resolve()}return{route:i,href:Object(r["computed"])(()=>i.value.href),isActive:o,isExactActive:s,navigate:c}}const qe=Object(r["defineComponent"])({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:We,setup(e,{slots:t}){const n=Object(r["reactive"])(We(e)),{options:i}=Object(r["inject"])(Me),a=Object(r["computed"])(()=>({[Je(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[Je(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&t.default(n);return e.custom?i:Object(r["h"])("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:a.value},i)}}}),Ye=qe;function $e(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&(void 0===e.button||0===e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function ze(e,t){for(const n in t){const r=t[n],i=e[n];if("string"===typeof r){if(r!==i)return!1}else if(!c(i)||i.length!==r.length||r.some((e,t)=>e!==i[t]))return!1}return!0}function Xe(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Je=(e,t,n)=>null!=e?e:null!=t?t:n,Qe=Object(r["defineComponent"])({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=Object(r["inject"])(Ue),a=Object(r["computed"])(()=>e.route||i.value),s=Object(r["inject"])(Fe,0),l=Object(r["computed"])(()=>{let e=Object(r["unref"])(s);const{matched:t}=a.value;let n;while((n=t[e])&&!n.components)e++;return e}),c=Object(r["computed"])(()=>a.value.matched[l.value]);Object(r["provide"])(Fe,Object(r["computed"])(()=>l.value+1)),Object(r["provide"])(Ne,c),Object(r["provide"])(Ue,a);const u=Object(r["ref"])();return Object(r["watch"])(()=>[u.value,c.value,e.name],([e,t,n],[r,i,a])=>{t&&(t.instances[n]=e,i&&i!==t&&e&&e===r&&(t.leaveGuards.size||(t.leaveGuards=i.leaveGuards),t.updateGuards.size||(t.updateGuards=i.updateGuards))),!e||!t||i&&v(t,i)&&r||(t.enterCallbacks[n]||[]).forEach(t=>t(e))},{flush:"post"}),()=>{const i=a.value,s=e.name,l=c.value,d=l&&l.components[s];if(!d)return Ze(n.default,{Component:d,route:i});const f=l.props[s],h=f?!0===f?i.params:"function"===typeof f?f(i):f:null,p=e=>{e.component.isUnmounted&&(l.instances[s]=null)},g=Object(r["h"])(d,o({},h,t,{onVnodeUnmounted:p,ref:u}));return Ze(n.default,{Component:g,route:i})||g}}});function Ze(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const et=Qe;function tt(e){const t=ie(e.routes,e),n=e.parseQuery||Ie,a=e.stringifyQuery||xe,u=e.history;const d=Ve(),p=Ve(),v=Ve(),m=Object(r["shallowRef"])(G);let b=G;i&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const y=s.bind(null,e=>""+e),E=s.bind(null,De),T=s.bind(null,Re);function _(e,n){let r,i;return V(e)?(r=t.getRecordMatcher(e),i=n):i=e,t.addRoute(i,r)}function S(e){const n=t.getRecordMatcher(e);n&&t.removeRoute(n)}function k(){return t.getRoutes().map(e=>e.record)}function L(e){return!!t.getRecordMatcher(e)}function j(e,r){if(r=o({},r||m.value),"string"===typeof e){const i=f(n,e,r.path),a=t.resolve({path:i.path},r),s=u.createHref(i.fullPath);return o(i,a,{params:T(a.params),hash:Re(i.hash),redirectedFrom:void 0,href:s})}let i;if("path"in e)i=o({},e,{path:f(n,e.path,r.path).path});else{const t=o({},e.params);for(const e in t)null==t[e]&&delete t[e];i=o({},e,{params:E(e.params)}),r.params=E(r.params)}const s=t.resolve(i,r),l=e.hash||"";s.params=y(T(s.params));const c=h(a,o({},e,{hash:Ae(l),path:s.path})),d=u.createHref(c);return o({fullPath:c,hash:l,query:a===xe?Pe(e.query):e.query||{}},s,{redirectedFrom:void 0,href:d})}function I(e){return"string"===typeof e?f(n,e,m.value.path):o({},e)}function x(e,t){if(b!==e)return W(8,{from:t,to:e})}function P(e){return M(e)}function N(e){return P(o(I(e),{replace:!0}))}function F(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:n}=t;let r="function"===typeof n?n(e):n;return"string"===typeof r&&(r=r.includes("?")||r.includes("#")?r=I(r):{path:r},r.params={}),o({query:e.query,hash:e.hash,params:"path"in r?{}:e.params},r)}}function M(e,t){const n=b=j(e),r=m.value,i=e.state,s=e.force,l=!0===e.replace,c=F(n);if(c)return M(o(I(c),{state:"object"===typeof c?o({},i,c.state):i,force:s,replace:l}),t||n);const u=n;let d;return u.redirectedFrom=t,!s&&g(a,r,n)&&(d=W(16,{to:u,from:r}),te(r,r,!0,!1)),(d?Promise.resolve(d):U(u,r)).catch(e=>q(e)?q(e,2)?e:ee(e):Q(e,u,r)).then(e=>{if(e){if(q(e,2))return M(o({replace:l},I(e.to),{state:"object"===typeof e.to?o({},i,e.to.state):i,force:s}),t||u)}else e=K(u,r,!0,l,i);return H(u,r,e),e})}function B(e,t){const n=x(e,t);return n?Promise.reject(n):Promise.resolve()}function U(e,t){let n;const[r,i,a]=rt(e,t);n=He(r.reverse(),"beforeRouteLeave",e,t);for(const s of r)s.leaveGuards.forEach(r=>{n.push(Ge(r,e,t))});const o=B.bind(null,e,t);return n.push(o),nt(n).then(()=>{n=[];for(const r of d.list())n.push(Ge(r,e,t));return n.push(o),nt(n)}).then(()=>{n=He(i,"beforeRouteUpdate",e,t);for(const r of i)r.updateGuards.forEach(r=>{n.push(Ge(r,e,t))});return n.push(o),nt(n)}).then(()=>{n=[];for(const r of e.matched)if(r.beforeEnter&&!t.matched.includes(r))if(c(r.beforeEnter))for(const i of r.beforeEnter)n.push(Ge(i,e,t));else n.push(Ge(r.beforeEnter,e,t));return n.push(o),nt(n)}).then(()=>(e.matched.forEach(e=>e.enterCallbacks={}),n=He(a,"beforeRouteEnter",e,t),n.push(o),nt(n))).then(()=>{n=[];for(const r of p.list())n.push(Ge(r,e,t));return n.push(o),nt(n)}).catch(e=>q(e,8)?e:Promise.reject(e))}function H(e,t,n){for(const r of v.list())r(e,t,n)}function K(e,t,n,r,a){const s=x(e,t);if(s)return s;const l=t===G,c=i?history.state:{};n&&(r||l?u.replace(e.fullPath,o({scroll:l&&c&&c.scroll},a)):u.push(e.fullPath,a)),m.value=e,te(e,t,n,l),ee()}let Y;function $(){Y||(Y=u.listen((e,t,n)=>{if(!oe.listening)return;const r=j(e),a=F(r);if(a)return void M(o(a,{replace:!0}),r).catch(l);b=r;const s=m.value;i&&D(C(s.fullPath,n.delta),A()),U(r,s).catch(e=>q(e,12)?e:q(e,2)?(M(e.to,r).then(e=>{q(e,20)&&!n.delta&&n.type===O.pop&&u.go(-1,!1)}).catch(l),Promise.reject()):(n.delta&&u.go(-n.delta,!1),Q(e,r,s))).then(e=>{e=e||K(r,s,!1),e&&(n.delta&&!q(e,8)?u.go(-n.delta,!1):n.type===O.pop&&q(e,20)&&u.go(-1,!1)),H(r,s,e)}).catch(l)}))}let z,X=Ve(),J=Ve();function Q(e,t,n){ee(e);const r=J.list();return r.length?r.forEach(r=>r(e,t,n)):console.error(e),Promise.reject(e)}function Z(){return z&&m.value!==G?Promise.resolve():new Promise((e,t)=>{X.add([e,t])})}function ee(e){return z||(z=!e,$(),X.list().forEach(([t,n])=>e?n(e):t()),X.reset()),e}function te(t,n,a,o){const{scrollBehavior:s}=e;if(!i||!s)return Promise.resolve();const l=!a&&R(C(t.fullPath,0))||(o||!a)&&history.state&&history.state.scroll||null;return Object(r["nextTick"])().then(()=>s(t,n,l)).then(e=>e&&w(e)).catch(e=>Q(e,t,n))}const ne=e=>u.go(e);let re;const ae=new Set,oe={currentRoute:m,listening:!0,addRoute:_,removeRoute:S,hasRoute:L,getRoutes:k,resolve:j,options:e,push:P,replace:N,go:ne,back:()=>ne(-1),forward:()=>ne(1),beforeEach:d.add,beforeResolve:p.add,afterEach:v.add,onError:J.add,isReady:Z,install(e){const t=this;e.component("RouterLink",Ye),e.component("RouterView",et),e.config.globalProperties.$router=t,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>Object(r["unref"])(m)}),i&&!re&&m.value===G&&(re=!0,P(u.location).catch(e=>{0}));const n={};for(const i in G)n[i]=Object(r["computed"])(()=>m.value[i]);e.provide(Me,t),e.provide(Be,Object(r["reactive"])(n)),e.provide(Ue,m);const a=e.unmount;ae.add(e),e.unmount=function(){ae.delete(e),ae.size<1&&(b=G,Y&&Y(),Y=null,m.value=G,re=!1,z=!1),a()}}};return oe}function nt(e){return e.reduce((e,t)=>e.then(()=>t()),Promise.resolve())}function rt(e,t){const n=[],r=[],i=[],a=Math.max(t.matched.length,e.matched.length);for(let o=0;o<a;o++){const a=t.matched[o];a&&(e.matched.find(e=>v(e,a))?r.push(a):n.push(a));const s=e.matched[o];s&&(t.matched.find(e=>v(e,s))||i.push(s))}return[n,r,i]}function it(){return Object(r["inject"])(Me)}},6872:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var r=n("7a23"),i=n("fa7c"),a=n("efd9");function o(){const e=Object(r["reactive"])({show:!1}),t=t=>{e.show=t},n=n=>{Object(i["a"])(e,n,{transitionAppear:!0}),t(!0)},o=()=>t(!1);return Object(a["a"])({open:n,close:o,toggle:t}),{open:n,close:o,state:e,toggle:t}}function s(e){const t=Object(r["createApp"])(e),n=document.createElement("div");return document.body.appendChild(n),{instance:t.mount(n),unmount(){t.unmount(),document.body.removeChild(n)}}}},"68ef":function(e,t,n){},"69f3":function(e,t,n){var r,i,a,o=n("cdce"),s=n("da84"),l=n("861d"),c=n("9112"),u=n("1a2d"),d=n("c6cd"),f=n("f772"),h=n("d012"),p="Object already initialized",g=s.TypeError,v=s.WeakMap,m=function(e){return a(e)?i(e):r(e,{})},b=function(e){return function(t){var n;if(!l(t)||(n=i(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return n}};if(o||d.state){var y=d.state||(d.state=new v);y.get=y.get,y.has=y.has,y.set=y.set,r=function(e,t){if(y.has(e))throw g(p);return t.facade=e,y.set(e,t),t},i=function(e){return y.get(e)||{}},a=function(e){return y.has(e)}}else{var E=f("state");h[E]=!0,r=function(e,t){if(u(e,E))throw g(p);return t.facade=e,c(e,E,t),t},i=function(e){return u(e,E)?e[E]:{}},a=function(e){return u(e,E)}}e.exports={set:r,get:i,has:a,enforce:m,getterFor:b}},"6b0d":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n}},7234:function(e,t){e.exports=function(e){return null===e||void 0===e}},7418:function(e,t){t.f=Object.getOwnPropertySymbols},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7a23":function(e,t,n){"use strict";n.r(t),n.d(t,"EffectScope",(function(){return a})),n.d(t,"ReactiveEffect",(function(){return T})),n.d(t,"customRef",(function(){return Ze})),n.d(t,"effect",(function(){return S})),n.d(t,"effectScope",(function(){return o})),n.d(t,"getCurrentScope",(function(){return l})),n.d(t,"isProxy",(function(){return Ne})),n.d(t,"isReactive",(function(){return Ie})),n.d(t,"isReadonly",(function(){return xe})),n.d(t,"isRef",(function(){return He})),n.d(t,"isShallow",(function(){return Pe})),n.d(t,"markRaw",(function(){return Me})),n.d(t,"onScopeDispose",(function(){return c})),n.d(t,"proxyRefs",(function(){return Je})),n.d(t,"reactive",(function(){return we})),n.d(t,"readonly",(function(){return je})),n.d(t,"ref",(function(){return Ke})),n.d(t,"shallowReactive",(function(){return Ce})),n.d(t,"shallowReadonly",(function(){return De})),n.d(t,"shallowRef",(function(){return We})),n.d(t,"stop",(function(){return k})),n.d(t,"toRaw",(function(){return Fe})),n.d(t,"toRef",(function(){return nt})),n.d(t,"toRefs",(function(){return et})),n.d(t,"triggerRef",(function(){return $e})),n.d(t,"unref",(function(){return ze})),n.d(t,"camelize",(function(){return r["e"]})),n.d(t,"capitalize",(function(){return r["f"]})),n.d(t,"normalizeClass",(function(){return r["J"]})),n.d(t,"normalizeProps",(function(){return r["K"]})),n.d(t,"normalizeStyle",(function(){return r["L"]})),n.d(t,"toDisplayString",(function(){return r["N"]})),n.d(t,"toHandlerKey",(function(){return r["O"]})),n.d(t,"BaseTransition",(function(){return Dn})),n.d(t,"Comment",(function(){return Di})),n.d(t,"Fragment",(function(){return Ci})),n.d(t,"KeepAlive",(function(){return Kn})),n.d(t,"Static",(function(){return Ri})),n.d(t,"Suspense",(function(){return sn})),n.d(t,"Teleport",(function(){return wi})),n.d(t,"Text",(function(){return ji})),n.d(t,"callWithAsyncErrorHandling",(function(){return pt})),n.d(t,"callWithErrorHandling",(function(){return ht})),n.d(t,"cloneVNode",(function(){return Zi})),n.d(t,"compatUtils",(function(){return eo})),n.d(t,"computed",(function(){return Ia})),n.d(t,"createBlock",(function(){return Gi})),n.d(t,"createCommentVNode",(function(){return na})),n.d(t,"createElementBlock",(function(){return Vi})),n.d(t,"createElementVNode",(function(){return zi})),n.d(t,"createHydrationRenderer",(function(){return vi})),n.d(t,"createPropsRestProxy",(function(){return Ga})),n.d(t,"createRenderer",(function(){return gi})),n.d(t,"createSlots",(function(){return Or})),n.d(t,"createStaticVNode",(function(){return ta})),n.d(t,"createTextVNode",(function(){return ea})),n.d(t,"createVNode",(function(){return Xi})),n.d(t,"defineAsyncComponent",(function(){return Un})),n.d(t,"defineComponent",(function(){return Mn})),n.d(t,"defineEmits",(function(){return Pa})),n.d(t,"defineExpose",(function(){return Na})),n.d(t,"defineProps",(function(){return xa})),n.d(t,"devtools",(function(){return Ft})),n.d(t,"getCurrentInstance",(function(){return fa})),n.d(t,"getTransitionRawChildren",(function(){return Fn})),n.d(t,"guardReactiveProps",(function(){return Qi})),n.d(t,"h",(function(){return Ka})),n.d(t,"handleError",(function(){return gt})),n.d(t,"initCustomFormatter",(function(){return Ya})),n.d(t,"inject",(function(){return bn})),n.d(t,"isMemoSame",(function(){return za})),n.d(t,"isRuntimeOnly",(function(){return _a})),n.d(t,"isVNode",(function(){return Hi})),n.d(t,"mergeDefaults",(function(){return Va})),n.d(t,"mergeProps",(function(){return oa})),n.d(t,"nextTick",(function(){return Lt})),n.d(t,"onActivated",(function(){return qn})),n.d(t,"onBeforeMount",(function(){return er})),n.d(t,"onBeforeUnmount",(function(){return ir})),n.d(t,"onBeforeUpdate",(function(){return nr})),n.d(t,"onDeactivated",(function(){return Yn})),n.d(t,"onErrorCaptured",(function(){return cr})),n.d(t,"onMounted",(function(){return tr})),n.d(t,"onRenderTracked",(function(){return lr})),n.d(t,"onRenderTriggered",(function(){return sr})),n.d(t,"onServerPrefetch",(function(){return or})),n.d(t,"onUnmounted",(function(){return ar})),n.d(t,"onUpdated",(function(){return rr})),n.d(t,"openBlock",(function(){return Pi})),n.d(t,"popScopeId",(function(){return $t})),n.d(t,"provide",(function(){return mn})),n.d(t,"pushScopeId",(function(){return Yt})),n.d(t,"queuePostFlushCb",(function(){return Dt})),n.d(t,"registerRuntimeCompiler",(function(){return Ta})),n.d(t,"renderList",(function(){return Er})),n.d(t,"renderSlot",(function(){return Tr})),n.d(t,"resolveComponent",(function(){return pr})),n.d(t,"resolveDirective",(function(){return mr})),n.d(t,"resolveDynamicComponent",(function(){return vr})),n.d(t,"resolveFilter",(function(){return Za})),n.d(t,"resolveTransitionHooks",(function(){return In})),n.d(t,"setBlockTracking",(function(){return Bi})),n.d(t,"setDevtoolsHook",(function(){return Ut})),n.d(t,"setTransitionHooks",(function(){return Nn})),n.d(t,"ssrContextKey",(function(){return Wa})),n.d(t,"ssrUtils",(function(){return Qa})),n.d(t,"toHandlers",(function(){return Sr})),n.d(t,"transformVNodeArgs",(function(){return Wi})),n.d(t,"useAttrs",(function(){return Ba})),n.d(t,"useSSRContext",(function(){return qa})),n.d(t,"useSlots",(function(){return Ma})),n.d(t,"useTransitionState",(function(){return wn})),n.d(t,"version",(function(){return Xa})),n.d(t,"warn",(function(){return st})),n.d(t,"watch",(function(){return _n})),n.d(t,"watchEffect",(function(){return yn})),n.d(t,"watchPostEffect",(function(){return En})),n.d(t,"watchSyncEffect",(function(){return On})),n.d(t,"withAsyncContext",(function(){return Ha})),n.d(t,"withCtx",(function(){return Xt})),n.d(t,"withDefaults",(function(){return Fa})),n.d(t,"withDirectives",(function(){return ur})),n.d(t,"withMemo",(function(){return $a})),n.d(t,"withScopeId",(function(){return zt})),n.d(t,"Transition",(function(){return Bo})),n.d(t,"TransitionGroup",(function(){return as})),n.d(t,"VueElement",(function(){return Ro})),n.d(t,"createApp",(function(){return Us})),n.d(t,"createSSRApp",(function(){return Vs})),n.d(t,"defineCustomElement",(function(){return Co})),n.d(t,"defineSSRCustomElement",(function(){return jo})),n.d(t,"hydrate",(function(){return Bs})),n.d(t,"initDirectivesForSSR",(function(){return Ks})),n.d(t,"render",(function(){return Ms})),n.d(t,"useCssModule",(function(){return Io})),n.d(t,"useCssVars",(function(){return xo})),n.d(t,"vModelCheckbox",(function(){return ps})),n.d(t,"vModelDynamic",(function(){return Os})),n.d(t,"vModelRadio",(function(){return vs})),n.d(t,"vModelSelect",(function(){return ms})),n.d(t,"vModelText",(function(){return hs})),n.d(t,"vShow",(function(){return js})),n.d(t,"withKeys",(function(){return Cs})),n.d(t,"withModifiers",(function(){return As})),n.d(t,"compile",(function(){return Ws}));var r=n("9ff4");let i;class a{constructor(e=!1){this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=i,!e&&i&&(this.index=(i.scopes||(i.scopes=[])).push(this)-1)}run(e){if(this.active){const t=i;try{return i=this,e()}finally{i=t}}else 0}on(){i=this}off(){i=this.parent}stop(e){if(this.active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0,this.active=!1}}}function o(e){return new a(e)}function s(e,t=i){t&&t.active&&t.effects.push(e)}function l(){return i}function c(e){i&&i.cleanups.push(e)}const u=e=>{const t=new Set(e);return t.w=0,t.n=0,t},d=e=>(e.w&m)>0,f=e=>(e.n&m)>0,h=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=m},p=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];d(i)&&!f(i)?i.delete(e):t[n++]=i,i.w&=~m,i.n&=~m}t.length=n}},g=new WeakMap;let v=0,m=1;const b=30;let y;const E=Symbol(""),O=Symbol("");class T{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,s(this,n)}run(){if(!this.active)return this.fn();let e=y,t=L;while(e){if(e===this)return;e=e.parent}try{return this.parent=y,y=this,L=!0,m=1<<++v,v<=b?h(this):_(this),this.fn()}finally{v<=b&&p(this),m=1<<--v,y=this.parent,L=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){y===this?this.deferStop=!0:this.active&&(_(this),this.onStop&&this.onStop(),this.active=!1)}}function _(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}function S(e,t){e.effect&&(e=e.effect.fn);const n=new T(e);t&&(Object(r["h"])(n,t),t.scope&&s(n,t.scope)),t&&t.lazy||n.run();const i=n.run.bind(n);return i.effect=n,i}function k(e){e.effect.stop()}let L=!0;const A=[];function w(){A.push(L),L=!1}function C(){const e=A.pop();L=void 0===e||e}function j(e,t,n){if(L&&y){let t=g.get(e);t||g.set(e,t=new Map);let r=t.get(n);r||t.set(n,r=u());const i=void 0;D(r,i)}}function D(e,t){let n=!1;v<=b?f(e)||(e.n|=m,n=!d(e)):n=!e.has(y),n&&(e.add(y),y.deps.push(e))}function R(e,t,n,i,a,o){const s=g.get(e);if(!s)return;let l=[];if("clear"===t)l=[...s.values()];else if("length"===n&&Object(r["o"])(e))s.forEach((e,t)=>{("length"===t||t>=i)&&l.push(e)});else switch(void 0!==n&&l.push(s.get(n)),t){case"add":Object(r["o"])(e)?Object(r["t"])(n)&&l.push(s.get("length")):(l.push(s.get(E)),Object(r["u"])(e)&&l.push(s.get(O)));break;case"delete":Object(r["o"])(e)||(l.push(s.get(E)),Object(r["u"])(e)&&l.push(s.get(O)));break;case"set":Object(r["u"])(e)&&l.push(s.get(E));break}if(1===l.length)l[0]&&I(l[0]);else{const e=[];for(const t of l)t&&e.push(...t);I(u(e))}}function I(e,t){const n=Object(r["o"])(e)?e:[...e];for(const r of n)r.computed&&x(r,t);for(const r of n)r.computed||x(r,t)}function x(e,t){(e!==y||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const P=Object(r["I"])("__proto__,__v_isRef,__isVue"),N=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>"arguments"!==e&&"caller"!==e).map(e=>Symbol[e]).filter(r["F"])),F=H(),M=H(!1,!0),B=H(!0),U=H(!0,!0),V=G();function G(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...e){const n=Fe(this);for(let t=0,i=this.length;t<i;t++)j(n,"get",t+"");const r=n[t](...e);return-1===r||!1===r?n[t](...e.map(Fe)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...e){w();const n=Fe(this)[t].apply(this,e);return C(),n}}),e}function H(e=!1,t=!1){return function(n,i,a){if("__v_isReactive"===i)return!e;if("__v_isReadonly"===i)return e;if("__v_isShallow"===i)return t;if("__v_raw"===i&&a===(e?t?ke:Se:t?_e:Te).get(n))return n;const o=Object(r["o"])(n);if(!e&&o&&Object(r["k"])(V,i))return Reflect.get(V,i,a);const s=Reflect.get(n,i,a);return(Object(r["F"])(i)?N.has(i):P(i))?s:(e||j(n,"get",i),t?s:He(s)?o&&Object(r["t"])(i)?s:s.value:Object(r["w"])(s)?e?je(s):we(s):s)}}const K=q(),W=q(!0);function q(e=!1){return function(t,n,i,a){let o=t[n];if(xe(o)&&He(o)&&!He(i))return!1;if(!e&&(Pe(i)||xe(i)||(o=Fe(o),i=Fe(i)),!Object(r["o"])(t)&&He(o)&&!He(i)))return o.value=i,!0;const s=Object(r["o"])(t)&&Object(r["t"])(n)?Number(n)<t.length:Object(r["k"])(t,n),l=Reflect.set(t,n,i,a);return t===Fe(a)&&(s?Object(r["j"])(i,o)&&R(t,"set",n,i,o):R(t,"add",n,i)),l}}function Y(e,t){const n=Object(r["k"])(e,t),i=e[t],a=Reflect.deleteProperty(e,t);return a&&n&&R(e,"delete",t,void 0,i),a}function $(e,t){const n=Reflect.has(e,t);return Object(r["F"])(t)&&N.has(t)||j(e,"has",t),n}function z(e){return j(e,"iterate",Object(r["o"])(e)?"length":E),Reflect.ownKeys(e)}const X={get:F,set:K,deleteProperty:Y,has:$,ownKeys:z},J={get:B,set(e,t){return!0},deleteProperty(e,t){return!0}},Q=Object(r["h"])({},X,{get:M,set:W}),Z=Object(r["h"])({},J,{get:U}),ee=e=>e,te=e=>Reflect.getPrototypeOf(e);function ne(e,t,n=!1,r=!1){e=e["__v_raw"];const i=Fe(e),a=Fe(t);n||(t!==a&&j(i,"get",t),j(i,"get",a));const{has:o}=te(i),s=r?ee:n?Ue:Be;return o.call(i,t)?s(e.get(t)):o.call(i,a)?s(e.get(a)):void(e!==i&&e.get(t))}function re(e,t=!1){const n=this["__v_raw"],r=Fe(n),i=Fe(e);return t||(e!==i&&j(r,"has",e),j(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function ie(e,t=!1){return e=e["__v_raw"],!t&&j(Fe(e),"iterate",E),Reflect.get(e,"size",e)}function ae(e){e=Fe(e);const t=Fe(this),n=te(t),r=n.has.call(t,e);return r||(t.add(e),R(t,"add",e,e)),this}function oe(e,t){t=Fe(t);const n=Fe(this),{has:i,get:a}=te(n);let o=i.call(n,e);o||(e=Fe(e),o=i.call(n,e));const s=a.call(n,e);return n.set(e,t),o?Object(r["j"])(t,s)&&R(n,"set",e,t,s):R(n,"add",e,t),this}function se(e){const t=Fe(this),{has:n,get:r}=te(t);let i=n.call(t,e);i||(e=Fe(e),i=n.call(t,e));const a=r?r.call(t,e):void 0,o=t.delete(e);return i&&R(t,"delete",e,void 0,a),o}function le(){const e=Fe(this),t=0!==e.size,n=void 0,r=e.clear();return t&&R(e,"clear",void 0,void 0,n),r}function ce(e,t){return function(n,r){const i=this,a=i["__v_raw"],o=Fe(a),s=t?ee:e?Ue:Be;return!e&&j(o,"iterate",E),a.forEach((e,t)=>n.call(r,s(e),s(t),i))}}function ue(e,t,n){return function(...i){const a=this["__v_raw"],o=Fe(a),s=Object(r["u"])(o),l="entries"===e||e===Symbol.iterator&&s,c="keys"===e&&s,u=a[e](...i),d=n?ee:t?Ue:Be;return!t&&j(o,"iterate",c?O:E),{next(){const{value:e,done:t}=u.next();return t?{value:e,done:t}:{value:l?[d(e[0]),d(e[1])]:d(e),done:t}},[Symbol.iterator](){return this}}}}function de(e){return function(...t){return"delete"!==e&&this}}function fe(){const e={get(e){return ne(this,e)},get size(){return ie(this)},has:re,add:ae,set:oe,delete:se,clear:le,forEach:ce(!1,!1)},t={get(e){return ne(this,e,!1,!0)},get size(){return ie(this)},has:re,add:ae,set:oe,delete:se,clear:le,forEach:ce(!1,!0)},n={get(e){return ne(this,e,!0)},get size(){return ie(this,!0)},has(e){return re.call(this,e,!0)},add:de("add"),set:de("set"),delete:de("delete"),clear:de("clear"),forEach:ce(!0,!1)},r={get(e){return ne(this,e,!0,!0)},get size(){return ie(this,!0)},has(e){return re.call(this,e,!0)},add:de("add"),set:de("set"),delete:de("delete"),clear:de("clear"),forEach:ce(!0,!0)},i=["keys","values","entries",Symbol.iterator];return i.forEach(i=>{e[i]=ue(i,!1,!1),n[i]=ue(i,!0,!1),t[i]=ue(i,!1,!0),r[i]=ue(i,!0,!0)}),[e,n,t,r]}const[he,pe,ge,ve]=fe();function me(e,t){const n=t?e?ve:ge:e?pe:he;return(t,i,a)=>"__v_isReactive"===i?!e:"__v_isReadonly"===i?e:"__v_raw"===i?t:Reflect.get(Object(r["k"])(n,i)&&i in t?n:t,i,a)}const be={get:me(!1,!1)},ye={get:me(!1,!0)},Ee={get:me(!0,!1)},Oe={get:me(!0,!0)};const Te=new WeakMap,_e=new WeakMap,Se=new WeakMap,ke=new WeakMap;function Le(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ae(e){return e["__v_skip"]||!Object.isExtensible(e)?0:Le(Object(r["Q"])(e))}function we(e){return xe(e)?e:Re(e,!1,X,be,Te)}function Ce(e){return Re(e,!1,Q,ye,_e)}function je(e){return Re(e,!0,J,Ee,Se)}function De(e){return Re(e,!0,Z,Oe,ke)}function Re(e,t,n,i,a){if(!Object(r["w"])(e))return e;if(e["__v_raw"]&&(!t||!e["__v_isReactive"]))return e;const o=a.get(e);if(o)return o;const s=Ae(e);if(0===s)return e;const l=new Proxy(e,2===s?i:n);return a.set(e,l),l}function Ie(e){return xe(e)?Ie(e["__v_raw"]):!(!e||!e["__v_isReactive"])}function xe(e){return!(!e||!e["__v_isReadonly"])}function Pe(e){return!(!e||!e["__v_isShallow"])}function Ne(e){return Ie(e)||xe(e)}function Fe(e){const t=e&&e["__v_raw"];return t?Fe(t):e}function Me(e){return Object(r["g"])(e,"__v_skip",!0),e}const Be=e=>Object(r["w"])(e)?we(e):e,Ue=e=>Object(r["w"])(e)?je(e):e;function Ve(e){L&&y&&(e=Fe(e),D(e.dep||(e.dep=u())))}function Ge(e,t){e=Fe(e),e.dep&&I(e.dep)}function He(e){return!(!e||!0!==e.__v_isRef)}function Ke(e){return qe(e,!1)}function We(e){return qe(e,!0)}function qe(e,t){return He(e)?e:new Ye(e,t)}class Ye{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Fe(e),this._value=t?e:Be(e)}get value(){return Ve(this),this._value}set value(e){const t=this.__v_isShallow||Pe(e)||xe(e);e=t?e:Fe(e),Object(r["j"])(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:Be(e),Ge(this,e))}}function $e(e){Ge(e,void 0)}function ze(e){return He(e)?e.value:e}const Xe={get:(e,t,n)=>ze(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return He(i)&&!He(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function Je(e){return Ie(e)?e:new Proxy(e,Xe)}class Qe{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:t,set:n}=e(()=>Ve(this),()=>Ge(this));this._get=t,this._set=n}get value(){return this._get()}set value(e){this._set(e)}}function Ze(e){return new Qe(e)}function et(e){const t=Object(r["o"])(e)?new Array(e.length):{};for(const n in e)t[n]=nt(e,n);return t}class tt{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}}function nt(e,t,n){const r=e[t];return He(r)?r:new tt(e,t,n)}var rt;class it{constructor(e,t,n,r){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this[rt]=!1,this._dirty=!0,this.effect=new T(e,()=>{this._dirty||(this._dirty=!0,Ge(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this["__v_isReadonly"]=n}get value(){const e=Fe(this);return Ve(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function at(e,t,n=!1){let i,a;const o=Object(r["q"])(e);o?(i=e,a=r["d"]):(i=e.get,a=e.set);const s=new it(i,a,o||!a,n);return s}rt="__v_isReadonly";const ot=[];function st(e,...t){w();const n=ot.length?ot[ot.length-1].component:null,r=n&&n.appContext.config.warnHandler,i=lt();if(r)ht(r,n,11,[e+t.join(""),n&&n.proxy,i.map(({vnode:e})=>`at <${Da(n,e.type)}>`).join("\n"),i]);else{const n=["[Vue warn]: "+e,...t];i.length&&n.push("\n",...ct(i)),console.warn(...n)}C()}function lt(){let e=ot[ot.length-1];if(!e)return[];const t=[];while(e){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const r=e.component&&e.component.parent;e=r&&r.vnode}return t}function ct(e){const t=[];return e.forEach((e,n)=>{t.push(...0===n?[]:["\n"],...ut(e))}),t}function ut({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",r=!!e.component&&null==e.component.parent,i=" at <"+Da(e.component,e.type,r),a=">"+n;return e.props?[i,...dt(e.props),a]:[i+a]}function dt(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(n=>{t.push(...ft(n,e[n]))}),n.length>3&&t.push(" ..."),t}function ft(e,t,n){return Object(r["E"])(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):"number"===typeof t||"boolean"===typeof t||null==t?n?t:[`${e}=${t}`]:He(t)?(t=ft(e,Fe(t.value),!0),n?t:[e+"=Ref<",t,">"]):Object(r["q"])(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=Fe(t),n?t:[e+"=",t])}function ht(e,t,n,r){let i;try{i=r?e(...r):e()}catch(a){gt(a,t,n)}return i}function pt(e,t,n,i){if(Object(r["q"])(e)){const a=ht(e,t,n,i);return a&&Object(r["z"])(a)&&a.catch(e=>{gt(e,t,n)}),a}const a=[];for(let r=0;r<e.length;r++)a.push(pt(e[r],t,n,i));return a}function gt(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let r=t.parent;const i=t.proxy,a=n;while(r){const t=r.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,i,a))return;r=r.parent}const o=t.appContext.config.errorHandler;if(o)return void ht(o,null,10,[e,i,a])}vt(e,n,i,r)}function vt(e,t,n,r=!0){console.error(e)}let mt=!1,bt=!1;const yt=[];let Et=0;const Ot=[];let Tt=null,_t=0;const St=Promise.resolve();let kt=null;function Lt(e){const t=kt||St;return e?t.then(this?e.bind(this):e):t}function At(e){let t=Et+1,n=yt.length;while(t<n){const r=t+n>>>1,i=xt(yt[r]);i<e?t=r+1:n=r}return t}function wt(e){yt.length&&yt.includes(e,mt&&e.allowRecurse?Et+1:Et)||(null==e.id?yt.push(e):yt.splice(At(e.id),0,e),Ct())}function Ct(){mt||bt||(bt=!0,kt=St.then(Nt))}function jt(e){const t=yt.indexOf(e);t>Et&&yt.splice(t,1)}function Dt(e){Object(r["o"])(e)?Ot.push(...e):Tt&&Tt.includes(e,e.allowRecurse?_t+1:_t)||Ot.push(e),Ct()}function Rt(e,t=(mt?Et+1:0)){for(0;t<yt.length;t++){const e=yt[t];e&&e.pre&&(yt.splice(t,1),t--,e())}}function It(e){if(Ot.length){const e=[...new Set(Ot)];if(Ot.length=0,Tt)return void Tt.push(...e);for(Tt=e,Tt.sort((e,t)=>xt(e)-xt(t)),_t=0;_t<Tt.length;_t++)Tt[_t]();Tt=null,_t=0}}const xt=e=>null==e.id?1/0:e.id,Pt=(e,t)=>{const n=xt(e)-xt(t);if(0===n){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Nt(e){bt=!1,mt=!0,yt.sort(Pt);r["d"];try{for(Et=0;Et<yt.length;Et++){const e=yt[Et];e&&!1!==e.active&&ht(e,null,14)}}finally{Et=0,yt.length=0,It(e),mt=!1,kt=null,(yt.length||Ot.length)&&Nt(e)}}new Set;new Map;let Ft,Mt=[],Bt=!1;function Ut(e,t){var n,r;if(Ft=e,Ft)Ft.enabled=!0,Mt.forEach(({event:e,args:t})=>Ft.emit(e,...t)),Mt=[];else if("undefined"!==typeof window&&window.HTMLElement&&!(null===(r=null===(n=window.navigator)||void 0===n?void 0:n.userAgent)||void 0===r?void 0:r.includes("jsdom"))){const e=t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[];e.push(e=>{Ut(e,t)}),setTimeout(()=>{Ft||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Bt=!0,Mt=[])},3e3)}else Bt=!0,Mt=[]}function Vt(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||r["b"];let a=n;const o=t.startsWith("update:"),s=o&&t.slice(7);if(s&&s in i){const e=("modelValue"===s?"model":s)+"Modifiers",{number:t,trim:o}=i[e]||r["b"];o&&(a=n.map(e=>e.trim())),t&&(a=n.map(r["P"]))}let l;let c=i[l=Object(r["O"])(t)]||i[l=Object(r["O"])(Object(r["e"])(t))];!c&&o&&(c=i[l=Object(r["O"])(Object(r["l"])(t))]),c&&pt(c,e,6,a);const u=i[l+"Once"];if(u){if(e.emitted){if(e.emitted[l])return}else e.emitted={};e.emitted[l]=!0,pt(u,e,6,a)}}function Gt(e,t,n=!1){const i=t.emitsCache,a=i.get(e);if(void 0!==a)return a;const o=e.emits;let s={},l=!1;if(!Object(r["q"])(e)){const i=e=>{const n=Gt(e,t,!0);n&&(l=!0,Object(r["h"])(s,n))};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}return o||l?(Object(r["o"])(o)?o.forEach(e=>s[e]=null):Object(r["h"])(s,o),Object(r["w"])(e)&&i.set(e,s),s):(Object(r["w"])(e)&&i.set(e,null),null)}function Ht(e,t){return!(!e||!Object(r["x"])(t))&&(t=t.slice(2).replace(/Once$/,""),Object(r["k"])(e,t[0].toLowerCase()+t.slice(1))||Object(r["k"])(e,Object(r["l"])(t))||Object(r["k"])(e,t))}let Kt=null,Wt=null;function qt(e){const t=Kt;return Kt=e,Wt=e&&e.type.__scopeId||null,t}function Yt(e){Wt=e}function $t(){Wt=null}const zt=e=>Xt;function Xt(e,t=Kt,n){if(!t)return e;if(e._n)return e;const r=(...n)=>{r._d&&Bi(-1);const i=qt(t);let a;try{a=e(...n)}finally{qt(i),r._d&&Bi(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function Jt(e){const{type:t,vnode:n,proxy:i,withProxy:a,props:o,propsOptions:[s],slots:l,attrs:c,emit:u,render:d,renderCache:f,data:h,setupState:p,ctx:g,inheritAttrs:v}=e;let m,b;const y=qt(e);try{if(4&n.shapeFlag){const e=a||i;m=ra(d.call(e,e,f,o,p,h,g)),b=c}else{const e=t;0,m=ra(e.length>1?e(o,{attrs:c,slots:l,emit:u}):e(o,null)),b=t.props?c:Zt(c)}}catch(O){Ii.length=0,gt(O,e,1),m=Xi(Di)}let E=m;if(b&&!1!==v){const e=Object.keys(b),{shapeFlag:t}=E;e.length&&7&t&&(s&&e.some(r["v"])&&(b=en(b,s)),E=Zi(E,b))}return n.dirs&&(E=Zi(E),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&(E.transition=n.transition),m=E,qt(y),m}function Qt(e){let t;for(let n=0;n<e.length;n++){const r=e[n];if(!Hi(r))return;if(r.type!==Di||"v-if"===r.children){if(t)return;t=r}}return t}const Zt=e=>{let t;for(const n in e)("class"===n||"style"===n||Object(r["x"])(n))&&((t||(t={}))[n]=e[n]);return t},en=(e,t)=>{const n={};for(const i in e)Object(r["v"])(i)&&i.slice(9)in t||(n[i]=e[i]);return n};function tn(e,t,n){const{props:r,children:i,component:a}=e,{props:o,children:s,patchFlag:l}=t,c=a.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!i&&!s||s&&s.$stable)||r!==o&&(r?!o||nn(r,o,c):!!o);if(1024&l)return!0;if(16&l)return r?nn(r,o,c):!!o;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(o[n]!==r[n]&&!Ht(c,n))return!0}}return!1}function nn(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const a=r[i];if(t[a]!==e[a]&&!Ht(n,a))return!0}return!1}function rn({vnode:e,parent:t},n){while(t&&t.subTree===e)(e=t.vnode).el=n,t=t.parent}const an=e=>e.__isSuspense,on={name:"Suspense",__isSuspense:!0,process(e,t,n,r,i,a,o,s,l,c){null==e?cn(t,n,r,i,a,o,s,l,c):un(e,t,n,r,i,o,s,l,c)},hydrate:fn,create:dn,normalize:hn},sn=on;function ln(e,t){const n=e.props&&e.props[t];Object(r["q"])(n)&&n()}function cn(e,t,n,r,i,a,o,s,l){const{p:c,o:{createElement:u}}=l,d=u("div"),f=e.suspense=dn(e,i,r,t,d,n,a,o,s,l);c(null,f.pendingBranch=e.ssContent,d,null,r,f,a,o),f.deps>0?(ln(e,"onPending"),ln(e,"onFallback"),c(null,e.ssFallback,t,n,r,null,a,o),vn(f,e.ssFallback)):f.resolve()}function un(e,t,n,r,i,a,o,s,{p:l,um:c,o:{createElement:u}}){const d=t.suspense=e.suspense;d.vnode=t,t.el=e.el;const f=t.ssContent,h=t.ssFallback,{activeBranch:p,pendingBranch:g,isInFallback:v,isHydrating:m}=d;if(g)d.pendingBranch=f,Ki(f,g)?(l(g,f,d.hiddenContainer,null,i,d,a,o,s),d.deps<=0?d.resolve():v&&(l(p,h,n,r,i,null,a,o,s),vn(d,h))):(d.pendingId++,m?(d.isHydrating=!1,d.activeBranch=g):c(g,i,d),d.deps=0,d.effects.length=0,d.hiddenContainer=u("div"),v?(l(null,f,d.hiddenContainer,null,i,d,a,o,s),d.deps<=0?d.resolve():(l(p,h,n,r,i,null,a,o,s),vn(d,h))):p&&Ki(f,p)?(l(p,f,n,r,i,d,a,o,s),d.resolve(!0)):(l(null,f,d.hiddenContainer,null,i,d,a,o,s),d.deps<=0&&d.resolve()));else if(p&&Ki(f,p))l(p,f,n,r,i,d,a,o,s),vn(d,f);else if(ln(t,"onPending"),d.pendingBranch=f,d.pendingId++,l(null,f,d.hiddenContainer,null,i,d,a,o,s),d.deps<=0)d.resolve();else{const{timeout:e,pendingId:t}=d;e>0?setTimeout(()=>{d.pendingId===t&&d.fallback(h)},e):0===e&&d.fallback(h)}}function dn(e,t,n,i,a,o,s,l,c,u,d=!1){const{p:f,m:h,um:p,n:g,o:{parentNode:v,remove:m}}=u,b=Object(r["P"])(e.props&&e.props.timeout),y={vnode:e,parent:t,parentComponent:n,isSVG:s,container:i,hiddenContainer:a,anchor:o,deps:0,pendingId:0,timeout:"number"===typeof b?b:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:d,isUnmounted:!1,effects:[],resolve(e=!1){const{vnode:t,activeBranch:n,pendingBranch:r,pendingId:i,effects:a,parentComponent:o,container:s}=y;if(y.isHydrating)y.isHydrating=!1;else if(!e){const e=n&&r.transition&&"out-in"===r.transition.mode;e&&(n.transition.afterLeave=()=>{i===y.pendingId&&h(r,s,t,0)});let{anchor:t}=y;n&&(t=g(n),p(n,o,y,!0)),e||h(r,s,t,0)}vn(y,r),y.pendingBranch=null,y.isInFallback=!1;let l=y.parent,c=!1;while(l){if(l.pendingBranch){l.effects.push(...a),c=!0;break}l=l.parent}c||Dt(a),y.effects=[],ln(t,"onResolve")},fallback(e){if(!y.pendingBranch)return;const{vnode:t,activeBranch:n,parentComponent:r,container:i,isSVG:a}=y;ln(t,"onFallback");const o=g(n),s=()=>{y.isInFallback&&(f(null,e,i,o,r,null,a,l,c),vn(y,e))},u=e.transition&&"out-in"===e.transition.mode;u&&(n.transition.afterLeave=s),y.isInFallback=!0,p(n,r,null,!0),u||s()},move(e,t,n){y.activeBranch&&h(y.activeBranch,e,t,n),y.container=e},next(){return y.activeBranch&&g(y.activeBranch)},registerDep(e,t){const n=!!y.pendingBranch;n&&y.deps++;const r=e.vnode.el;e.asyncDep.catch(t=>{gt(t,e,0)}).then(i=>{if(e.isUnmounted||y.isUnmounted||y.pendingId!==e.suspenseId)return;e.asyncResolved=!0;const{vnode:a}=e;Oa(e,i,!1),r&&(a.el=r);const o=!r&&e.subTree.el;t(e,a,v(r||e.subTree.el),r?null:g(e.subTree),y,s,c),o&&m(o),rn(e,a.el),n&&0===--y.deps&&y.resolve()})},unmount(e,t){y.isUnmounted=!0,y.activeBranch&&p(y.activeBranch,n,e,t),y.pendingBranch&&p(y.pendingBranch,n,e,t)}};return y}function fn(e,t,n,r,i,a,o,s,l){const c=t.suspense=dn(t,r,n,e.parentNode,document.createElement("div"),null,i,a,o,s,!0),u=l(e,c.pendingBranch=t.ssContent,n,c,a,o);return 0===c.deps&&c.resolve(),u}function hn(e){const{shapeFlag:t,children:n}=e,r=32&t;e.ssContent=pn(r?n.default:n),e.ssFallback=r?pn(n.fallback):Xi(Di)}function pn(e){let t;if(Object(r["q"])(e)){const n=Mi&&e._c;n&&(e._d=!1,Pi()),e=e(),n&&(e._d=!0,t=xi,Ni())}if(Object(r["o"])(e)){const t=Qt(e);0,e=t}return e=ra(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(t=>t!==e)),e}function gn(e,t){t&&t.pendingBranch?Object(r["o"])(e)?t.effects.push(...e):t.effects.push(e):Dt(e)}function vn(e,t){e.activeBranch=t;const{vnode:n,parentComponent:r}=e,i=n.el=t.el;r&&r.subTree===n&&(r.vnode.el=i,rn(r,i))}function mn(e,t){if(da){let n=da.provides;const r=da.parent&&da.parent.provides;r===n&&(n=da.provides=Object.create(r)),n[e]=t}else 0}function bn(e,t,n=!1){const i=da||Kt;if(i){const a=null==i.parent?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(a&&e in a)return a[e];if(arguments.length>1)return n&&Object(r["q"])(t)?t.call(i.proxy):t}else 0}function yn(e,t){return Sn(e,null,t)}function En(e,t){return Sn(e,null,{flush:"post"})}function On(e,t){return Sn(e,null,{flush:"sync"})}const Tn={};function _n(e,t,n){return Sn(e,t,n)}function Sn(e,t,{immediate:n,deep:i,flush:a,onTrack:o,onTrigger:s}=r["b"]){const l=da;let c,u,d=!1,f=!1;if(He(e)?(c=()=>e.value,d=Pe(e)):Ie(e)?(c=()=>e,i=!0):Object(r["o"])(e)?(f=!0,d=e.some(e=>Ie(e)||Pe(e)),c=()=>e.map(e=>He(e)?e.value:Ie(e)?An(e):Object(r["q"])(e)?ht(e,l,2):void 0)):c=Object(r["q"])(e)?t?()=>ht(e,l,2):()=>{if(!l||!l.isUnmounted)return u&&u(),pt(e,l,3,[h])}:r["d"],t&&i){const e=c;c=()=>An(e())}let h=e=>{u=m.onStop=()=>{ht(e,l,4)}};if(ba)return h=r["d"],t?n&&pt(t,l,3,[c(),f?[]:void 0,h]):c(),r["d"];let p=f?[]:Tn;const g=()=>{if(m.active)if(t){const e=m.run();(i||d||(f?e.some((e,t)=>Object(r["j"])(e,p[t])):Object(r["j"])(e,p)))&&(u&&u(),pt(t,l,3,[e,p===Tn?void 0:p,h]),p=e)}else m.run()};let v;g.allowRecurse=!!t,"sync"===a?v=g:"post"===a?v=()=>pi(g,l&&l.suspense):(g.pre=!0,l&&(g.id=l.uid),v=()=>wt(g));const m=new T(c,v);return t?n?g():p=m.run():"post"===a?pi(m.run.bind(m),l&&l.suspense):m.run(),()=>{m.stop(),l&&l.scope&&Object(r["M"])(l.scope.effects,m)}}function kn(e,t,n){const i=this.proxy,a=Object(r["E"])(e)?e.includes(".")?Ln(i,e):()=>i[e]:e.bind(i,i);let o;Object(r["q"])(t)?o=t:(o=t.handler,n=t);const s=da;ha(this);const l=Sn(a,o.bind(i),n);return s?ha(s):pa(),l}function Ln(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function An(e,t){if(!Object(r["w"])(e)||e["__v_skip"])return e;if(t=t||new Set,t.has(e))return e;if(t.add(e),He(e))An(e.value,t);else if(Object(r["o"])(e))for(let n=0;n<e.length;n++)An(e[n],t);else if(Object(r["C"])(e)||Object(r["u"])(e))e.forEach(e=>{An(e,t)});else if(Object(r["y"])(e))for(const n in e)An(e[n],t);return e}function wn(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return tr(()=>{e.isMounted=!0}),ir(()=>{e.isUnmounting=!0}),e}const Cn=[Function,Array],jn={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Cn,onEnter:Cn,onAfterEnter:Cn,onEnterCancelled:Cn,onBeforeLeave:Cn,onLeave:Cn,onAfterLeave:Cn,onLeaveCancelled:Cn,onBeforeAppear:Cn,onAppear:Cn,onAfterAppear:Cn,onAppearCancelled:Cn},setup(e,{slots:t}){const n=fa(),r=wn();let i;return()=>{const a=t.default&&Fn(t.default(),!0);if(!a||!a.length)return;let o=a[0];if(a.length>1){let e=!1;for(const t of a)if(t.type!==Di){0,o=t,e=!0;break}}const s=Fe(e),{mode:l}=s;if(r.isLeaving)return xn(o);const c=Pn(o);if(!c)return xn(o);const u=In(c,s,r,n);Nn(c,u);const d=n.subTree,f=d&&Pn(d);let h=!1;const{getTransitionKey:p}=c.type;if(p){const e=p();void 0===i?i=e:e!==i&&(i=e,h=!0)}if(f&&f.type!==Di&&(!Ki(c,f)||h)){const e=In(f,s,r,n);if(Nn(f,e),"out-in"===l)return r.isLeaving=!0,e.afterLeave=()=>{r.isLeaving=!1,n.update()},xn(o);"in-out"===l&&c.type!==Di&&(e.delayLeave=(e,t,n)=>{const i=Rn(r,f);i[String(f.key)]=f,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=n})}return o}}},Dn=jn;function Rn(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function In(e,t,n,i){const{appear:a,mode:o,persisted:s=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:f,onLeave:h,onAfterLeave:p,onLeaveCancelled:g,onBeforeAppear:v,onAppear:m,onAfterAppear:b,onAppearCancelled:y}=t,E=String(e.key),O=Rn(n,e),T=(e,t)=>{e&&pt(e,i,9,t)},_=(e,t)=>{const n=t[1];T(e,t),Object(r["o"])(e)?e.every(e=>e.length<=1)&&n():e.length<=1&&n()},S={mode:o,persisted:s,beforeEnter(t){let r=l;if(!n.isMounted){if(!a)return;r=v||l}t._leaveCb&&t._leaveCb(!0);const i=O[E];i&&Ki(e,i)&&i.el._leaveCb&&i.el._leaveCb(),T(r,[t])},enter(e){let t=c,r=u,i=d;if(!n.isMounted){if(!a)return;t=m||c,r=b||u,i=y||d}let o=!1;const s=e._enterCb=t=>{o||(o=!0,T(t?i:r,[e]),S.delayedLeave&&S.delayedLeave(),e._enterCb=void 0)};t?_(t,[e,s]):s()},leave(t,r){const i=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return r();T(f,[t]);let a=!1;const o=t._leaveCb=n=>{a||(a=!0,r(),T(n?g:p,[t]),t._leaveCb=void 0,O[i]===e&&delete O[i])};O[i]=e,h?_(h,[t,o]):o()},clone(e){return In(e,t,n,i)}};return S}function xn(e){if(Gn(e))return e=Zi(e),e.children=null,e}function Pn(e){return Gn(e)?e.children?e.children[0]:void 0:e}function Nn(e,t){6&e.shapeFlag&&e.component?Nn(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Fn(e,t=!1,n){let r=[],i=0;for(let a=0;a<e.length;a++){let o=e[a];const s=null==n?o.key:String(n)+String(null!=o.key?o.key:a);o.type===Ci?(128&o.patchFlag&&i++,r=r.concat(Fn(o.children,t,s))):(t||o.type!==Di)&&r.push(null!=s?Zi(o,{key:s}):o)}if(i>1)for(let a=0;a<r.length;a++)r[a].patchFlag=-2;return r}function Mn(e){return Object(r["q"])(e)?{setup:e,name:e.name}:e}const Bn=e=>!!e.type.__asyncLoader;function Un(e){Object(r["q"])(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:i,delay:a=200,timeout:o,suspensible:s=!0,onError:l}=e;let c,u=null,d=0;const f=()=>(d++,u=null,h()),h=()=>{let e;return u||(e=u=t().catch(e=>{if(e=e instanceof Error?e:new Error(String(e)),l)return new Promise((t,n)=>{const r=()=>t(f()),i=()=>n(e);l(e,r,i,d+1)});throw e}).then(t=>e!==u&&u?u:(t&&(t.__esModule||"Module"===t[Symbol.toStringTag])&&(t=t.default),c=t,t)))};return Mn({name:"AsyncComponentWrapper",__asyncLoader:h,get __asyncResolved(){return c},setup(){const e=da;if(c)return()=>Vn(c,e);const t=t=>{u=null,gt(t,e,13,!i)};if(s&&e.suspense||ba)return h().then(t=>()=>Vn(t,e)).catch(e=>(t(e),()=>i?Xi(i,{error:e}):null));const r=Ke(!1),l=Ke(),d=Ke(!!a);return a&&setTimeout(()=>{d.value=!1},a),null!=o&&setTimeout(()=>{if(!r.value&&!l.value){const e=new Error(`Async component timed out after ${o}ms.`);t(e),l.value=e}},o),h().then(()=>{r.value=!0,e.parent&&Gn(e.parent.vnode)&&wt(e.parent.update)}).catch(e=>{t(e),l.value=e}),()=>r.value&&c?Vn(c,e):l.value&&i?Xi(i,{error:l.value}):n&&!d.value?Xi(n):void 0}})}function Vn(e,{vnode:{ref:t,props:n,children:r,shapeFlag:i},parent:a}){const o=Xi(e,n,r);return o.ref=t,o}const Gn=e=>e.type.__isKeepAlive,Hn={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=fa(),i=n.ctx;if(!i.renderer)return()=>{const e=t.default&&t.default();return e&&1===e.length?e[0]:e};const a=new Map,o=new Set;let s=null;const l=n.suspense,{renderer:{p:c,m:u,um:d,o:{createElement:f}}}=i,h=f("div");function p(e){Xn(e),d(e,n,l,!0)}function g(e){a.forEach((t,n)=>{const r=ja(t.type);!r||e&&e(r)||v(n)})}function v(e){const t=a.get(e);s&&t.type===s.type?s&&Xn(s):p(t),a.delete(e),o.delete(e)}i.activate=(e,t,n,i,a)=>{const o=e.component;u(e,t,n,0,l),c(o.vnode,e,t,n,o,l,i,e.slotScopeIds,a),pi(()=>{o.isDeactivated=!1,o.a&&Object(r["n"])(o.a);const t=e.props&&e.props.onVnodeMounted;t&&sa(t,o.parent,e)},l)},i.deactivate=e=>{const t=e.component;u(e,h,null,1,l),pi(()=>{t.da&&Object(r["n"])(t.da);const n=e.props&&e.props.onVnodeUnmounted;n&&sa(n,t.parent,e),t.isDeactivated=!0},l)},_n(()=>[e.include,e.exclude],([e,t])=>{e&&g(t=>Wn(e,t)),t&&g(e=>!Wn(t,e))},{flush:"post",deep:!0});let m=null;const b=()=>{null!=m&&a.set(m,Jn(n.subTree))};return tr(b),rr(b),ir(()=>{a.forEach(e=>{const{subTree:t,suspense:r}=n,i=Jn(t);if(e.type!==i.type)p(e);else{Xn(i);const e=i.component.da;e&&pi(e,r)}})}),()=>{if(m=null,!t.default)return null;const n=t.default(),r=n[0];if(n.length>1)return s=null,n;if(!Hi(r)||!(4&r.shapeFlag)&&!(128&r.shapeFlag))return s=null,r;let i=Jn(r);const l=i.type,c=ja(Bn(i)?i.type.__asyncResolved||{}:l),{include:u,exclude:d,max:f}=e;if(u&&(!c||!Wn(u,c))||d&&c&&Wn(d,c))return s=i,r;const h=null==i.key?l:i.key,p=a.get(h);return i.el&&(i=Zi(i),128&r.shapeFlag&&(r.ssContent=i)),m=h,p?(i.el=p.el,i.component=p.component,i.transition&&Nn(i,i.transition),i.shapeFlag|=512,o.delete(h),o.add(h)):(o.add(h),f&&o.size>parseInt(f,10)&&v(o.values().next().value)),i.shapeFlag|=256,s=i,an(r.type)?r:i}}},Kn=Hn;function Wn(e,t){return Object(r["o"])(e)?e.some(e=>Wn(e,t)):Object(r["E"])(e)?e.split(",").includes(t):!!e.test&&e.test(t)}function qn(e,t){$n(e,"a",t)}function Yn(e,t){$n(e,"da",t)}function $n(e,t,n=da){const r=e.__wdc||(e.__wdc=()=>{let t=n;while(t){if(t.isDeactivated)return;t=t.parent}return e()});if(Qn(t,r,n),n){let e=n.parent;while(e&&e.parent)Gn(e.parent.vnode)&&zn(r,t,n,e),e=e.parent}}function zn(e,t,n,i){const a=Qn(t,e,i,!0);ar(()=>{Object(r["M"])(i[t],a)},n)}function Xn(e){let t=e.shapeFlag;256&t&&(t-=256),512&t&&(t-=512),e.shapeFlag=t}function Jn(e){return 128&e.shapeFlag?e.ssContent:e}function Qn(e,t,n=da,r=!1){if(n){const i=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...r)=>{if(n.isUnmounted)return;w(),ha(n);const i=pt(t,n,e,r);return pa(),C(),i});return r?i.unshift(a):i.push(a),a}}const Zn=e=>(t,n=da)=>(!ba||"sp"===e)&&Qn(e,(...e)=>t(...e),n),er=Zn("bm"),tr=Zn("m"),nr=Zn("bu"),rr=Zn("u"),ir=Zn("bum"),ar=Zn("um"),or=Zn("sp"),sr=Zn("rtg"),lr=Zn("rtc");function cr(e,t=da){Qn("ec",e,t)}function ur(e,t){const n=Kt;if(null===n)return e;const i=Aa(n)||n.proxy,a=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[e,n,s,l=r["b"]]=t[o];Object(r["q"])(e)&&(e={mounted:e,updated:e}),e.deep&&An(n),a.push({dir:e,instance:i,value:n,oldValue:void 0,arg:s,modifiers:l})}return e}function dr(e,t,n,r){const i=e.dirs,a=t&&t.dirs;for(let o=0;o<i.length;o++){const s=i[o];a&&(s.oldValue=a[o].value);let l=s.dir[r];l&&(w(),pt(l,n,8,[e.el,s,e,t]),C())}}const fr="components",hr="directives";function pr(e,t){return br(fr,e,!0,t)||e}const gr=Symbol();function vr(e){return Object(r["E"])(e)?br(fr,e,!1)||e:e||gr}function mr(e){return br(hr,e)}function br(e,t,n=!0,i=!1){const a=Kt||da;if(a){const n=a.type;if(e===fr){const e=ja(n,!1);if(e&&(e===t||e===Object(r["e"])(t)||e===Object(r["f"])(Object(r["e"])(t))))return n}const o=yr(a[e]||n[e],t)||yr(a.appContext[e],t);return!o&&i?n:o}}function yr(e,t){return e&&(e[t]||e[Object(r["e"])(t)]||e[Object(r["f"])(Object(r["e"])(t))])}function Er(e,t,n,i){let a;const o=n&&n[i];if(Object(r["o"])(e)||Object(r["E"])(e)){a=new Array(e.length);for(let n=0,r=e.length;n<r;n++)a[n]=t(e[n],n,void 0,o&&o[n])}else if("number"===typeof e){0,a=new Array(e);for(let n=0;n<e;n++)a[n]=t(n+1,n,void 0,o&&o[n])}else if(Object(r["w"])(e))if(e[Symbol.iterator])a=Array.from(e,(e,n)=>t(e,n,void 0,o&&o[n]));else{const n=Object.keys(e);a=new Array(n.length);for(let r=0,i=n.length;r<i;r++){const i=n[r];a[r]=t(e[i],i,r,o&&o[r])}}else a=[];return n&&(n[i]=a),a}function Or(e,t){for(let n=0;n<t.length;n++){const i=t[n];if(Object(r["o"])(i))for(let t=0;t<i.length;t++)e[i[t].name]=i[t].fn;else i&&(e[i.name]=i.key?(...e)=>{const t=i.fn(...e);return t&&(t.key=i.key),t}:i.fn)}return e}function Tr(e,t,n={},r,i){if(Kt.isCE||Kt.parent&&Bn(Kt.parent)&&Kt.parent.isCE)return Xi("slot","default"===t?null:{name:t},r&&r());let a=e[t];a&&a._c&&(a._d=!1),Pi();const o=a&&_r(a(n)),s=Gi(Ci,{key:n.key||o&&o.key||"_"+t},o||(r?r():[]),o&&1===e._?64:-2);return!i&&s.scopeId&&(s.slotScopeIds=[s.scopeId+"-s"]),a&&a._c&&(a._d=!0),s}function _r(e){return e.some(e=>!Hi(e)||e.type!==Di&&!(e.type===Ci&&!_r(e.children)))?e:null}function Sr(e,t){const n={};for(const i in e)n[t&&/[A-Z]/.test(i)?"on:"+i:Object(r["O"])(i)]=e[i];return n}const kr=e=>e?ga(e)?Aa(e)||e.proxy:kr(e.parent):null,Lr=Object(r["h"])(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>kr(e.parent),$root:e=>kr(e.root),$emit:e=>e.emit,$options:e=>xr(e),$forceUpdate:e=>e.f||(e.f=()=>wt(e.update)),$nextTick:e=>e.n||(e.n=Lt.bind(e.proxy)),$watch:e=>kn.bind(e)}),Ar={get({_:e},t){const{ctx:n,setupState:i,data:a,props:o,accessCache:s,type:l,appContext:c}=e;let u;if("$"!==t[0]){const l=s[t];if(void 0!==l)switch(l){case 1:return i[t];case 2:return a[t];case 4:return n[t];case 3:return o[t]}else{if(i!==r["b"]&&Object(r["k"])(i,t))return s[t]=1,i[t];if(a!==r["b"]&&Object(r["k"])(a,t))return s[t]=2,a[t];if((u=e.propsOptions[0])&&Object(r["k"])(u,t))return s[t]=3,o[t];if(n!==r["b"]&&Object(r["k"])(n,t))return s[t]=4,n[t];Cr&&(s[t]=0)}}const d=Lr[t];let f,h;return d?("$attrs"===t&&j(e,"get",t),d(e)):(f=l.__cssModules)&&(f=f[t])?f:n!==r["b"]&&Object(r["k"])(n,t)?(s[t]=4,n[t]):(h=c.config.globalProperties,Object(r["k"])(h,t)?h[t]:void 0)},set({_:e},t,n){const{data:i,setupState:a,ctx:o}=e;return a!==r["b"]&&Object(r["k"])(a,t)?(a[t]=n,!0):i!==r["b"]&&Object(r["k"])(i,t)?(i[t]=n,!0):!Object(r["k"])(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(o[t]=n,!0))},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:a,propsOptions:o}},s){let l;return!!n[s]||e!==r["b"]&&Object(r["k"])(e,s)||t!==r["b"]&&Object(r["k"])(t,s)||(l=o[0])&&Object(r["k"])(l,s)||Object(r["k"])(i,s)||Object(r["k"])(Lr,s)||Object(r["k"])(a.config.globalProperties,s)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:Object(r["k"])(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};const wr=Object(r["h"])({},Ar,{get(e,t){if(t!==Symbol.unscopables)return Ar.get(e,t,e)},has(e,t){const n="_"!==t[0]&&!Object(r["r"])(t);return n}});let Cr=!0;function jr(e){const t=xr(e),n=e.proxy,i=e.ctx;Cr=!1,t.beforeCreate&&Rr(t.beforeCreate,e,"bc");const{data:a,computed:o,methods:s,watch:l,provide:c,inject:u,created:d,beforeMount:f,mounted:h,beforeUpdate:p,updated:g,activated:v,deactivated:m,beforeDestroy:b,beforeUnmount:y,destroyed:E,unmounted:O,render:T,renderTracked:_,renderTriggered:S,errorCaptured:k,serverPrefetch:L,expose:A,inheritAttrs:w,components:C,directives:j,filters:D}=t,R=null;if(u&&Dr(u,i,R,e.appContext.config.unwrapInjectedRef),s)for(const x in s){const e=s[x];Object(r["q"])(e)&&(i[x]=e.bind(n))}if(a){0;const t=a.call(n,n);0,Object(r["w"])(t)&&(e.data=we(t))}if(Cr=!0,o)for(const x in o){const e=o[x],t=Object(r["q"])(e)?e.bind(n,n):Object(r["q"])(e.get)?e.get.bind(n,n):r["d"];0;const a=!Object(r["q"])(e)&&Object(r["q"])(e.set)?e.set.bind(n):r["d"],s=Ia({get:t,set:a});Object.defineProperty(i,x,{enumerable:!0,configurable:!0,get:()=>s.value,set:e=>s.value=e})}if(l)for(const r in l)Ir(l[r],i,n,r);if(c){const e=Object(r["q"])(c)?c.call(n):c;Reflect.ownKeys(e).forEach(t=>{mn(t,e[t])})}function I(e,t){Object(r["o"])(t)?t.forEach(t=>e(t.bind(n))):t&&e(t.bind(n))}if(d&&Rr(d,e,"c"),I(er,f),I(tr,h),I(nr,p),I(rr,g),I(qn,v),I(Yn,m),I(cr,k),I(lr,_),I(sr,S),I(ir,y),I(ar,O),I(or,L),Object(r["o"])(A))if(A.length){const t=e.exposed||(e.exposed={});A.forEach(e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})})}else e.exposed||(e.exposed={});T&&e.render===r["d"]&&(e.render=T),null!=w&&(e.inheritAttrs=w),C&&(e.components=C),j&&(e.directives=j)}function Dr(e,t,n=r["d"],i=!1){Object(r["o"])(e)&&(e=Br(e));for(const a in e){const n=e[a];let o;o=Object(r["w"])(n)?"default"in n?bn(n.from||a,n.default,!0):bn(n.from||a):bn(n),He(o)&&i?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>o.value,set:e=>o.value=e}):t[a]=o}}function Rr(e,t,n){pt(Object(r["o"])(e)?e.map(e=>e.bind(t.proxy)):e.bind(t.proxy),t,n)}function Ir(e,t,n,i){const a=i.includes(".")?Ln(n,i):()=>n[i];if(Object(r["E"])(e)){const n=t[e];Object(r["q"])(n)&&_n(a,n)}else if(Object(r["q"])(e))_n(a,e.bind(n));else if(Object(r["w"])(e))if(Object(r["o"])(e))e.forEach(e=>Ir(e,t,n,i));else{const i=Object(r["q"])(e.handler)?e.handler.bind(n):t[e.handler];Object(r["q"])(i)&&_n(a,i,e)}else 0}function xr(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:a,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,l=o.get(t);let c;return l?c=l:a.length||n||i?(c={},a.length&&a.forEach(e=>Pr(c,e,s,!0)),Pr(c,t,s)):c=t,Object(r["w"])(t)&&o.set(t,c),c}function Pr(e,t,n,r=!1){const{mixins:i,extends:a}=t;a&&Pr(e,a,n,!0),i&&i.forEach(t=>Pr(e,t,n,!0));for(const o in t)if(r&&"expose"===o);else{const r=Nr[o]||n&&n[o];e[o]=r?r(e[o],t[o]):t[o]}return e}const Nr={data:Fr,props:Vr,emits:Vr,methods:Vr,computed:Vr,beforeCreate:Ur,created:Ur,beforeMount:Ur,mounted:Ur,beforeUpdate:Ur,updated:Ur,beforeDestroy:Ur,beforeUnmount:Ur,destroyed:Ur,unmounted:Ur,activated:Ur,deactivated:Ur,errorCaptured:Ur,serverPrefetch:Ur,components:Vr,directives:Vr,watch:Gr,provide:Fr,inject:Mr};function Fr(e,t){return t?e?function(){return Object(r["h"])(Object(r["q"])(e)?e.call(this,this):e,Object(r["q"])(t)?t.call(this,this):t)}:t:e}function Mr(e,t){return Vr(Br(e),Br(t))}function Br(e){if(Object(r["o"])(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ur(e,t){return e?[...new Set([].concat(e,t))]:t}function Vr(e,t){return e?Object(r["h"])(Object(r["h"])(Object.create(null),e),t):t}function Gr(e,t){if(!e)return t;if(!t)return e;const n=Object(r["h"])(Object.create(null),e);for(const r in t)n[r]=Ur(e[r],t[r]);return n}function Hr(e,t,n,i=!1){const a={},o={};Object(r["g"])(o,qi,1),e.propsDefaults=Object.create(null),Wr(e,t,a,o);for(const r in e.propsOptions[0])r in a||(a[r]=void 0);n?e.props=i?a:Ce(a):e.type.props?e.props=a:e.props=o,e.attrs=o}function Kr(e,t,n,i){const{props:a,attrs:o,vnode:{patchFlag:s}}=e,l=Fe(a),[c]=e.propsOptions;let u=!1;if(!(i||s>0)||16&s){let i;Wr(e,t,a,o)&&(u=!0);for(const o in l)t&&(Object(r["k"])(t,o)||(i=Object(r["l"])(o))!==o&&Object(r["k"])(t,i))||(c?!n||void 0===n[o]&&void 0===n[i]||(a[o]=qr(c,l,o,void 0,e,!0)):delete a[o]);if(o!==l)for(const e in o)t&&Object(r["k"])(t,e)||(delete o[e],u=!0)}else if(8&s){const n=e.vnode.dynamicProps;for(let i=0;i<n.length;i++){let s=n[i];if(Ht(e.emitsOptions,s))continue;const d=t[s];if(c)if(Object(r["k"])(o,s))d!==o[s]&&(o[s]=d,u=!0);else{const t=Object(r["e"])(s);a[t]=qr(c,l,t,d,e,!1)}else d!==o[s]&&(o[s]=d,u=!0)}}u&&R(e,"set","$attrs")}function Wr(e,t,n,i){const[a,o]=e.propsOptions;let s,l=!1;if(t)for(let c in t){if(Object(r["A"])(c))continue;const u=t[c];let d;a&&Object(r["k"])(a,d=Object(r["e"])(c))?o&&o.includes(d)?(s||(s={}))[d]=u:n[d]=u:Ht(e.emitsOptions,c)||c in i&&u===i[c]||(i[c]=u,l=!0)}if(o){const t=Fe(n),i=s||r["b"];for(let s=0;s<o.length;s++){const l=o[s];n[l]=qr(a,t,l,i[l],e,!Object(r["k"])(i,l))}}return l}function qr(e,t,n,i,a,o){const s=e[n];if(null!=s){const e=Object(r["k"])(s,"default");if(e&&void 0===i){const e=s.default;if(s.type!==Function&&Object(r["q"])(e)){const{propsDefaults:r}=a;n in r?i=r[n]:(ha(a),i=r[n]=e.call(null,t),pa())}else i=e}s[0]&&(o&&!e?i=!1:!s[1]||""!==i&&i!==Object(r["l"])(n)||(i=!0))}return i}function Yr(e,t,n=!1){const i=t.propsCache,a=i.get(e);if(a)return a;const o=e.props,s={},l=[];let c=!1;if(!Object(r["q"])(e)){const i=e=>{c=!0;const[n,i]=Yr(e,t,!0);Object(r["h"])(s,n),i&&l.push(...i)};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}if(!o&&!c)return Object(r["w"])(e)&&i.set(e,r["a"]),r["a"];if(Object(r["o"])(o))for(let d=0;d<o.length;d++){0;const e=Object(r["e"])(o[d]);$r(e)&&(s[e]=r["b"])}else if(o){0;for(const e in o){const t=Object(r["e"])(e);if($r(t)){const n=o[e],i=s[t]=Object(r["o"])(n)||Object(r["q"])(n)?{type:n}:n;if(i){const e=Jr(Boolean,i.type),n=Jr(String,i.type);i[0]=e>-1,i[1]=n<0||e<n,(e>-1||Object(r["k"])(i,"default"))&&l.push(t)}}}}const u=[s,l];return Object(r["w"])(e)&&i.set(e,u),u}function $r(e){return"$"!==e[0]}function zr(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function Xr(e,t){return zr(e)===zr(t)}function Jr(e,t){return Object(r["o"])(t)?t.findIndex(t=>Xr(t,e)):Object(r["q"])(t)&&Xr(t,e)?0:-1}const Qr=e=>"_"===e[0]||"$stable"===e,Zr=e=>Object(r["o"])(e)?e.map(ra):[ra(e)],ei=(e,t,n)=>{if(t._n)return t;const r=Xt((...e)=>Zr(t(...e)),n);return r._c=!1,r},ti=(e,t,n)=>{const i=e._ctx;for(const a in e){if(Qr(a))continue;const n=e[a];if(Object(r["q"])(n))t[a]=ei(a,n,i);else if(null!=n){0;const e=Zr(n);t[a]=()=>e}}},ni=(e,t)=>{const n=Zr(t);e.slots.default=()=>n},ri=(e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=Fe(t),Object(r["g"])(t,"_",n)):ti(t,e.slots={})}else e.slots={},t&&ni(e,t);Object(r["g"])(e.slots,qi,1)},ii=(e,t,n)=>{const{vnode:i,slots:a}=e;let o=!0,s=r["b"];if(32&i.shapeFlag){const e=t._;e?n&&1===e?o=!1:(Object(r["h"])(a,t),n||1!==e||delete a._):(o=!t.$stable,ti(t,a)),s=t}else t&&(ni(e,t),s={default:1});if(o)for(const r in a)Qr(r)||r in s||delete a[r]};function ai(){return{app:null,config:{isNativeTag:r["c"],performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let oi=0;function si(e,t){return function(n,i=null){Object(r["q"])(n)||(n=Object.assign({},n)),null==i||Object(r["w"])(i)||(i=null);const a=ai(),o=new Set;let s=!1;const l=a.app={_uid:oi++,_component:n,_props:i,_container:null,_context:a,_instance:null,version:Xa,get config(){return a.config},set config(e){0},use(e,...t){return o.has(e)||(e&&Object(r["q"])(e.install)?(o.add(e),e.install(l,...t)):Object(r["q"])(e)&&(o.add(e),e(l,...t))),l},mixin(e){return a.mixins.includes(e)||a.mixins.push(e),l},component(e,t){return t?(a.components[e]=t,l):a.components[e]},directive(e,t){return t?(a.directives[e]=t,l):a.directives[e]},mount(r,o,c){if(!s){0;const u=Xi(n,i);return u.appContext=a,o&&t?t(u,r):e(u,r,c),s=!0,l._container=r,r.__vue_app__=l,Aa(u.component)||u.component.proxy}},unmount(){s&&(e(null,l._container),delete l._container.__vue_app__)},provide(e,t){return a.provides[e]=t,l}};return l}}function li(e,t,n,i,a=!1){if(Object(r["o"])(e))return void e.forEach((e,o)=>li(e,t&&(Object(r["o"])(t)?t[o]:t),n,i,a));if(Bn(i)&&!a)return;const o=4&i.shapeFlag?Aa(i.component)||i.component.proxy:i.el,s=a?null:o,{i:l,r:c}=e;const u=t&&t.r,d=l.refs===r["b"]?l.refs={}:l.refs,f=l.setupState;if(null!=u&&u!==c&&(Object(r["E"])(u)?(d[u]=null,Object(r["k"])(f,u)&&(f[u]=null)):He(u)&&(u.value=null)),Object(r["q"])(c))ht(c,l,12,[s,d]);else{const t=Object(r["E"])(c),i=He(c);if(t||i){const l=()=>{if(e.f){const n=t?Object(r["k"])(f,c)?f[c]:d[c]:c.value;a?Object(r["o"])(n)&&Object(r["M"])(n,o):Object(r["o"])(n)?n.includes(o)||n.push(o):t?(d[c]=[o],Object(r["k"])(f,c)&&(f[c]=d[c])):(c.value=[o],e.k&&(d[e.k]=c.value))}else t?(d[c]=s,Object(r["k"])(f,c)&&(f[c]=s)):i&&(c.value=s,e.k&&(d[e.k]=s))};s?(l.id=-1,pi(l,n)):l()}else 0}}let ci=!1;const ui=e=>/svg/.test(e.namespaceURI)&&"foreignObject"!==e.tagName,di=e=>8===e.nodeType;function fi(e){const{mt:t,p:n,o:{patchProp:i,createText:a,nextSibling:o,parentNode:s,remove:l,insert:c,createComment:u}}=e,d=(e,t)=>{if(!t.hasChildNodes())return n(null,e,t),It(),void(t._vnode=e);ci=!1,f(t.firstChild,e,null,null,null),It(),t._vnode=e,ci&&console.error("Hydration completed but contains mismatches.")},f=(n,r,i,l,u,d=!1)=>{const b=di(n)&&"["===n.data,y=()=>v(n,r,i,l,u,b),{type:E,ref:O,shapeFlag:T,patchFlag:_}=r;let S=n.nodeType;r.el=n,-2===_&&(d=!1,r.dynamicChildren=null);let k=null;switch(E){case ji:3!==S?""===r.children?(c(r.el=a(""),s(n),n),k=n):k=y():(n.data!==r.children&&(ci=!0,n.data=r.children),k=o(n));break;case Di:k=8!==S||b?y():o(n);break;case Ri:if(b&&(n=o(n),S=n.nodeType),1===S||3===S){k=n;const e=!r.children.length;for(let t=0;t<r.staticCount;t++)e&&(r.children+=1===k.nodeType?k.outerHTML:k.data),t===r.staticCount-1&&(r.anchor=k),k=o(k);return b?o(k):k}y();break;case Ci:k=b?g(n,r,i,l,u,d):y();break;default:if(1&T)k=1!==S||r.type.toLowerCase()!==n.tagName.toLowerCase()?y():h(n,r,i,l,u,d);else if(6&T){r.slotScopeIds=u;const e=s(n);if(t(r,e,null,i,l,ui(e),d),k=b?m(n):o(n),k&&di(k)&&"teleport end"===k.data&&(k=o(k)),Bn(r)){let t;b?(t=Xi(Ci),t.anchor=k?k.previousSibling:e.lastChild):t=3===n.nodeType?ea(""):Xi("div"),t.el=n,r.component.subTree=t}}else 64&T?k=8!==S?y():r.type.hydrate(n,r,i,l,u,d,e,p):128&T&&(k=r.type.hydrate(n,r,i,l,ui(s(n)),u,d,e,f))}return null!=O&&li(O,null,l,r),k},h=(e,t,n,a,o,s)=>{s=s||!!t.dynamicChildren;const{type:c,props:u,patchFlag:d,shapeFlag:f,dirs:h}=t,g="input"===c&&h||"option"===c;if(g||-1!==d){if(h&&dr(t,null,n,"created"),u)if(g||!s||48&d)for(const t in u)(g&&t.endsWith("value")||Object(r["x"])(t)&&!Object(r["A"])(t))&&i(e,t,null,u[t],!1,void 0,n);else u.onClick&&i(e,"onClick",null,u.onClick,!1,void 0,n);let c;if((c=u&&u.onVnodeBeforeMount)&&sa(c,n,t),h&&dr(t,null,n,"beforeMount"),((c=u&&u.onVnodeMounted)||h)&&gn(()=>{c&&sa(c,n,t),h&&dr(t,null,n,"mounted")},a),16&f&&(!u||!u.innerHTML&&!u.textContent)){let r=p(e.firstChild,t,e,n,a,o,s);while(r){ci=!0;const e=r;r=r.nextSibling,l(e)}}else 8&f&&e.textContent!==t.children&&(ci=!0,e.textContent=t.children)}return e.nextSibling},p=(e,t,r,i,a,o,s)=>{s=s||!!t.dynamicChildren;const l=t.children,c=l.length;for(let u=0;u<c;u++){const t=s?l[u]:l[u]=ra(l[u]);if(e)e=f(e,t,i,a,o,s);else{if(t.type===ji&&!t.children)continue;ci=!0,n(null,t,r,null,i,a,ui(r),o)}}return e},g=(e,t,n,r,i,a)=>{const{slotScopeIds:l}=t;l&&(i=i?i.concat(l):l);const d=s(e),f=p(o(e),t,d,n,r,i,a);return f&&di(f)&&"]"===f.data?o(t.anchor=f):(ci=!0,c(t.anchor=u("]"),d,f),f)},v=(e,t,r,i,a,c)=>{if(ci=!0,t.el=null,c){const t=m(e);while(1){const n=o(e);if(!n||n===t)break;l(n)}}const u=o(e),d=s(e);return l(e),n(null,t,d,u,r,i,ui(d),a),u},m=e=>{let t=0;while(e)if(e=o(e),e&&di(e)&&("["===e.data&&t++,"]"===e.data)){if(0===t)return o(e);t--}return e};return[d,f]}function hi(){}const pi=gn;function gi(e){return mi(e)}function vi(e){return mi(e,fi)}function mi(e,t){hi();const n=Object(r["i"])();n.__VUE__=!0;const{insert:i,remove:a,patchProp:o,createElement:s,createText:l,createComment:c,setText:u,setElementText:d,parentNode:f,nextSibling:h,setScopeId:p=r["d"],insertStaticContent:g}=e,v=(e,t,n,r=null,i=null,a=null,o=!1,s=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!Ki(e,t)&&(r=Y(e),G(e,i,a,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:d}=t;switch(c){case ji:m(e,t,n,r);break;case Di:b(e,t,n,r);break;case Ri:null==e&&y(t,n,r,o);break;case Ci:R(e,t,n,r,i,a,o,s,l);break;default:1&d?_(e,t,n,r,i,a,o,s,l):6&d?I(e,t,n,r,i,a,o,s,l):(64&d||128&d)&&c.process(e,t,n,r,i,a,o,s,l,z)}null!=u&&i&&li(u,e&&e.ref,a,t||e,!t)},m=(e,t,n,r)=>{if(null==e)i(t.el=l(t.children),n,r);else{const n=t.el=e.el;t.children!==e.children&&u(n,t.children)}},b=(e,t,n,r)=>{null==e?i(t.el=c(t.children||""),n,r):t.el=e.el},y=(e,t,n,r)=>{[e.el,e.anchor]=g(e.children,t,n,r,e.el,e.anchor)},E=({el:e,anchor:t},n,r)=>{let a;while(e&&e!==t)a=h(e),i(e,n,r),e=a;i(t,n,r)},O=({el:e,anchor:t})=>{let n;while(e&&e!==t)n=h(e),a(e),e=n;a(t)},_=(e,t,n,r,i,a,o,s,l)=>{o=o||"svg"===t.type,null==e?S(t,n,r,i,a,o,s,l):A(e,t,i,a,o,s,l)},S=(e,t,n,a,l,c,u,f)=>{let h,p;const{type:g,props:v,shapeFlag:m,transition:b,dirs:y}=e;if(h=e.el=s(e.type,c,v&&v.is,v),8&m?d(h,e.children):16&m&&L(e.children,h,null,a,l,c&&"foreignObject"!==g,u,f),y&&dr(e,null,a,"created"),v){for(const t in v)"value"===t||Object(r["A"])(t)||o(h,t,null,v[t],c,e.children,a,l,q);"value"in v&&o(h,"value",null,v.value),(p=v.onVnodeBeforeMount)&&sa(p,a,e)}k(h,e,e.scopeId,u,a),y&&dr(e,null,a,"beforeMount");const E=(!l||l&&!l.pendingBranch)&&b&&!b.persisted;E&&b.beforeEnter(h),i(h,t,n),((p=v&&v.onVnodeMounted)||E||y)&&pi(()=>{p&&sa(p,a,e),E&&b.enter(h),y&&dr(e,null,a,"mounted")},l)},k=(e,t,n,r,i)=>{if(n&&p(e,n),r)for(let a=0;a<r.length;a++)p(e,r[a]);if(i){let n=i.subTree;if(t===n){const t=i.vnode;k(e,t,t.scopeId,t.slotScopeIds,i.parent)}}},L=(e,t,n,r,i,a,o,s,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=s?ia(e[c]):ra(e[c]);v(null,l,t,n,r,i,a,o,s)}},A=(e,t,n,i,a,s,l)=>{const c=t.el=e.el;let{patchFlag:u,dynamicChildren:f,dirs:h}=t;u|=16&e.patchFlag;const p=e.props||r["b"],g=t.props||r["b"];let v;n&&bi(n,!1),(v=g.onVnodeBeforeUpdate)&&sa(v,n,t,e),h&&dr(t,e,n,"beforeUpdate"),n&&bi(n,!0);const m=a&&"foreignObject"!==t.type;if(f?j(e.dynamicChildren,f,c,n,i,m,s):l||M(e,t,c,null,n,i,m,s,!1),u>0){if(16&u)D(c,t,p,g,n,i,a);else if(2&u&&p.class!==g.class&&o(c,"class",null,g.class,a),4&u&&o(c,"style",p.style,g.style,a),8&u){const r=t.dynamicProps;for(let t=0;t<r.length;t++){const s=r[t],l=p[s],u=g[s];u===l&&"value"!==s||o(c,s,l,u,a,e.children,n,i,q)}}1&u&&e.children!==t.children&&d(c,t.children)}else l||null!=f||D(c,t,p,g,n,i,a);((v=g.onVnodeUpdated)||h)&&pi(()=>{v&&sa(v,n,t,e),h&&dr(t,e,n,"updated")},i)},j=(e,t,n,r,i,a,o)=>{for(let s=0;s<t.length;s++){const l=e[s],c=t[s],u=l.el&&(l.type===Ci||!Ki(l,c)||70&l.shapeFlag)?f(l.el):n;v(l,c,u,null,r,i,a,o,!0)}},D=(e,t,n,i,a,s,l)=>{if(n!==i){if(n!==r["b"])for(const c in n)Object(r["A"])(c)||c in i||o(e,c,n[c],null,l,t.children,a,s,q);for(const c in i){if(Object(r["A"])(c))continue;const u=i[c],d=n[c];u!==d&&"value"!==c&&o(e,c,d,u,l,t.children,a,s,q)}"value"in i&&o(e,"value",n.value,i.value)}},R=(e,t,n,r,a,o,s,c,u)=>{const d=t.el=e?e.el:l(""),f=t.anchor=e?e.anchor:l("");let{patchFlag:h,dynamicChildren:p,slotScopeIds:g}=t;g&&(c=c?c.concat(g):g),null==e?(i(d,n,r),i(f,n,r),L(t.children,n,f,a,o,s,c,u)):h>0&&64&h&&p&&e.dynamicChildren?(j(e.dynamicChildren,p,n,a,o,s,c),(null!=t.key||a&&t===a.subTree)&&yi(e,t,!0)):M(e,t,n,f,a,o,s,c,u)},I=(e,t,n,r,i,a,o,s,l)=>{t.slotScopeIds=s,null==e?512&t.shapeFlag?i.ctx.activate(t,n,r,o,l):x(t,n,r,i,a,o,l):P(e,t,l)},x=(e,t,n,r,i,a,o)=>{const s=e.component=ua(e,r,i);if(Gn(e)&&(s.ctx.renderer=z),ya(s),s.asyncDep){if(i&&i.registerDep(s,N),!e.el){const e=s.subTree=Xi(Di);b(null,e,t,n)}}else N(s,e,t,n,i,a,o)},P=(e,t,n)=>{const r=t.component=e.component;if(tn(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void F(r,t,n);r.next=t,jt(r.update),r.update()}else t.el=e.el,r.vnode=t},N=(e,t,n,i,a,o,s)=>{const l=()=>{if(e.isMounted){let t,{next:n,bu:i,u:l,parent:c,vnode:u}=e,d=n;0,bi(e,!1),n?(n.el=u.el,F(e,n,s)):n=u,i&&Object(r["n"])(i),(t=n.props&&n.props.onVnodeBeforeUpdate)&&sa(t,c,n,u),bi(e,!0);const h=Jt(e);0;const p=e.subTree;e.subTree=h,v(p,h,f(p.el),Y(p),e,a,o),n.el=h.el,null===d&&rn(e,h.el),l&&pi(l,a),(t=n.props&&n.props.onVnodeUpdated)&&pi(()=>sa(t,c,n,u),a)}else{let s;const{el:l,props:c}=t,{bm:u,m:d,parent:f}=e,h=Bn(t);if(bi(e,!1),u&&Object(r["n"])(u),!h&&(s=c&&c.onVnodeBeforeMount)&&sa(s,f,t),bi(e,!0),l&&J){const n=()=>{e.subTree=Jt(e),J(l,e.subTree,e,a,null)};h?t.type.__asyncLoader().then(()=>!e.isUnmounted&&n()):n()}else{0;const r=e.subTree=Jt(e);0,v(null,r,n,i,e,a,o),t.el=r.el}if(d&&pi(d,a),!h&&(s=c&&c.onVnodeMounted)){const e=t;pi(()=>sa(s,f,e),a)}(256&t.shapeFlag||f&&Bn(f.vnode)&&256&f.vnode.shapeFlag)&&e.a&&pi(e.a,a),e.isMounted=!0,t=n=i=null}},c=e.effect=new T(l,()=>wt(u),e.scope),u=e.update=()=>c.run();u.id=e.uid,bi(e,!0),u()},F=(e,t,n)=>{t.component=e;const r=e.vnode.props;e.vnode=t,e.next=null,Kr(e,t.props,r,n),ii(e,t.children,n),w(),Rt(),C()},M=(e,t,n,r,i,a,o,s,l=!1)=>{const c=e&&e.children,u=e?e.shapeFlag:0,f=t.children,{patchFlag:h,shapeFlag:p}=t;if(h>0){if(128&h)return void U(c,f,n,r,i,a,o,s,l);if(256&h)return void B(c,f,n,r,i,a,o,s,l)}8&p?(16&u&&q(c,i,a),f!==c&&d(n,f)):16&u?16&p?U(c,f,n,r,i,a,o,s,l):q(c,i,a,!0):(8&u&&d(n,""),16&p&&L(f,n,r,i,a,o,s,l))},B=(e,t,n,i,a,o,s,l,c)=>{e=e||r["a"],t=t||r["a"];const u=e.length,d=t.length,f=Math.min(u,d);let h;for(h=0;h<f;h++){const r=t[h]=c?ia(t[h]):ra(t[h]);v(e[h],r,n,null,a,o,s,l,c)}u>d?q(e,a,o,!0,!1,f):L(t,n,i,a,o,s,l,c,f)},U=(e,t,n,i,a,o,s,l,c)=>{let u=0;const d=t.length;let f=e.length-1,h=d-1;while(u<=f&&u<=h){const r=e[u],i=t[u]=c?ia(t[u]):ra(t[u]);if(!Ki(r,i))break;v(r,i,n,null,a,o,s,l,c),u++}while(u<=f&&u<=h){const r=e[f],i=t[h]=c?ia(t[h]):ra(t[h]);if(!Ki(r,i))break;v(r,i,n,null,a,o,s,l,c),f--,h--}if(u>f){if(u<=h){const e=h+1,r=e<d?t[e].el:i;while(u<=h)v(null,t[u]=c?ia(t[u]):ra(t[u]),n,r,a,o,s,l,c),u++}}else if(u>h)while(u<=f)G(e[u],a,o,!0),u++;else{const p=u,g=u,m=new Map;for(u=g;u<=h;u++){const e=t[u]=c?ia(t[u]):ra(t[u]);null!=e.key&&m.set(e.key,u)}let b,y=0;const E=h-g+1;let O=!1,T=0;const _=new Array(E);for(u=0;u<E;u++)_[u]=0;for(u=p;u<=f;u++){const r=e[u];if(y>=E){G(r,a,o,!0);continue}let i;if(null!=r.key)i=m.get(r.key);else for(b=g;b<=h;b++)if(0===_[b-g]&&Ki(r,t[b])){i=b;break}void 0===i?G(r,a,o,!0):(_[i-g]=u+1,i>=T?T=i:O=!0,v(r,t[i],n,null,a,o,s,l,c),y++)}const S=O?Ei(_):r["a"];for(b=S.length-1,u=E-1;u>=0;u--){const e=g+u,r=t[e],f=e+1<d?t[e+1].el:i;0===_[u]?v(null,r,n,f,a,o,s,l,c):O&&(b<0||u!==S[b]?V(r,n,f,2):b--)}}},V=(e,t,n,r,a=null)=>{const{el:o,type:s,transition:l,children:c,shapeFlag:u}=e;if(6&u)return void V(e.component.subTree,t,n,r);if(128&u)return void e.suspense.move(t,n,r);if(64&u)return void s.move(e,t,n,z);if(s===Ci){i(o,t,n);for(let e=0;e<c.length;e++)V(c[e],t,n,r);return void i(e.anchor,t,n)}if(s===Ri)return void E(e,t,n);const d=2!==r&&1&u&&l;if(d)if(0===r)l.beforeEnter(o),i(o,t,n),pi(()=>l.enter(o),a);else{const{leave:e,delayLeave:r,afterLeave:a}=l,s=()=>i(o,t,n),c=()=>{e(o,()=>{s(),a&&a()})};r?r(o,s,c):c()}else i(o,t,n)},G=(e,t,n,r=!1,i=!1)=>{const{type:a,props:o,ref:s,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:d,dirs:f}=e;if(null!=s&&li(s,null,n,e,!0),256&u)return void t.ctx.deactivate(e);const h=1&u&&f,p=!Bn(e);let g;if(p&&(g=o&&o.onVnodeBeforeUnmount)&&sa(g,t,e),6&u)W(e.component,n,r);else{if(128&u)return void e.suspense.unmount(n,r);h&&dr(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,i,z,r):c&&(a!==Ci||d>0&&64&d)?q(c,t,n,!1,!0):(a===Ci&&384&d||!i&&16&u)&&q(l,t,n),r&&H(e)}(p&&(g=o&&o.onVnodeUnmounted)||h)&&pi(()=>{g&&sa(g,t,e),h&&dr(e,null,t,"unmounted")},n)},H=e=>{const{type:t,el:n,anchor:r,transition:i}=e;if(t===Ci)return void K(n,r);if(t===Ri)return void O(e);const o=()=>{a(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){const{leave:t,delayLeave:r}=i,a=()=>t(n,o);r?r(e.el,o,a):a()}else o()},K=(e,t)=>{let n;while(e!==t)n=h(e),a(e),e=n;a(t)},W=(e,t,n)=>{const{bum:i,scope:a,update:o,subTree:s,um:l}=e;i&&Object(r["n"])(i),a.stop(),o&&(o.active=!1,G(s,e,t,n)),l&&pi(l,t),pi(()=>{e.isUnmounted=!0},t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},q=(e,t,n,r=!1,i=!1,a=0)=>{for(let o=a;o<e.length;o++)G(e[o],t,n,r,i)},Y=e=>6&e.shapeFlag?Y(e.component.subTree):128&e.shapeFlag?e.suspense.next():h(e.anchor||e.el),$=(e,t,n)=>{null==e?t._vnode&&G(t._vnode,null,null,!0):v(t._vnode||null,e,t,null,null,null,n),Rt(),It(),t._vnode=e},z={p:v,um:G,m:V,r:H,mt:x,mc:L,pc:M,pbc:j,n:Y,o:e};let X,J;return t&&([X,J]=t(z)),{render:$,hydrate:X,createApp:si($,X)}}function bi({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function yi(e,t,n=!1){const i=e.children,a=t.children;if(Object(r["o"])(i)&&Object(r["o"])(a))for(let r=0;r<i.length;r++){const e=i[r];let t=a[r];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=a[r]=ia(a[r]),t.el=e.el),n||yi(e,t))}}function Ei(e){const t=e.slice(),n=[0];let r,i,a,o,s;const l=e.length;for(r=0;r<l;r++){const l=e[r];if(0!==l){if(i=n[n.length-1],e[i]<l){t[r]=i,n.push(r);continue}a=0,o=n.length-1;while(a<o)s=a+o>>1,e[n[s]]<l?a=s+1:o=s;l<e[n[a]]&&(a>0&&(t[r]=n[a-1]),n[a]=r)}}a=n.length,o=n[a-1];while(a-- >0)n[a]=o,o=t[o];return n}const Oi=e=>e.__isTeleport,Ti=e=>e&&(e.disabled||""===e.disabled),_i=e=>"undefined"!==typeof SVGElement&&e instanceof SVGElement,Si=(e,t)=>{const n=e&&e.to;if(Object(r["E"])(n)){if(t){const e=t(n);return e}return null}return n},ki={__isTeleport:!0,process(e,t,n,r,i,a,o,s,l,c){const{mc:u,pc:d,pbc:f,o:{insert:h,querySelector:p,createText:g,createComment:v}}=c,m=Ti(t.props);let{shapeFlag:b,children:y,dynamicChildren:E}=t;if(null==e){const e=t.el=g(""),c=t.anchor=g("");h(e,n,r),h(c,n,r);const d=t.target=Si(t.props,p),f=t.targetAnchor=g("");d&&(h(f,d),o=o||_i(d));const v=(e,t)=>{16&b&&u(y,e,t,i,a,o,s,l)};m?v(n,c):d&&v(d,f)}else{t.el=e.el;const r=t.anchor=e.anchor,u=t.target=e.target,h=t.targetAnchor=e.targetAnchor,g=Ti(e.props),v=g?n:u,b=g?r:h;if(o=o||_i(u),E?(f(e.dynamicChildren,E,v,i,a,o,s),yi(e,t,!0)):l||d(e,t,v,b,i,a,o,s,!1),m)g||Li(t,n,r,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=Si(t.props,p);e&&Li(t,e,null,c,0)}else g&&Li(t,u,h,c,1)}},remove(e,t,n,r,{um:i,o:{remove:a}},o){const{shapeFlag:s,children:l,anchor:c,targetAnchor:u,target:d,props:f}=e;if(d&&a(u),(o||!Ti(f))&&(a(c),16&s))for(let h=0;h<l.length;h++){const e=l[h];i(e,t,n,!0,!!e.dynamicChildren)}},move:Li,hydrate:Ai};function Li(e,t,n,{o:{insert:r},m:i},a=2){0===a&&r(e.targetAnchor,t,n);const{el:o,anchor:s,shapeFlag:l,children:c,props:u}=e,d=2===a;if(d&&r(o,t,n),(!d||Ti(u))&&16&l)for(let f=0;f<c.length;f++)i(c[f],t,n,2);d&&r(s,t,n)}function Ai(e,t,n,r,i,a,{o:{nextSibling:o,parentNode:s,querySelector:l}},c){const u=t.target=Si(t.props,l);if(u){const l=u._lpa||u.firstChild;if(16&t.shapeFlag)if(Ti(t.props))t.anchor=c(o(e),t,s(e),n,r,i,a),t.targetAnchor=l;else{t.anchor=o(e);let s=l;while(s)if(s=o(s),s&&8===s.nodeType&&"teleport anchor"===s.data){t.targetAnchor=s,u._lpa=t.targetAnchor&&o(t.targetAnchor);break}c(l,t,u,n,r,i,a)}}return t.anchor&&o(t.anchor)}const wi=ki,Ci=Symbol(void 0),ji=Symbol(void 0),Di=Symbol(void 0),Ri=Symbol(void 0),Ii=[];let xi=null;function Pi(e=!1){Ii.push(xi=e?null:[])}function Ni(){Ii.pop(),xi=Ii[Ii.length-1]||null}let Fi,Mi=1;function Bi(e){Mi+=e}function Ui(e){return e.dynamicChildren=Mi>0?xi||r["a"]:null,Ni(),Mi>0&&xi&&xi.push(e),e}function Vi(e,t,n,r,i,a){return Ui(zi(e,t,n,r,i,a,!0))}function Gi(e,t,n,r,i){return Ui(Xi(e,t,n,r,i,!0))}function Hi(e){return!!e&&!0===e.__v_isVNode}function Ki(e,t){return e.type===t.type&&e.key===t.key}function Wi(e){Fi=e}const qi="__vInternal",Yi=({key:e})=>null!=e?e:null,$i=({ref:e,ref_key:t,ref_for:n})=>null!=e?Object(r["E"])(e)||He(e)||Object(r["q"])(e)?{i:Kt,r:e,k:t,f:!!n}:e:null;function zi(e,t=null,n=null,i=0,a=null,o=(e===Ci?0:1),s=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Yi(t),ref:t&&$i(t),scopeId:Wt,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:a,dynamicChildren:null,appContext:null};return l?(aa(c,n),128&o&&e.normalize(c)):n&&(c.shapeFlag|=Object(r["E"])(n)?8:16),Mi>0&&!s&&xi&&(c.patchFlag>0||6&o)&&32!==c.patchFlag&&xi.push(c),c}const Xi=Ji;function Ji(e,t=null,n=null,i=0,a=null,o=!1){if(e&&e!==gr||(e=Di),Hi(e)){const r=Zi(e,t,!0);return n&&aa(r,n),Mi>0&&!o&&xi&&(6&r.shapeFlag?xi[xi.indexOf(e)]=r:xi.push(r)),r.patchFlag|=-2,r}if(Ra(e)&&(e=e.__vccOpts),t){t=Qi(t);let{class:e,style:n}=t;e&&!Object(r["E"])(e)&&(t.class=Object(r["J"])(e)),Object(r["w"])(n)&&(Ne(n)&&!Object(r["o"])(n)&&(n=Object(r["h"])({},n)),t.style=Object(r["L"])(n))}const s=Object(r["E"])(e)?1:an(e)?128:Oi(e)?64:Object(r["w"])(e)?4:Object(r["q"])(e)?2:0;return zi(e,t,n,i,a,s,o,!0)}function Qi(e){return e?Ne(e)||qi in e?Object(r["h"])({},e):e:null}function Zi(e,t,n=!1){const{props:i,ref:a,patchFlag:o,children:s}=e,l=t?oa(i||{},t):i,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Yi(l),ref:t&&t.ref?n&&a?Object(r["o"])(a)?a.concat($i(t)):[a,$i(t)]:$i(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ci?-1===o?16:16|o:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Zi(e.ssContent),ssFallback:e.ssFallback&&Zi(e.ssFallback),el:e.el,anchor:e.anchor};return c}function ea(e=" ",t=0){return Xi(ji,null,e,t)}function ta(e,t){const n=Xi(Ri,null,e);return n.staticCount=t,n}function na(e="",t=!1){return t?(Pi(),Gi(Di,null,e)):Xi(Di,null,e)}function ra(e){return null==e||"boolean"===typeof e?Xi(Di):Object(r["o"])(e)?Xi(Ci,null,e.slice()):"object"===typeof e?ia(e):Xi(ji,null,String(e))}function ia(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:Zi(e)}function aa(e,t){let n=0;const{shapeFlag:i}=e;if(null==t)t=null;else if(Object(r["o"])(t))n=16;else if("object"===typeof t){if(65&i){const n=t.default;return void(n&&(n._c&&(n._d=!1),aa(e,n()),n._c&&(n._d=!0)))}{n=32;const r=t._;r||qi in t?3===r&&Kt&&(1===Kt.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=Kt}}else Object(r["q"])(t)?(t={default:t,_ctx:Kt},n=32):(t=String(t),64&i?(n=16,t=[ea(t)]):n=8);e.children=t,e.shapeFlag|=n}function oa(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const e in i)if("class"===e)t.class!==i.class&&(t.class=Object(r["J"])([t.class,i.class]));else if("style"===e)t.style=Object(r["L"])([t.style,i.style]);else if(Object(r["x"])(e)){const n=t[e],a=i[e];!a||n===a||Object(r["o"])(n)&&n.includes(a)||(t[e]=n?[].concat(n,a):a)}else""!==e&&(t[e]=i[e])}return t}function sa(e,t,n,r=null){pt(e,t,7,[n,r])}const la=ai();let ca=0;function ua(e,t,n){const i=e.type,o=(t?t.appContext:e.appContext)||la,s={uid:ca++,vnode:e,type:i,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new a(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Yr(i,o),emitsOptions:Gt(i,o),emit:null,emitted:null,propsDefaults:r["b"],inheritAttrs:i.inheritAttrs,ctx:r["b"],data:r["b"],props:r["b"],attrs:r["b"],slots:r["b"],refs:r["b"],setupState:r["b"],setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=Vt.bind(null,s),e.ce&&e.ce(s),s}let da=null;const fa=()=>da||Kt,ha=e=>{da=e,e.scope.on()},pa=()=>{da&&da.scope.off(),da=null};function ga(e){return 4&e.vnode.shapeFlag}let va,ma,ba=!1;function ya(e,t=!1){ba=t;const{props:n,children:r}=e.vnode,i=ga(e);Hr(e,n,i,t),ri(e,r);const a=i?Ea(e,t):void 0;return ba=!1,a}function Ea(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Me(new Proxy(e.ctx,Ar));const{setup:i}=n;if(i){const n=e.setupContext=i.length>1?La(e):null;ha(e),w();const a=ht(i,e,0,[e.props,n]);if(C(),pa(),Object(r["z"])(a)){if(a.then(pa,pa),t)return a.then(n=>{Oa(e,n,t)}).catch(t=>{gt(t,e,0)});e.asyncDep=a}else Oa(e,a,t)}else Sa(e,t)}function Oa(e,t,n){Object(r["q"])(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Object(r["w"])(t)&&(e.setupState=Je(t)),Sa(e,n)}function Ta(e){va=e,ma=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,wr))}}const _a=()=>!va;function Sa(e,t,n){const i=e.type;if(!e.render){if(!t&&va&&!i.render){const t=i.template||xr(e).template;if(t){0;const{isCustomElement:n,compilerOptions:a}=e.appContext.config,{delimiters:o,compilerOptions:s}=i,l=Object(r["h"])(Object(r["h"])({isCustomElement:n,delimiters:o},a),s);i.render=va(t,l)}}e.render=i.render||r["d"],ma&&ma(e)}ha(e),w(),jr(e),C(),pa()}function ka(e){return new Proxy(e.attrs,{get(t,n){return j(e,"get","$attrs"),t[n]}})}function La(e){const t=t=>{e.exposed=t||{}};let n;return{get attrs(){return n||(n=ka(e))},slots:e.slots,emit:e.emit,expose:t}}function Aa(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Je(Me(e.exposed)),{get(t,n){return n in t?t[n]:n in Lr?Lr[n](e):void 0}}))}const wa=/(?:^|[-_])(\w)/g,Ca=e=>e.replace(wa,e=>e.toUpperCase()).replace(/[-_]/g,"");function ja(e,t=!0){return Object(r["q"])(e)?e.displayName||e.name:e.name||t&&e.__name}function Da(e,t,n=!1){let r=ja(t);if(!r&&t.__file){const e=t.__file.match(/([^/\\]+)\.\w+$/);e&&(r=e[1])}if(!r&&e&&e.parent){const n=e=>{for(const n in e)if(e[n]===t)return n};r=n(e.components||e.parent.type.components)||n(e.appContext.components)}return r?Ca(r):n?"App":"Anonymous"}function Ra(e){return Object(r["q"])(e)&&"__vccOpts"in e}const Ia=(e,t)=>at(e,t,ba);function xa(){return null}function Pa(){return null}function Na(e){0}function Fa(e,t){return null}function Ma(){return Ua().slots}function Ba(){return Ua().attrs}function Ua(){const e=fa();return e.setupContext||(e.setupContext=La(e))}function Va(e,t){const n=Object(r["o"])(e)?e.reduce((e,t)=>(e[t]={},e),{}):e;for(const i in t){const e=n[i];e?Object(r["o"])(e)||Object(r["q"])(e)?n[i]={type:e,default:t[i]}:e.default=t[i]:null===e&&(n[i]={default:t[i]})}return n}function Ga(e,t){const n={};for(const r in e)t.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>e[r]});return n}function Ha(e){const t=fa();let n=e();return pa(),Object(r["z"])(n)&&(n=n.catch(e=>{throw ha(t),e})),[n,()=>ha(t)]}function Ka(e,t,n){const i=arguments.length;return 2===i?Object(r["w"])(t)&&!Object(r["o"])(t)?Hi(t)?Xi(e,null,[t]):Xi(e,t):Xi(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):3===i&&Hi(n)&&(n=[n]),Xi(e,t,n))}const Wa=Symbol(""),qa=()=>{{const e=bn(Wa);return e||st("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),e}};function Ya(){return void 0}function $a(e,t,n,r){const i=n[r];if(i&&za(i,e))return i;const a=t();return a.memo=e.slice(),n[r]=a}function za(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let i=0;i<n.length;i++)if(Object(r["j"])(n[i],t[i]))return!1;return Mi>0&&xi&&xi.push(e),!0}const Xa="3.2.41",Ja={createComponentInstance:ua,setupComponent:ya,renderComponentRoot:Jt,setCurrentRenderingInstance:qt,isVNode:Hi,normalizeVNode:ra},Qa=Ja,Za=null,eo=null,to="http://www.w3.org/2000/svg",no="undefined"!==typeof document?document:null,ro=no&&no.createElement("template"),io={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?no.createElementNS(to,e):no.createElement(e,n?{is:n}:void 0);return"select"===e&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:e=>no.createTextNode(e),createComment:e=>no.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>no.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,a){const o=n?n.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling)){while(1)if(t.insertBefore(i.cloneNode(!0),n),i===a||!(i=i.nextSibling))break}else{ro.innerHTML=r?`<svg>${e}</svg>`:e;const i=ro.content;if(r){const e=i.firstChild;while(e.firstChild)i.appendChild(e.firstChild);i.removeChild(e)}t.insertBefore(i,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function ao(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function oo(e,t,n){const i=e.style,a=Object(r["E"])(n);if(n&&!a){for(const e in n)lo(i,e,n[e]);if(t&&!Object(r["E"])(t))for(const e in t)null==n[e]&&lo(i,e,"")}else{const r=i.display;a?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=r)}}const so=/\s*!important$/;function lo(e,t,n){if(Object(r["o"])(n))n.forEach(n=>lo(e,t,n));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=fo(e,t);so.test(n)?e.setProperty(Object(r["l"])(i),n.replace(so,""),"important"):e[i]=n}}const co=["Webkit","Moz","ms"],uo={};function fo(e,t){const n=uo[t];if(n)return n;let i=Object(r["e"])(t);if("filter"!==i&&i in e)return uo[t]=i;i=Object(r["f"])(i);for(let r=0;r<co.length;r++){const n=co[r]+i;if(n in e)return uo[t]=n}return t}const ho="http://www.w3.org/1999/xlink";function po(e,t,n,i,a){if(i&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(ho,t.slice(6,t.length)):e.setAttributeNS(ho,t,n);else{const i=Object(r["D"])(t);null==n||i&&!Object(r["m"])(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function go(e,t,n,i,a,o,s){if("innerHTML"===t||"textContent"===t)return i&&s(i,a,o),void(e[t]=null==n?"":n);if("value"===t&&"PROGRESS"!==e.tagName&&!e.tagName.includes("-")){e._value=n;const r=null==n?"":n;return e.value===r&&"OPTION"!==e.tagName||(e.value=r),void(null==n&&e.removeAttribute(t))}let l=!1;if(""===n||null==n){const i=typeof e[t];"boolean"===i?n=Object(r["m"])(n):null==n&&"string"===i?(n="",l=!0):"number"===i&&(n=0,l=!0)}try{e[t]=n}catch(c){0}l&&e.removeAttribute(t)}function vo(e,t,n,r){e.addEventListener(t,n,r)}function mo(e,t,n,r){e.removeEventListener(t,n,r)}function bo(e,t,n,r,i=null){const a=e._vei||(e._vei={}),o=a[t];if(r&&o)o.value=r;else{const[n,s]=Eo(t);if(r){const o=a[t]=So(r,i);vo(e,n,o,s)}else o&&(mo(e,n,o,s),a[t]=void 0)}}const yo=/(?:Once|Passive|Capture)$/;function Eo(e){let t;if(yo.test(e)){let n;t={};while(n=e.match(yo))e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}const n=":"===e[2]?e.slice(3):Object(r["l"])(e.slice(2));return[n,t]}let Oo=0;const To=Promise.resolve(),_o=()=>Oo||(To.then(()=>Oo=0),Oo=Date.now());function So(e,t){const n=e=>{if(e._vts){if(e._vts<=n.attached)return}else e._vts=Date.now();pt(ko(e,n.value),t,5,[e])};return n.value=e,n.attached=_o(),n}function ko(e,t){if(Object(r["o"])(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(e=>t=>!t._stopped&&e&&e(t))}return t}const Lo=/^on[a-z]/,Ao=(e,t,n,i,a=!1,o,s,l,c)=>{"class"===t?ao(e,i,a):"style"===t?oo(e,n,i):Object(r["x"])(t)?Object(r["v"])(t)||bo(e,t,n,i,s):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):wo(e,t,i,a))?go(e,t,i,o,s,l,c):("true-value"===t?e._trueValue=i:"false-value"===t&&(e._falseValue=i),po(e,t,i,a))};function wo(e,t,n,i){return i?"innerHTML"===t||"textContent"===t||!!(t in e&&Lo.test(t)&&Object(r["q"])(n)):"spellcheck"!==t&&"draggable"!==t&&"translate"!==t&&("form"!==t&&(("list"!==t||"INPUT"!==e.tagName)&&(("type"!==t||"TEXTAREA"!==e.tagName)&&((!Lo.test(t)||!Object(r["E"])(n))&&t in e))))}function Co(e,t){const n=Mn(e);class r extends Ro{constructor(e){super(n,e,t)}}return r.def=n,r}const jo=e=>Co(e,Bs),Do="undefined"!==typeof HTMLElement?HTMLElement:class{};class Ro extends Do{constructor(e,t={},n){super(),this._def=e,this._props=t,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&n?n(this._createVNode(),this.shadowRoot):this.attachShadow({mode:"open"})}connectedCallback(){this._connected=!0,this._instance||this._resolveDef()}disconnectedCallback(){this._connected=!1,Lt(()=>{this._connected||(Ms(null,this.shadowRoot),this._instance=null)})}_resolveDef(){if(this._resolved)return;this._resolved=!0;for(let n=0;n<this.attributes.length;n++)this._setAttr(this.attributes[n].name);new MutationObserver(e=>{for(const t of e)this._setAttr(t.attributeName)}).observe(this,{attributes:!0});const e=e=>{const{props:t,styles:n}=e,i=!Object(r["o"])(t),a=t?i?Object.keys(t):t:[];let o;if(i)for(const s in this._props){const e=t[s];(e===Number||e&&e.type===Number)&&(this._props[s]=Object(r["P"])(this._props[s]),(o||(o=Object.create(null)))[s]=!0)}this._numberProps=o;for(const r of Object.keys(this))"_"!==r[0]&&this._setProp(r,this[r],!0,!1);for(const s of a.map(r["e"]))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(e){this._setProp(s,e)}});this._applyStyles(n),this._update()},t=this._def.__asyncLoader;t?t().then(e):e(this._def)}_setAttr(e){let t=this.getAttribute(e);this._numberProps&&this._numberProps[e]&&(t=Object(r["P"])(t)),this._setProp(Object(r["e"])(e),t,!1)}_getProp(e){return this._props[e]}_setProp(e,t,n=!0,i=!0){t!==this._props[e]&&(this._props[e]=t,i&&this._instance&&this._update(),n&&(!0===t?this.setAttribute(Object(r["l"])(e),""):"string"===typeof t||"number"===typeof t?this.setAttribute(Object(r["l"])(e),t+""):t||this.removeAttribute(Object(r["l"])(e))))}_update(){Ms(this._createVNode(),this.shadowRoot)}_createVNode(){const e=Xi(this._def,Object(r["h"])({},this._props));return this._instance||(e.ce=e=>{this._instance=e,e.isCE=!0,e.emit=(e,...t)=>{this.dispatchEvent(new CustomEvent(e,{detail:t}))};let t=this;while(t=t&&(t.parentNode||t.host))if(t instanceof Ro){e.parent=t._instance;break}}),e}_applyStyles(e){e&&e.forEach(e=>{const t=document.createElement("style");t.textContent=e,this.shadowRoot.appendChild(t)})}}function Io(e="$style"){{const t=fa();if(!t)return r["b"];const n=t.type.__cssModules;if(!n)return r["b"];const i=n[e];return i||r["b"]}}function xo(e){const t=fa();if(!t)return;const n=()=>Po(t.subTree,e(t.proxy));En(n),tr(()=>{const e=new MutationObserver(n);e.observe(t.subTree.el.parentNode,{childList:!0}),ar(()=>e.disconnect())})}function Po(e,t){if(128&e.shapeFlag){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Po(n.activeBranch,t)})}while(e.component)e=e.component.subTree;if(1&e.shapeFlag&&e.el)No(e.el,t);else if(e.type===Ci)e.children.forEach(e=>Po(e,t));else if(e.type===Ri){let{el:n,anchor:r}=e;while(n){if(No(n,t),n===r)break;n=n.nextSibling}}}function No(e,t){if(1===e.nodeType){const n=e.style;for(const e in t)n.setProperty("--"+e,t[e])}}const Fo="transition",Mo="animation",Bo=(e,{slots:t})=>Ka(Dn,Ko(e),t);Bo.displayName="Transition";const Uo={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Vo=Bo.props=Object(r["h"])({},Dn.props,Uo),Go=(e,t=[])=>{Object(r["o"])(e)?e.forEach(e=>e(...t)):e&&e(...t)},Ho=e=>!!e&&(Object(r["o"])(e)?e.some(e=>e.length>1):e.length>1);function Ko(e){const t={};for(const r in e)r in Uo||(t[r]=e[r]);if(!1===e.css)return t;const{name:n="v",type:i,duration:a,enterFromClass:o=n+"-enter-from",enterActiveClass:s=n+"-enter-active",enterToClass:l=n+"-enter-to",appearFromClass:c=o,appearActiveClass:u=s,appearToClass:d=l,leaveFromClass:f=n+"-leave-from",leaveActiveClass:h=n+"-leave-active",leaveToClass:p=n+"-leave-to"}=e,g=Wo(a),v=g&&g[0],m=g&&g[1],{onBeforeEnter:b,onEnter:y,onEnterCancelled:E,onLeave:O,onLeaveCancelled:T,onBeforeAppear:_=b,onAppear:S=y,onAppearCancelled:k=E}=t,L=(e,t,n)=>{$o(e,t?d:l),$o(e,t?u:s),n&&n()},A=(e,t)=>{e._isLeaving=!1,$o(e,f),$o(e,p),$o(e,h),t&&t()},w=e=>(t,n)=>{const r=e?S:y,a=()=>L(t,e,n);Go(r,[t,a]),zo(()=>{$o(t,e?c:o),Yo(t,e?d:l),Ho(r)||Jo(t,i,v,a)})};return Object(r["h"])(t,{onBeforeEnter(e){Go(b,[e]),Yo(e,o),Yo(e,s)},onBeforeAppear(e){Go(_,[e]),Yo(e,c),Yo(e,u)},onEnter:w(!1),onAppear:w(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>A(e,t);Yo(e,f),ts(),Yo(e,h),zo(()=>{e._isLeaving&&($o(e,f),Yo(e,p),Ho(O)||Jo(e,i,m,n))}),Go(O,[e,n])},onEnterCancelled(e){L(e,!1),Go(E,[e])},onAppearCancelled(e){L(e,!0),Go(k,[e])},onLeaveCancelled(e){A(e),Go(T,[e])}})}function Wo(e){if(null==e)return null;if(Object(r["w"])(e))return[qo(e.enter),qo(e.leave)];{const t=qo(e);return[t,t]}}function qo(e){const t=Object(r["P"])(e);return t}function Yo(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.add(t)),(e._vtc||(e._vtc=new Set)).add(t)}function $o(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.remove(t));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function zo(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Xo=0;function Jo(e,t,n,r){const i=e._endId=++Xo,a=()=>{i===e._endId&&r()};if(n)return setTimeout(a,n);const{type:o,timeout:s,propCount:l}=Qo(e,t);if(!o)return r();const c=o+"end";let u=0;const d=()=>{e.removeEventListener(c,f),a()},f=t=>{t.target===e&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},s+1),e.addEventListener(c,f)}function Qo(e,t){const n=window.getComputedStyle(e),r=e=>(n[e]||"").split(", "),i=r(Fo+"Delay"),a=r(Fo+"Duration"),o=Zo(i,a),s=r(Mo+"Delay"),l=r(Mo+"Duration"),c=Zo(s,l);let u=null,d=0,f=0;t===Fo?o>0&&(u=Fo,d=o,f=a.length):t===Mo?c>0&&(u=Mo,d=c,f=l.length):(d=Math.max(o,c),u=d>0?o>c?Fo:Mo:null,f=u?u===Fo?a.length:l.length:0);const h=u===Fo&&/\b(transform|all)(,|$)/.test(n[Fo+"Property"]);return{type:u,timeout:d,propCount:f,hasTransform:h}}function Zo(e,t){while(e.length<t.length)e=e.concat(e);return Math.max(...t.map((t,n)=>es(t)+es(e[n])))}function es(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function ts(){return document.body.offsetHeight}const ns=new WeakMap,rs=new WeakMap,is={name:"TransitionGroup",props:Object(r["h"])({},Vo,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=fa(),r=wn();let i,a;return rr(()=>{if(!i.length)return;const t=e.moveClass||(e.name||"v")+"-move";if(!cs(i[0].el,n.vnode.el,t))return;i.forEach(os),i.forEach(ss);const r=i.filter(ls);ts(),r.forEach(e=>{const n=e.el,r=n.style;Yo(n,t),r.transform=r.webkitTransform=r.transitionDuration="";const i=n._moveCb=e=>{e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener("transitionend",i),n._moveCb=null,$o(n,t))};n.addEventListener("transitionend",i)})}),()=>{const o=Fe(e),s=Ko(o);let l=o.tag||Ci;i=a,a=t.default?Fn(t.default()):[];for(let e=0;e<a.length;e++){const t=a[e];null!=t.key&&Nn(t,In(t,s,r,n))}if(i)for(let e=0;e<i.length;e++){const t=i[e];Nn(t,In(t,s,r,n)),ns.set(t,t.el.getBoundingClientRect())}return Xi(l,null,a)}}},as=is;function os(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function ss(e){rs.set(e,e.el.getBoundingClientRect())}function ls(e){const t=ns.get(e),n=rs.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${r}px,${i}px)`,t.transitionDuration="0s",e}}function cs(e,t,n){const r=e.cloneNode();e._vtc&&e._vtc.forEach(e=>{e.split(/\s+/).forEach(e=>e&&r.classList.remove(e))}),n.split(/\s+/).forEach(e=>e&&r.classList.add(e)),r.style.display="none";const i=1===t.nodeType?t:t.parentNode;i.appendChild(r);const{hasTransform:a}=Qo(r);return i.removeChild(r),a}const us=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Object(r["o"])(t)?e=>Object(r["n"])(t,e):t};function ds(e){e.target.composing=!0}function fs(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const hs={created(e,{modifiers:{lazy:t,trim:n,number:i}},a){e._assign=us(a);const o=i||a.props&&"number"===a.props.type;vo(e,t?"change":"input",t=>{if(t.target.composing)return;let i=e.value;n&&(i=i.trim()),o&&(i=Object(r["P"])(i)),e._assign(i)}),n&&vo(e,"change",()=>{e.value=e.value.trim()}),t||(vo(e,"compositionstart",ds),vo(e,"compositionend",fs),vo(e,"change",fs))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:i,number:a}},o){if(e._assign=us(o),e.composing)return;if(document.activeElement===e&&"range"!==e.type){if(n)return;if(i&&e.value.trim()===t)return;if((a||"number"===e.type)&&Object(r["P"])(e.value)===t)return}const s=null==t?"":t;e.value!==s&&(e.value=s)}},ps={deep:!0,created(e,t,n){e._assign=us(n),vo(e,"change",()=>{const t=e._modelValue,n=ys(e),i=e.checked,a=e._assign;if(Object(r["o"])(t)){const e=Object(r["H"])(t,n),o=-1!==e;if(i&&!o)a(t.concat(n));else if(!i&&o){const n=[...t];n.splice(e,1),a(n)}}else if(Object(r["C"])(t)){const e=new Set(t);i?e.add(n):e.delete(n),a(e)}else a(Es(e,i))})},mounted:gs,beforeUpdate(e,t,n){e._assign=us(n),gs(e,t,n)}};function gs(e,{value:t,oldValue:n},i){e._modelValue=t,Object(r["o"])(t)?e.checked=Object(r["H"])(t,i.props.value)>-1:Object(r["C"])(t)?e.checked=t.has(i.props.value):t!==n&&(e.checked=Object(r["G"])(t,Es(e,!0)))}const vs={created(e,{value:t},n){e.checked=Object(r["G"])(t,n.props.value),e._assign=us(n),vo(e,"change",()=>{e._assign(ys(e))})},beforeUpdate(e,{value:t,oldValue:n},i){e._assign=us(i),t!==n&&(e.checked=Object(r["G"])(t,i.props.value))}},ms={deep:!0,created(e,{value:t,modifiers:{number:n}},i){const a=Object(r["C"])(t);vo(e,"change",()=>{const t=Array.prototype.filter.call(e.options,e=>e.selected).map(e=>n?Object(r["P"])(ys(e)):ys(e));e._assign(e.multiple?a?new Set(t):t:t[0])}),e._assign=us(i)},mounted(e,{value:t}){bs(e,t)},beforeUpdate(e,t,n){e._assign=us(n)},updated(e,{value:t}){bs(e,t)}};function bs(e,t){const n=e.multiple;if(!n||Object(r["o"])(t)||Object(r["C"])(t)){for(let i=0,a=e.options.length;i<a;i++){const a=e.options[i],o=ys(a);if(n)Object(r["o"])(t)?a.selected=Object(r["H"])(t,o)>-1:a.selected=t.has(o);else if(Object(r["G"])(ys(a),t))return void(e.selectedIndex!==i&&(e.selectedIndex=i))}n||-1===e.selectedIndex||(e.selectedIndex=-1)}}function ys(e){return"_value"in e?e._value:e.value}function Es(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Os={created(e,t,n){_s(e,t,n,null,"created")},mounted(e,t,n){_s(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){_s(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){_s(e,t,n,r,"updated")}};function Ts(e,t){switch(e){case"SELECT":return ms;case"TEXTAREA":return hs;default:switch(t){case"checkbox":return ps;case"radio":return vs;default:return hs}}}function _s(e,t,n,r,i){const a=Ts(e.tagName,n.props&&n.props.type),o=a[i];o&&o(e,t,n,r)}function Ss(){hs.getSSRProps=({value:e})=>({value:e}),vs.getSSRProps=({value:e},t)=>{if(t.props&&Object(r["G"])(t.props.value,e))return{checked:!0}},ps.getSSRProps=({value:e},t)=>{if(Object(r["o"])(e)){if(t.props&&Object(r["H"])(e,t.props.value)>-1)return{checked:!0}}else if(Object(r["C"])(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},Os.getSSRProps=(e,t)=>{if("string"!==typeof t.type)return;const n=Ts(t.type.toUpperCase(),t.props&&t.props.type);return n.getSSRProps?n.getSSRProps(e,t):void 0}}const ks=["ctrl","shift","alt","meta"],Ls={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>ks.some(n=>e[n+"Key"]&&!t.includes(n))},As=(e,t)=>(n,...r)=>{for(let e=0;e<t.length;e++){const r=Ls[t[e]];if(r&&r(n,t))return}return e(n,...r)},ws={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Cs=(e,t)=>n=>{if(!("key"in n))return;const i=Object(r["l"])(n.key);return t.some(e=>e===i||ws[e]===i)?e(n):void 0},js={beforeMount(e,{value:t},{transition:n}){e._vod="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):Ds(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!==!n&&(r?t?(r.beforeEnter(e),Ds(e,!0),r.enter(e)):r.leave(e,()=>{Ds(e,!1)}):Ds(e,t))},beforeUnmount(e,{value:t}){Ds(e,t)}};function Ds(e,t){e.style.display=t?e._vod:"none"}function Rs(){js.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const Is=Object(r["h"])({patchProp:Ao},io);let xs,Ps=!1;function Ns(){return xs||(xs=gi(Is))}function Fs(){return xs=Ps?xs:vi(Is),Ps=!0,xs}const Ms=(...e)=>{Ns().render(...e)},Bs=(...e)=>{Fs().hydrate(...e)},Us=(...e)=>{const t=Ns().createApp(...e);const{mount:n}=t;return t.mount=e=>{const i=Gs(e);if(!i)return;const a=t._component;Object(r["q"])(a)||a.render||a.template||(a.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t},Vs=(...e)=>{const t=Fs().createApp(...e);const{mount:n}=t;return t.mount=e=>{const t=Gs(e);if(t)return n(t,!0,t instanceof SVGElement)},t};function Gs(e){if(Object(r["E"])(e)){const t=document.querySelector(e);return t}return e}let Hs=!1;const Ks=()=>{Hs||(Hs=!0,Ss(),Rs())};const Ws=()=>{0}},"7a77":function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},"7aac":function(e,t,n){"use strict";var r=n("c532");e.exports=r.isStandardBrowserEnv()?function(){return{write:function(e,t,n,i,a,o){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},"7b0a":function(e,t,n){},"7b0b":function(e,t,n){var r=n("1d80"),i=Object;e.exports=function(e){return i(r(e))}},"7c28":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Be}));var r=n("7a23"),i=Object.defineProperty,a=Object.defineProperties,o=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))l.call(t,n)&&u(e,n,t[n]);if(s)for(var n of s(t))c.call(t,n)&&u(e,n,t[n]);return e},f=(e,t)=>a(e,o(t));function h(e,t,n,r){var i,a=!1,o=0;function s(){i&&clearTimeout(i)}function l(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=this,f=Date.now()-o;function h(){o=Date.now(),n.apply(d,c)}function p(){i=void 0}a||(r&&!i&&h(),s(),void 0===r&&f>e?h():!0!==t&&(i=setTimeout(r?p:h,void 0===r?e-f:e)))}return"boolean"!=typeof t&&(r=n,n=t,t=void 0),l.cancel=function(){s(),a=!0},l}function p(e,t,n){return void 0===n?h(e,t,!1):h(e,n,!1!==t)}function g(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e||"undefined"!=typeof self&&self;var v={exports:{}};"undefined"!=typeof window&&(v.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s="./src/hls.ts")}({"./node_modules/eventemitter3/index.js":function(e,t,n){var r=Object.prototype.hasOwnProperty,i="~";function a(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,n,r,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new o(n,r||e,a),l=i?i+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function l(e,t){0==--e._eventsCount?e._events=new a:delete e._events[t]}function c(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(i=!1)),c.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},c.prototype.listeners=function(e){var t=i?i+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,a=n.length,o=new Array(a);r<a;r++)o[r]=n[r].fn;return o},c.prototype.listenerCount=function(e){var t=i?i+e:e,n=this._events[t];return n?n.fn?1:n.length:0},c.prototype.emit=function(e,t,n,r,a,o){var s=i?i+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,r),!0;case 5:return u.fn.call(u.context,t,n,r,a),!0;case 6:return u.fn.call(u.context,t,n,r,a,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var f,h=u.length;for(c=0;c<h;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,n);break;case 4:u[c].fn.call(u[c].context,t,n,r);break;default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f];u[c].fn.apply(u[c].context,l)}}return!0},c.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},c.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},c.prototype.removeListener=function(e,t,n,r){var a=i?i+e:e;if(!this._events[a])return this;if(!t)return l(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||r&&!o.once||n&&o.context!==n||l(this,a);else{for(var s=0,c=[],u=o.length;s<u;s++)(o[s].fn!==t||r&&!o[s].once||n&&o[s].context!==n)&&c.push(o[s]);c.length?this._events[a]=1===c.length?c[0]:c:l(this,a)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&l(this,t)):(this._events=new a,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=i,c.EventEmitter=c,e.exports=c},"./node_modules/url-toolkit/src/url-toolkit.js":function(e,t,n){var r,i,a,o,s;r=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,i=/^([^\/?#]*)([^]*)$/,a=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,s={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var r=s.parseURL(e);if(!r)throw new Error("Error trying to parse base URL.");return r.path=s.normalizePath(r.path),s.buildURLFromParts(r)}var a=s.parseURL(t);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return n.alwaysNormalize?(a.path=s.normalizePath(a.path),s.buildURLFromParts(a)):t;var o=s.parseURL(e);if(!o)throw new Error("Error trying to parse base URL.");if(!o.netLoc&&o.path&&"/"!==o.path[0]){var l=i.exec(o.path);o.netLoc=l[1],o.path=l[2]}o.netLoc&&!o.path&&(o.path="/");var c={scheme:o.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(c.netLoc=o.netLoc,"/"!==a.path[0]))if(a.path){var u=o.path,d=u.substring(0,u.lastIndexOf("/")+1)+a.path;c.path=s.normalizePath(d)}else c.path=o.path,a.params||(c.params=o.params,a.query||(c.query=o.query));return null===c.path&&(c.path=n.alwaysNormalize?s.normalizePath(a.path):a.path),s.buildURLFromParts(c)},parseURL:function(e){var t=r.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(a,"");e.length!==(e=e.replace(o,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=s},"./node_modules/webworkify-webpack/index.js":function(e,t,n){function r(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n.oe=function(e){throw console.error(e),e};var r=n(n.s=ENTRY_MODULE);return r.default||r}var i="[\\.|\\-|\\+|\\w|/|@]+",a="\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)";function o(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function s(e,t,r){var s={};s[r]=[];var l=t.toString(),c=l.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!c)return s;for(var u,d=c[1],f=new RegExp("(\\\\n|\\W)"+o(d)+a,"g");u=f.exec(l);)"dll-reference"!==u[3]&&s[r].push(u[3]);for(f=new RegExp("\\("+o(d)+'\\("(dll-reference\\s('+i+'))"\\)\\)'+a,"g");u=f.exec(l);)e[u[2]]||(s[r].push(u[1]),e[u[2]]=n(u[1]).m),s[u[2]]=s[u[2]]||[],s[u[2]].push(u[4]);for(var h,p=Object.keys(s),g=0;g<p.length;g++)for(var v=0;v<s[p[g]].length;v++)h=s[p[g]][v],isNaN(1*h)||(s[p[g]][v]=1*s[p[g]][v]);return s}function l(e){return Object.keys(e).reduce((function(t,n){return t||e[n].length>0}),!1)}e.exports=function(e,t){t=t||{};var i={main:n.m},a=t.all?{main:Object.keys(i.main)}:function(e,t){for(var n={main:[t]},r={main:[]},i={main:{}};l(n);)for(var a=Object.keys(n),o=0;o<a.length;o++){var c=a[o],u=n[c].pop();if(i[c]=i[c]||{},!i[c][u]&&e[c][u]){i[c][u]=!0,r[c]=r[c]||[],r[c].push(u);for(var d=s(e,e[c][u],c),f=Object.keys(d),h=0;h<f.length;h++)n[f[h]]=n[f[h]]||[],n[f[h]]=n[f[h]].concat(d[f[h]])}}return r}(i,e),o="";Object.keys(a).filter((function(e){return"main"!==e})).forEach((function(e){for(var t=0;a[e][t];)t++;a[e].push(t),i[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",o=o+"var "+e+" = ("+r.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+a[e].map((function(t){return JSON.stringify(t)+": "+i[e][t].toString()})).join(",")+"});\n"})),o=o+"new (("+r.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+a.main.map((function(e){return JSON.stringify(e)+": "+i.main[e].toString()})).join(",")+"}))(self);";var c=new window.Blob([o],{type:"text/javascript"});if(t.bare)return c;var u=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(c),d=new window.Worker(u);return d.objectURL=u,d}},"./src/config.ts":function(e,t,n){n.r(t),n.d(t,"hlsDefaultConfig",(function(){return T})),n.d(t,"mergeConfig",(function(){return _})),n.d(t,"enableStreamingMode",(function(){return S}));var r=n("./src/controller/abr-controller.ts"),i=n("./src/controller/audio-stream-controller.ts"),a=n("./src/controller/audio-track-controller.ts"),o=n("./src/controller/subtitle-stream-controller.ts"),s=n("./src/controller/subtitle-track-controller.ts"),l=n("./src/controller/buffer-controller.ts"),c=n("./src/controller/timeline-controller.ts"),u=n("./src/controller/cap-level-controller.ts"),d=n("./src/controller/fps-controller.ts"),f=n("./src/controller/eme-controller.ts"),h=n("./src/utils/xhr-loader.ts"),p=n("./src/utils/fetch-loader.ts"),g=n("./src/utils/cues.ts"),v=n("./src/utils/mediakeys-helper.ts"),m=n("./src/utils/logger.ts");function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=E(E({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:h.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:r.default,bufferController:l.default,capLevelController:u.default,fpsController:d.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystemOptions:{},requestMediaKeySystemAccessFunc:v.requestMediaKeySystemAccess,testBandwidth:!0,progressive:!1,lowLatencyMode:!0},{cueHandler:g.default,enableCEA708Captions:!0,enableWebVTT:!0,enableIMSC1:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:o.SubtitleStreamController,subtitleTrackController:s.default,timelineController:c.TimelineController,audioStreamController:i.default,audioTrackController:a.default,emeController:f.default});function _(e,t){if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==t.liveMaxLatencyDurationCount&&(void 0===t.liveSyncDurationCount||t.liveMaxLatencyDurationCount<=t.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==t.liveMaxLatencyDuration&&(void 0===t.liveSyncDuration||t.liveMaxLatencyDuration<=t.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');return b({},e,t)}function S(e){var t=e.loader;t!==p.default&&t!==h.default?(m.logger.log("[config]: Custom loader detected, cannot enable progressive streaming"),e.progressive=!1):Object(p.fetchSupported)()&&(e.loader=p.default,e.progressive=!0,e.enableSoftwareAES=!0,m.logger.log("[config]: Progressive streaming enabled, using FetchLoader"))}},"./src/controller/abr-controller.ts":function(e,t,n){n.r(t);var r=n("./src/polyfills/number.ts"),i=n("./src/utils/ewma-bandwidth-estimator.ts"),a=n("./src/events.ts"),o=n("./src/utils/buffer-helper.ts"),s=n("./src/errors.ts"),l=n("./src/types/loader.ts"),c=n("./src/utils/logger.ts");function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=function(){function e(e){this.hls=void 0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=void 0,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=e;var t=e.config;this.bwEstimator=new i.default(t.abrEwmaSlowVoD,t.abrEwmaFastVoD,t.abrEwmaDefaultEstimate),this.registerListeners()}var t,n,d,f=e.prototype;return f.registerListeners=function(){var e=this.hls;e.on(a.Events.FRAG_LOADING,this.onFragLoading,this),e.on(a.Events.FRAG_LOADED,this.onFragLoaded,this),e.on(a.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.on(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(a.Events.ERROR,this.onError,this)},f.unregisterListeners=function(){var e=this.hls;e.off(a.Events.FRAG_LOADING,this.onFragLoading,this),e.off(a.Events.FRAG_LOADED,this.onFragLoaded,this),e.off(a.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.off(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(a.Events.ERROR,this.onError,this)},f.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null},f.onFragLoading=function(e,t){var n,r=t.frag;r.type===l.PlaylistLevelType.MAIN&&(this.timer||(this.fragCurrent=r,this.partCurrent=null!=(n=t.part)?n:null,this.timer=self.setInterval(this.onCheck,100)))},f.onLevelLoaded=function(e,t){var n=this.hls.config;t.details.live?this.bwEstimator.update(n.abrEwmaSlowLive,n.abrEwmaFastLive):this.bwEstimator.update(n.abrEwmaSlowVoD,n.abrEwmaFastVoD)},f._abandonRulesCheck=function(){var e=this.fragCurrent,t=this.partCurrent,n=this.hls,i=n.autoLevelEnabled,s=n.config,l=n.media;if(e&&l){var u=t?t.stats:e.stats,d=t?t.duration:e.duration;if(u.aborted)return c.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);if(i&&!l.paused&&l.playbackRate&&l.readyState){var f=performance.now()-u.loading.start,h=Math.abs(l.playbackRate);if(!(f<=500*d/h)){var p=n.levels,g=n.minAutoLevel,v=p[e.level],m=u.total||Math.max(u.loaded,Math.round(d*v.maxBitrate/8)),b=Math.max(1,u.bwEstimate?u.bwEstimate/8:1e3*u.loaded/f),y=(m-u.loaded)/b,E=l.currentTime,O=(o.BufferHelper.bufferInfo(l,E,s.maxBufferHole).end-E)/h;if(!(O>=2*d/h||y<=O)){var T,_=Number.POSITIVE_INFINITY;for(T=e.level-1;T>g&&!((_=d*p[T].maxBitrate/(6.4*b))<O);T--);if(!(_>=y)){var S=this.bwEstimator.getEstimate();c.logger.warn("Fragment "+e.sn+(t?" part "+t.index:"")+" of level "+e.level+" is loading too slowly and will cause an underbuffer; aborting and switching to level "+T+"\n      Current BW estimate: "+(Object(r.isFiniteNumber)(S)?(S/1024).toFixed(3):"Unknown")+" Kb/s\n      Estimated load time for current fragment: "+y.toFixed(3)+" s\n      Estimated load time for the next fragment: "+_.toFixed(3)+" s\n      Time to underbuffer: "+O.toFixed(3)+" s"),n.nextLoadLevel=T,this.bwEstimator.sample(f,u.loaded),this.clearTimer(),e.loader&&(this.fragCurrent=this.partCurrent=null,e.loader.abort()),n.trigger(a.Events.FRAG_LOAD_EMERGENCY_ABORTED,{frag:e,part:t,stats:u})}}}}}},f.onFragLoaded=function(e,t){var n=t.frag,i=t.part;if(n.type===l.PlaylistLevelType.MAIN&&Object(r.isFiniteNumber)(n.sn)){var o=i?i.stats:n.stats,s=i?i.duration:n.duration;if(this.clearTimer(),this.lastLoadedFragLevel=n.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var c=this.hls.levels[n.level],u=(c.loaded?c.loaded.bytes:0)+o.loaded,d=(c.loaded?c.loaded.duration:0)+s;c.loaded={bytes:u,duration:d},c.realBitrate=Math.round(8*u/d)}if(n.bitrateTest){var f={stats:o,frag:n,part:i,id:n.type};this.onFragBuffered(a.Events.FRAG_BUFFERED,f),n.bitrateTest=!1}}},f.onFragBuffered=function(e,t){var n=t.frag,r=t.part,i=r?r.stats:n.stats;if(!i.aborted&&n.type===l.PlaylistLevelType.MAIN&&"initSegment"!==n.sn){var a=i.parsing.end-i.loading.start;this.bwEstimator.sample(a,i.loaded),i.bwEstimate=this.bwEstimator.getEstimate(),n.bitrateTest?this.bitrateTestDelay=a/1e3:this.bitrateTestDelay=0}},f.onError=function(e,t){switch(t.details){case s.ErrorDetails.FRAG_LOAD_ERROR:case s.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},f.clearTimer=function(){self.clearInterval(this.timer),this.timer=void 0},f.getNextABRAutoLevel=function(){var e=this.fragCurrent,t=this.partCurrent,n=this.hls,r=n.maxAutoLevel,i=n.config,a=n.minAutoLevel,s=n.media,l=t?t.duration:e?e.duration:0,u=s?s.currentTime:0,d=s&&0!==s.playbackRate?Math.abs(s.playbackRate):1,f=this.bwEstimator?this.bwEstimator.getEstimate():i.abrEwmaDefaultEstimate,h=(o.BufferHelper.bufferInfo(s,u,i.maxBufferHole).end-u)/d,p=this.findBestLevel(f,a,r,h,i.abrBandWidthFactor,i.abrBandWidthUpFactor);if(p>=0)return p;c.logger.trace((h?"rebuffering expected":"buffer is empty")+", finding optimal quality level");var g=l?Math.min(l,i.maxStarvationDelay):i.maxStarvationDelay,v=i.abrBandWidthFactor,m=i.abrBandWidthUpFactor;if(!h){var b=this.bitrateTestDelay;b&&(g=(l?Math.min(l,i.maxLoadingDelay):i.maxLoadingDelay)-b,c.logger.trace("bitrate test took "+Math.round(1e3*b)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*g)+" ms"),v=m=1)}return p=this.findBestLevel(f,a,r,h+g,v,m),Math.max(p,0)},f.findBestLevel=function(e,t,n,r,i,a){for(var o,s=this.fragCurrent,l=this.partCurrent,u=this.lastLoadedFragLevel,d=this.hls.levels,f=d[u],h=!(null==f||null===(o=f.details)||void 0===o||!o.live),p=null==f?void 0:f.codecSet,g=l?l.duration:s?s.duration:0,v=n;v>=t;v--){var m=d[v];if(m&&(!p||m.codecSet===p)){var b=m.details,y=(l?null==b?void 0:b.partTarget:null==b?void 0:b.averagetargetduration)||g,E=void 0;E=v<=u?i*e:a*e;var O=d[v].maxBitrate,T=O*y/E;if(c.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+v+"/"+Math.round(E)+"/"+O+"/"+y+"/"+r+"/"+T),E>O&&(!T||h&&!this.bitrateTestDelay||T<r))return v}}return-1},t=e,(n=[{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this.bwEstimator;if(!(-1===e||t&&t.canEstimate()))return e;var n=this.getNextABRAutoLevel();return-1!==e&&(n=Math.min(e,n)),n},set:function(e){this._nextAutoLevel=e}}])&&u(t.prototype,n),d&&u(t,d),e}();t.default=d},"./src/controller/audio-stream-controller.ts":function(e,t,n){n.r(t);var r=n("./src/polyfills/number.ts"),i=n("./src/controller/base-stream-controller.ts"),a=n("./src/events.ts"),o=n("./src/utils/buffer-helper.ts"),s=n("./src/controller/fragment-tracker.ts"),l=n("./src/types/level.ts"),c=n("./src/types/loader.ts"),u=n("./src/loader/fragment.ts"),d=n("./src/demux/chunk-cache.ts"),f=n("./src/demux/transmuxer-interface.ts"),h=n("./src/types/transmuxer.ts"),p=n("./src/controller/fragment-finders.ts"),g=n("./src/utils/discontinuities.ts"),v=n("./src/errors.ts"),m=n("./src/utils/logger.ts");function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=function(e){var t,n;function E(t,n){var r;return(r=e.call(this,t,n,"[audio-stream-controller]")||this).videoBuffer=null,r.videoTrackCC=-1,r.waitingVideoCC=-1,r.audioSwitch=!1,r.trackId=-1,r.waitingData=null,r.mainDetails=null,r.bufferFlushed=!1,r._registerListeners(),r}n=e,(t=E).prototype=Object.create(n.prototype),t.prototype.constructor=t,y(t,n);var O=E.prototype;return O.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},O._registerListeners=function(){var e=this.hls;e.on(a.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(a.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(a.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(a.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(a.Events.ERROR,this.onError,this),e.on(a.Events.BUFFER_RESET,this.onBufferReset,this),e.on(a.Events.BUFFER_CREATED,this.onBufferCreated,this),e.on(a.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(a.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(a.Events.FRAG_BUFFERED,this.onFragBuffered,this)},O._unregisterListeners=function(){var e=this.hls;e.off(a.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(a.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(a.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(a.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(a.Events.ERROR,this.onError,this),e.off(a.Events.BUFFER_RESET,this.onBufferReset,this),e.off(a.Events.BUFFER_CREATED,this.onBufferCreated,this),e.off(a.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(a.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(a.Events.FRAG_BUFFERED,this.onFragBuffered,this)},O.onInitPtsFound=function(e,t){var n=t.frag,r=t.id,a=t.initPTS;if("main"===r){var o=n.cc;this.initPTS[n.cc]=a,this.log("InitPTS for cc: "+o+" found from main: "+a),this.videoTrackCC=o,this.state===i.State.WAITING_INIT_PTS&&this.tick()}},O.startLoad=function(e){if(!this.levels)return this.startPosition=e,void(this.state=i.State.STOPPED);var t=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,t>0&&-1===e?(this.log("Override startPosition with lastCurrentTime @"+t.toFixed(3)),this.state=i.State.IDLE):(this.loadedmetadata=!1,this.state=i.State.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()},O.doTick=function(){switch(this.state){case i.State.IDLE:this.doTickIdle();break;case i.State.WAITING_TRACK:var t,n=this.levels,r=this.trackId,a=null==n||null===(t=n[r])||void 0===t?void 0:t.details;if(a){if(this.waitForCdnTuneIn(a))break;this.state=i.State.WAITING_INIT_PTS}break;case i.State.FRAG_LOADING_WAITING_RETRY:var s,l=performance.now(),c=this.retryDate;(!c||l>=c||null!==(s=this.media)&&void 0!==s&&s.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.state=i.State.IDLE);break;case i.State.WAITING_INIT_PTS:var u=this.waitingData;if(u){var d=u.frag,f=u.part,h=u.cache,g=u.complete;if(void 0!==this.initPTS[d.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state=i.State.FRAG_LOADING;var v={frag:d,part:f,payload:h.flush(),networkDetails:null};this._handleFragmentLoadProgress(v),g&&e.prototype._handleFragmentLoadComplete.call(this,v)}else if(this.videoTrackCC!==this.waitingVideoCC)m.logger.log("Waiting fragment cc ("+d.cc+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var b=this.getLoadPosition(),y=o.BufferHelper.bufferInfo(this.mediaBuffer,b,this.config.maxBufferHole);Object(p.fragmentWithinToleranceTest)(y.end,this.config.maxFragLookUpTolerance,d)<0&&(m.logger.log("Waiting fragment cc ("+d.cc+") @ "+d.start+" cancelled because another fragment at "+y.end+" is needed"),this.clearWaitingFragment())}}else this.state=i.State.IDLE}this.onTickEnd()},O.clearWaitingFragment=function(){var e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=i.State.IDLE)},O.onTickEnd=function(){var e=this.media;if(e&&e.readyState){var t=(this.mediaBuffer?this.mediaBuffer:e).buffered;!this.loadedmetadata&&t.length&&(this.loadedmetadata=!0),this.lastCurrentTime=e.currentTime}},O.doTickIdle=function(){var e,t,n=this.hls,r=this.levels,o=this.media,s=this.trackId,l=n.config;if(r&&r[s]&&(o||!this.startFragRequested&&l.startFragPrefetch)){var d=r[s].details;if(!d||d.live&&this.levelLastLoaded!==s||this.waitForCdnTuneIn(d))this.state=i.State.WAITING_TRACK;else{this.bufferFlushed&&(this.bufferFlushed=!1,this.afterBufferFlushed(this.mediaBuffer?this.mediaBuffer:this.media,u.ElementaryStreamTypes.AUDIO,c.PlaylistLevelType.AUDIO));var f=this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,c.PlaylistLevelType.AUDIO);if(null!==f){var h=f.len,p=this.getMaxBufferLength(),g=this.audioSwitch;if(!(h>=p)||g){if(!g&&this._streamEnded(f,d))return n.trigger(a.Events.BUFFER_EOS,{type:"audio"}),void(this.state=i.State.ENDED);var v=d.fragments[0].start,m=f.end;if(g){var b=this.getLoadPosition();m=b,d.PTSKnown&&b<v&&(f.end>v||f.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),o.currentTime=v+.05)}var y=this.getNextFragment(m,d);y?"identity"!==(null===(e=y.decryptdata)||void 0===e?void 0:e.keyFormat)||null!==(t=y.decryptdata)&&void 0!==t&&t.key?this.loadFragment(y,d,m):this.loadKey(y,d):this.bufferFlushed=!0}}}}},O.getMaxBufferLength=function(){var t=e.prototype.getMaxBufferLength.call(this),n=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,c.PlaylistLevelType.MAIN);return null===n?t:Math.max(t,n.len)},O.onMediaDetaching=function(){this.videoBuffer=null,e.prototype.onMediaDetaching.call(this)},O.onAudioTracksUpdated=function(e,t){var n=t.audioTracks;this.resetTransmuxer(),this.levels=n.map((function(e){return new l.Level(e)}))},O.onAudioTrackSwitching=function(e,t){var n=!!t.url;this.trackId=t.id;var r=this.fragCurrent;null!=r&&r.loader&&r.loader.abort(),this.fragCurrent=null,this.clearWaitingFragment(),n?this.setInterval(100):this.resetTransmuxer(),n?(this.audioSwitch=!0,this.state=i.State.IDLE):this.state=i.State.STOPPED,this.tick()},O.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1},O.onLevelLoaded=function(e,t){this.mainDetails=t.details},O.onAudioTrackLoaded=function(e,t){var n,r=this.levels,a=t.details,o=t.id;if(r){this.log("Track "+o+" loaded ["+a.startSN+","+a.endSN+"],duration:"+a.totalduration);var s=r[o],l=0;if(a.live||null!==(n=s.details)&&void 0!==n&&n.live){var c=this.mainDetails;if(a.fragments[0]||(a.deltaUpdateFailed=!0),a.deltaUpdateFailed||!c)return;!s.details&&a.hasProgramDateTime&&c.hasProgramDateTime?(Object(g.alignPDT)(a,c),l=a.fragments[0].start):l=this.alignPlaylists(a,s.details)}s.details=a,this.levelLastLoaded=o,this.startFragRequested||!this.mainDetails&&a.live||this.setStartPosition(s.details,l),this.state!==i.State.WAITING_TRACK||this.waitForCdnTuneIn(a)||(this.state=i.State.IDLE),this.tick()}else this.warn("Audio tracks were reset while loading level "+o)},O._handleFragmentLoadProgress=function(e){var t,n=e.frag,r=e.part,a=e.payload,o=this.config,s=this.trackId,l=this.levels;if(l){var u=l[s];console.assert(u,"Audio track is defined on fragment load progress");var p=u.details;console.assert(p,"Audio track details are defined on fragment load progress");var g=o.defaultAudioCodec||u.audioCodec||"mp4a.40.2",v=this.transmuxer;v||(v=this.transmuxer=new f.default(this.hls,c.PlaylistLevelType.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var b=this.initPTS[n.cc],y=null===(t=n.initSegment)||void 0===t?void 0:t.data;if(void 0!==b){var E=r?r.index:-1,O=-1!==E,T=new h.ChunkMetadata(n.level,n.sn,n.stats.chunkCount,a.byteLength,E,O);v.push(a,y,g,"",n,r,p.totalduration,!1,T,b)}else m.logger.log("Unknown video PTS for cc "+n.cc+", waiting for video PTS before demuxing audio frag "+n.sn+" of ["+p.startSN+" ,"+p.endSN+"],track "+s),(this.waitingData=this.waitingData||{frag:n,part:r,cache:new d.default,complete:!1}).cache.push(new Uint8Array(a)),this.waitingVideoCC=this.videoTrackCC,this.state=i.State.WAITING_INIT_PTS}else this.warn("Audio tracks were reset while fragment load was in progress. Fragment "+n.sn+" of level "+n.level+" will not be buffered")},O._handleFragmentLoadComplete=function(t){this.waitingData?this.waitingData.complete=!0:e.prototype._handleFragmentLoadComplete.call(this,t)},O.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},O.onBufferCreated=function(e,t){var n=t.tracks.audio;n&&(this.mediaBuffer=n.buffer),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer)},O.onFragBuffered=function(e,t){var n=t.frag,r=t.part;n.type===c.PlaylistLevelType.AUDIO&&(this.fragContextChanged(n)?this.warn("Fragment "+n.sn+(r?" p: "+r.index:"")+" of level "+n.level+" finished buffering, but was aborted. state: "+this.state+", audioSwitch: "+this.audioSwitch):("initSegment"!==n.sn&&(this.fragPrevious=n,this.audioSwitch&&(this.audioSwitch=!1,this.hls.trigger(a.Events.AUDIO_TRACK_SWITCHED,{id:this.trackId}))),this.fragBufferedComplete(n,r)))},O.onError=function(t,n){switch(n.details){case v.ErrorDetails.FRAG_LOAD_ERROR:case v.ErrorDetails.FRAG_LOAD_TIMEOUT:case v.ErrorDetails.KEY_LOAD_ERROR:case v.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(c.PlaylistLevelType.AUDIO,n);break;case v.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case v.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:this.state!==i.State.ERROR&&this.state!==i.State.STOPPED&&(this.state=n.fatal?i.State.ERROR:i.State.IDLE,this.warn(n.details+" while loading frag, switching to "+this.state+" state"));break;case v.ErrorDetails.BUFFER_FULL_ERROR:if("audio"===n.parent&&(this.state===i.State.PARSING||this.state===i.State.PARSED)){var r=!0,a=this.getFwdBufferInfo(this.mediaBuffer,c.PlaylistLevelType.AUDIO);a&&a.len>.5&&(r=!this.reduceMaxBufferLength(a.len)),r&&(this.warn("Buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,e.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.resetLoadingState()}}},O.onBufferFlushed=function(e,t){t.type===u.ElementaryStreamTypes.AUDIO&&(this.bufferFlushed=!0)},O._handleTransmuxComplete=function(e){var t,n="audio",r=this.hls,o=e.remuxResult,s=e.chunkMeta,l=this.getCurrentContext(s);if(!l)return this.warn("The loading context changed while buffering fragment "+s.sn+" of level "+s.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(s.level);var c=l.frag,d=l.part,f=o.audio,h=o.text,p=o.id3,g=o.initSegment;if(!this.fragContextChanged(c)){if(this.state=i.State.PARSING,this.audioSwitch&&f&&this.completeAudioSwitch(),null!=g&&g.tracks&&(this._bufferInitSegment(g.tracks,c,s),r.trigger(a.Events.FRAG_PARSING_INIT_SEGMENT,{frag:c,id:n,tracks:g.tracks})),f){var v=f.startPTS,m=f.endPTS,y=f.startDTS,E=f.endDTS;d&&(d.elementaryStreams[u.ElementaryStreamTypes.AUDIO]={startPTS:v,endPTS:m,startDTS:y,endDTS:E}),c.setElementaryStreamInfo(u.ElementaryStreamTypes.AUDIO,v,m,y,E),this.bufferFragmentData(f,c,d,s)}if(null!=p&&null!==(t=p.samples)&&void 0!==t&&t.length){var O=b({frag:c,id:n},p);r.trigger(a.Events.FRAG_PARSING_METADATA,O)}if(h){var T=b({frag:c,id:n},h);r.trigger(a.Events.FRAG_PARSING_USERDATA,T)}}},O._bufferInitSegment=function(e,t,n){if(this.state===i.State.PARSING){e.video&&delete e.video;var r=e.audio;if(r){r.levelCodec=r.codec,r.id="audio",this.log("Init audio buffer, container:"+r.container+", codecs[parsed]=["+r.codec+"]"),this.hls.trigger(a.Events.BUFFER_CODECS,e);var o=r.initSegment;if(null!=o&&o.byteLength){var s={type:"audio",frag:t,part:null,chunkMeta:n,parent:t.type,data:o};this.hls.trigger(a.Events.BUFFER_APPENDING,s)}this.tick()}}},O.loadFragment=function(t,n,a){var o=this.fragmentTracker.getState(t);this.fragCurrent=t,(this.audioSwitch||o===s.FragmentState.NOT_LOADED||o===s.FragmentState.PARTIAL)&&("initSegment"===t.sn?this._loadInitSegment(t):n.live&&!Object(r.isFiniteNumber)(this.initPTS[t.cc])?(this.log("Waiting for video PTS in continuity counter "+t.cc+" of live stream before loading audio fragment "+t.sn+" of level "+this.trackId),this.state=i.State.WAITING_INIT_PTS):(this.startFragRequested=!0,e.prototype.loadFragment.call(this,t,n,a)))},O.completeAudioSwitch=function(){var t=this.hls,n=this.media,r=this.trackId;n&&(this.log("Switching audio track : flushing all audio"),e.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.audioSwitch=!1,t.trigger(a.Events.AUDIO_TRACK_SWITCHED,{id:r})},E}(i.default);t.default=E},"./src/controller/audio-track-controller.ts":function(e,t,n){n.r(t);var r=n("./src/events.ts"),i=n("./src/errors.ts"),a=n("./src/controller/base-playlist-controller.ts"),o=n("./src/types/loader.ts");function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){var t,n;function a(t){var n;return(n=e.call(this,t,"[audio-track-controller]")||this).tracks=[],n.groupId=null,n.tracksInGroup=[],n.trackId=-1,n.trackName="",n.selectDefaultTrack=!0,n.registerListeners(),n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,l(t,n);var c,u,d,f=a.prototype;return f.registerListeners=function(){var e=this.hls;e.on(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(r.Events.LEVEL_LOADING,this.onLevelLoading,this),e.on(r.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(r.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(r.Events.ERROR,this.onError,this)},f.unregisterListeners=function(){var e=this.hls;e.off(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(r.Events.LEVEL_LOADING,this.onLevelLoading,this),e.off(r.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(r.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(r.Events.ERROR,this.onError,this)},f.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,e.prototype.destroy.call(this)},f.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.trackName="",this.selectDefaultTrack=!0},f.onManifestParsed=function(e,t){this.tracks=t.audioTracks||[]},f.onAudioTrackLoaded=function(e,t){var n=t.id,r=t.details,i=this.tracksInGroup[n];if(i){var a=i.details;i.details=t.details,this.log("audioTrack "+n+" loaded ["+r.startSN+"-"+r.endSN+"]"),n===this.trackId&&(this.retryCount=0,this.playlistLoaded(n,t,a))}else this.warn("Invalid audio track id "+n)},f.onLevelLoading=function(e,t){this.switchLevel(t.level)},f.onLevelSwitching=function(e,t){this.switchLevel(t.level)},f.switchLevel=function(e){var t=this.hls.levels[e];if(null!=t&&t.audioGroupIds){var n=t.audioGroupIds[t.urlId];if(this.groupId!==n){this.groupId=n;var i=this.tracks.filter((function(e){return!n||e.groupId===n}));this.selectDefaultTrack&&!i.some((function(e){return e.default}))&&(this.selectDefaultTrack=!1),this.tracksInGroup=i;var a={audioTracks:i};this.log("Updating audio tracks, "+i.length+' track(s) found in "'+n+'" group-id'),this.hls.trigger(r.Events.AUDIO_TRACKS_UPDATED,a),this.selectInitialTrack()}}},f.onError=function(t,n){e.prototype.onError.call(this,t,n),!n.fatal&&n.context&&n.context.type===o.PlaylistContextType.AUDIO_TRACK&&n.context.id===this.trackId&&n.context.groupId===this.groupId&&this.retryLoadingOrFail(n)},f.setAudioTrack=function(e){var t=this.tracksInGroup;if(e<0||e>=t.length)this.warn("Invalid id passed to audio-track controller");else{this.clearTimer();var n=t[this.trackId];this.log("Now switching to audio-track index "+e);var i=t[e],a=i.id,o=i.groupId,s=void 0===o?"":o,l=i.name,c=i.type,u=i.url;if(this.trackId=e,this.trackName=l,this.selectDefaultTrack=!1,this.hls.trigger(r.Events.AUDIO_TRACK_SWITCHING,{id:a,groupId:s,name:l,type:c,url:u}),!i.details||i.details.live){var d=this.switchParams(i.url,null==n?void 0:n.details);this.loadPlaylist(d)}}},f.selectInitialTrack=function(){var e=this.tracksInGroup;console.assert(e.length,"Initial audio track should be selected when tracks are known");var t=this.trackName,n=this.findTrackId(t)||this.findTrackId();-1!==n?this.setAudioTrack(n):(this.warn("No track found for running audio group-ID: "+this.groupId),this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))},f.findTrackId=function(e){for(var t=this.tracksInGroup,n=0;n<t.length;n++){var r=t[n];if((!this.selectDefaultTrack||r.default)&&(!e||e===r.name))return r.id}return-1},f.loadPlaylist=function(e){var t=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(t)){var n=t.id,i=t.groupId,a=t.url;if(e)try{a=e.addDirectives(a)}catch(o){this.warn("Could not construct new URL with HLS Delivery Directives: "+o)}this.log("loading audio-track playlist for id: "+n),this.clearTimer(),this.hls.trigger(r.Events.AUDIO_TRACK_LOADING,{url:a,id:n,groupId:i,deliveryDirectives:e||null})}},c=a,(u=[{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}}])&&s(c.prototype,u),d&&s(c,d),a}(a.default);t.default=c},"./src/controller/base-playlist-controller.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return l}));var r=n("./src/polyfills/number.ts"),i=n("./src/types/level.ts"),a=n("./src/controller/level-helper.ts"),o=n("./src/utils/logger.ts"),s=n("./src/errors.ts"),l=function(){function e(e,t){this.hls=void 0,this.timer=-1,this.canLoad=!1,this.retryCount=0,this.log=void 0,this.warn=void 0,this.log=o.logger.log.bind(o.logger,t+":"),this.warn=o.logger.warn.bind(o.logger,t+":"),this.hls=e}var t=e.prototype;return t.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},t.onError=function(e,t){t.fatal&&t.type===s.ErrorTypes.NETWORK_ERROR&&this.clearTimer()},t.clearTimer=function(){clearTimeout(this.timer),this.timer=-1},t.startLoad=function(){this.canLoad=!0,this.retryCount=0,this.loadPlaylist()},t.stopLoad=function(){this.canLoad=!1,this.clearTimer()},t.switchParams=function(e,t){var n=null==t?void 0:t.renditionReports;if(n)for(var a=0;a<n.length;a++){var o=n[a],s=""+o.URI;if(s===e.substr(-s.length)){var l=parseInt(o["LAST-MSN"]),c=parseInt(o["LAST-PART"]);if(t&&this.hls.config.lowLatencyMode){var u=Math.min(t.age-t.partTarget,t.targetduration);void 0!==c&&u>t.partTarget&&(c+=1)}if(Object(r.isFiniteNumber)(l))return new i.HlsUrlParameters(l,Object(r.isFiniteNumber)(c)?c:void 0,i.HlsSkip.No)}}},t.loadPlaylist=function(e){},t.shouldLoadTrack=function(e){return this.canLoad&&e&&!!e.url&&(!e.details||e.details.live)},t.playlistLoaded=function(e,t,n){var r=this,i=t.details,o=t.stats,s=o.loading.end?Math.max(0,self.performance.now()-o.loading.end):0;if(i.advancedDateTime=Date.now()-s,i.live||null!=n&&n.live){if(i.reloaded(n),n&&this.log("live playlist "+e+" "+(i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:"MISSED")),n&&i.fragments.length>0&&Object(a.mergeDetails)(n,i),!this.canLoad||!i.live)return;var l,c=void 0,u=void 0;if(i.canBlockReload&&i.endSN&&i.advanced){var d=this.hls.config.lowLatencyMode,f=i.lastPartSn,h=i.endSN,p=i.lastPartIndex,g=f===h;-1!==p?(c=g?h+1:f,u=g?d?0:p:p+1):c=h+1;var v=i.age,m=v+i.ageHeader,b=Math.min(m-i.partTarget,1.5*i.targetduration);if(b>0){if(n&&b>n.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+n.tuneInGoal+" to: "+b+" with playlist age: "+i.age),b=0;else{var y=Math.floor(b/i.targetduration);c+=y,void 0!==u&&(u+=Math.round(b%i.targetduration/i.partTarget)),this.log("CDN Tune-in age: "+i.ageHeader+"s last advanced "+v.toFixed(2)+"s goal: "+b+" skip sn "+y+" to part "+u)}i.tuneInGoal=b}if(l=this.getDeliveryDirectives(i,t.deliveryDirectives,c,u),d||!g)return void this.loadPlaylist(l)}else l=this.getDeliveryDirectives(i,t.deliveryDirectives,c,u);var E=Object(a.computeReloadInterval)(i,o);void 0!==c&&i.canBlockReload&&(E-=i.partTarget||1),this.log("reload live playlist "+e+" in "+Math.round(E)+" ms"),this.timer=self.setTimeout((function(){return r.loadPlaylist(l)}),E)}else this.clearTimer()},t.getDeliveryDirectives=function(e,t,n,r){var a=Object(i.getSkipValue)(e,n);return null!=t&&t.skip&&e.deltaUpdateFailed&&(n=t.msn,r=t.part,a=i.HlsSkip.No),new i.HlsUrlParameters(n,r,a)},t.retryLoadingOrFail=function(e){var t,n=this,r=this.hls.config,i=this.retryCount<r.levelLoadingMaxRetry;if(i)if(this.retryCount++,e.details.indexOf("LoadTimeOut")>-1&&null!==(t=e.context)&&void 0!==t&&t.deliveryDirectives)this.warn("retry playlist loading #"+this.retryCount+' after "'+e.details+'"'),this.loadPlaylist();else{var a=Math.min(Math.pow(2,this.retryCount)*r.levelLoadingRetryDelay,r.levelLoadingMaxRetryTimeout);this.timer=self.setTimeout((function(){return n.loadPlaylist()}),a),this.warn("retry playlist loading #"+this.retryCount+" in "+a+' ms after "'+e.details+'"')}else this.warn('cannot recover from error "'+e.details+'"'),this.clearTimer(),e.fatal=!0;return i},e}()},"./src/controller/base-stream-controller.ts":function(e,t,n){n.r(t),n.d(t,"State",(function(){return O})),n.d(t,"default",(function(){return T}));var r=n("./src/polyfills/number.ts"),i=n("./src/task-loop.ts"),a=n("./src/controller/fragment-tracker.ts"),o=n("./src/utils/buffer-helper.ts"),s=n("./src/utils/logger.ts"),l=n("./src/events.ts"),c=n("./src/errors.ts"),u=n("./src/types/transmuxer.ts"),d=n("./src/utils/mp4-tools.ts"),f=n("./src/utils/discontinuities.ts"),h=n("./src/controller/fragment-finders.ts"),p=n("./src/controller/level-helper.ts"),g=n("./src/loader/fragment-loader.ts"),v=n("./src/crypt/decrypter.ts"),m=n("./src/utils/time-ranges.ts"),b=n("./src/types/loader.ts");function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BACKTRACKING:"BACKTRACKING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},T=function(e){var t,n;function i(t,n,r){var i;return(i=e.call(this)||this).hls=void 0,i.fragPrevious=null,i.fragCurrent=null,i.fragmentTracker=void 0,i.transmuxer=null,i._state=O.STOPPED,i.media=void 0,i.mediaBuffer=void 0,i.config=void 0,i.bitrateTest=!1,i.lastCurrentTime=0,i.nextLoadPosition=0,i.startPosition=0,i.loadedmetadata=!1,i.fragLoadError=0,i.retryDate=0,i.levels=null,i.fragmentLoader=void 0,i.levelLastLoaded=null,i.startFragRequested=!1,i.decrypter=void 0,i.initPTS=[],i.onvseeking=null,i.onvended=null,i.logPrefix="",i.log=void 0,i.warn=void 0,i.logPrefix=r,i.log=s.logger.log.bind(s.logger,r+":"),i.warn=s.logger.warn.bind(s.logger,r+":"),i.hls=t,i.fragmentLoader=new g.default(t.config),i.fragmentTracker=n,i.config=t.config,i.decrypter=new v.default(t,t.config),t.on(l.Events.KEY_LOADED,i.onKeyLoaded,function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(i)),i}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,E(t,n);var T,_,S,k=i.prototype;return k.doTick=function(){this.onTickEnd()},k.onTickEnd=function(){},k.startLoad=function(e){},k.stopLoad=function(){this.fragmentLoader.abort();var e=this.fragCurrent;e&&this.fragmentTracker.removeFragment(e),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=O.STOPPED},k._streamEnded=function(e,t){var n=this.fragCurrent,r=this.fragmentTracker;if(!t.live&&n&&n.sn===t.endSN&&!e.nextStart){var i=r.getState(n);return i===a.FragmentState.PARTIAL||i===a.FragmentState.OK}return!1},k.onMediaAttached=function(e,t){var n=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),n.addEventListener("seeking",this.onvseeking),n.addEventListener("ended",this.onvended);var r=this.config;this.levels&&r.autoStartLoad&&this.state===O.STOPPED&&this.startLoad(r.startPosition)},k.onMediaDetaching=function(){var e=this.media;null!=e&&e.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},k.onMediaSeeking=function(){var e=this.config,t=this.fragCurrent,n=this.media,i=this.mediaBuffer,a=this.state,s=n?n.currentTime:0,l=o.BufferHelper.bufferInfo(i||n,s,e.maxBufferHole);if(this.log("media seeking to "+(Object(r.isFiniteNumber)(s)?s.toFixed(3):s)+", state: "+a),a===O.ENDED)this.resetLoadingState();else if(t&&!l.len){var c=e.maxFragLookUpTolerance,u=t.start-c,d=s>t.start+t.duration+c;(s<u||d)&&(d&&t.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),t.loader.abort()),this.resetLoadingState())}n&&(this.lastCurrentTime=s),this.loadedmetadata||l.len||(this.nextLoadPosition=this.startPosition=s),this.tickImmediate()},k.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},k.onKeyLoaded=function(e,t){if(this.state===O.KEY_LOADING&&t.frag===this.fragCurrent&&this.levels){this.state=O.IDLE;var n=this.levels[t.frag.level].details;n&&this.loadFragment(t.frag,n,t.frag.start)}},k.onHandlerDestroying=function(){this.stopLoad(),e.prototype.onHandlerDestroying.call(this)},k.onHandlerDestroyed=function(){this.state=O.STOPPED,this.hls.off(l.Events.KEY_LOADED,this.onKeyLoaded,this),this.fragmentLoader&&this.fragmentLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.fragmentLoader=this.fragmentTracker=null,e.prototype.onHandlerDestroyed.call(this)},k.loadKey=function(e,t){this.log("Loading key for "+e.sn+" of ["+t.startSN+"-"+t.endSN+"], "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+e.level),this.state=O.KEY_LOADING,this.fragCurrent=e,this.hls.trigger(l.Events.KEY_LOADING,{frag:e})},k.loadFragment=function(e,t,n){this._loadFragForPlayback(e,t,n)},k._loadFragForPlayback=function(e,t,n){var r=this;this._doFragLoad(e,t,n,(function(t){if(r.fragContextChanged(e))return r.warn("Fragment "+e.sn+(t.part?" p: "+t.part.index:"")+" of level "+e.level+" was dropped during download."),void r.fragmentTracker.removeFragment(e);e.stats.chunkCount++,r._handleFragmentLoadProgress(t)})).then((function(t){if(t){r.fragLoadError=0;var n=r.state;if(!r.fragContextChanged(e))return"payload"in t&&(r.log("Loaded fragment "+e.sn+" of level "+e.level),r.hls.trigger(l.Events.FRAG_LOADED,t),r.state===O.BACKTRACKING)?(r.fragmentTracker.backtrack(e,t),void r.resetFragmentLoading(e)):void r._handleFragmentLoadComplete(t);(n===O.FRAG_LOADING||n===O.BACKTRACKING||!r.fragCurrent&&n===O.PARSING)&&(r.fragmentTracker.removeFragment(e),r.state=O.IDLE)}})).catch((function(t){r.warn(t),r.resetFragmentLoading(e)}))},k.flushMainBuffer=function(e,t,n){if(void 0===n&&(n=null),e-t){var r={startOffset:e,endOffset:t,type:n};this.fragLoadError=0,this.hls.trigger(l.Events.BUFFER_FLUSHING,r)}},k._loadInitSegment=function(e){var t=this;this._doFragLoad(e).then((function(n){if(!n||t.fragContextChanged(e)||!t.levels)throw new Error("init load aborted");return n})).then((function(n){var r=t.hls,i=n.payload,a=e.decryptdata;if(i&&i.byteLength>0&&a&&a.key&&a.iv&&"AES-128"===a.method){var o=self.performance.now();return t.decrypter.webCryptoDecrypt(new Uint8Array(i),a.key.buffer,a.iv.buffer).then((function(t){var i=self.performance.now();return r.trigger(l.Events.FRAG_DECRYPTED,{frag:e,payload:t,stats:{tstart:o,tdecrypt:i}}),n.payload=t,n}))}return n})).then((function(n){var r=t.fragCurrent,i=t.hls,a=t.levels;if(!a)throw new Error("init load aborted, missing levels");var o=a[e.level].details;console.assert(o,"Level details are defined when init segment is loaded");var s=e.stats;t.state=O.IDLE,t.fragLoadError=0,e.data=new Uint8Array(n.payload),s.parsing.start=s.buffering.start=self.performance.now(),s.parsing.end=s.buffering.end=self.performance.now(),n.frag===r&&i.trigger(l.Events.FRAG_BUFFERED,{stats:s,frag:r,part:null,id:e.type}),t.tick()})).catch((function(n){t.warn(n),t.resetFragmentLoading(e)}))},k.fragContextChanged=function(e){var t=this.fragCurrent;return!e||!t||e.level!==t.level||e.sn!==t.sn||e.urlId!==t.urlId},k.fragBufferedComplete=function(e,t){var n=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered "+e.type+" sn: "+e.sn+(t?" part: "+t.index:"")+" of "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+e.level+" "+m.default.toString(o.BufferHelper.getBuffered(n))),this.state=O.IDLE,this.tick()},k._handleFragmentLoadComplete=function(e){var t=this.transmuxer;if(t){var n=e.frag,r=e.part,i=e.partsLoaded,a=!i||0===i.length||i.some((function(e){return!e})),o=new u.ChunkMetadata(n.level,n.sn,n.stats.chunkCount+1,0,r?r.index:-1,!a);t.flush(o)}},k._handleFragmentLoadProgress=function(e){},k._doFragLoad=function(e,t,n,i){var a=this;if(void 0===n&&(n=null),!this.levels)throw new Error("frag load aborted, missing levels");if(n=Math.max(e.start,n||0),this.config.lowLatencyMode&&t){var o=t.partList;if(o&&i){n>e.end&&t.fragmentHint&&(e=t.fragmentHint);var s=this.getNextPart(o,e,n);if(s>-1){var c=o[s];return this.log("Loading part sn: "+e.sn+" p: "+c.index+" cc: "+e.cc+" of playlist ["+t.startSN+"-"+t.endSN+"] parts [0-"+s+"-"+(o.length-1)+"] "+("[stream-controller]"===this.logPrefix?"level":"track")+": "+e.level+", target: "+parseFloat(n.toFixed(3))),this.nextLoadPosition=c.start+c.duration,this.state=O.FRAG_LOADING,this.hls.trigger(l.Events.FRAG_LOADING,{frag:e,part:o[s],targetBufferTime:n}),this.doFragPartsLoad(e,o,s,i).catch((function(e){return a.handleFragLoadError(e)}))}if(!e.url||this.loadedEndOfParts(o,n))return Promise.resolve(null)}}return this.log("Loading fragment "+e.sn+" cc: "+e.cc+" "+(t?"of ["+t.startSN+"-"+t.endSN+"] ":"")+("[stream-controller]"===this.logPrefix?"level":"track")+": "+e.level+", target: "+parseFloat(n.toFixed(3))),Object(r.isFiniteNumber)(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=O.FRAG_LOADING,this.hls.trigger(l.Events.FRAG_LOADING,{frag:e,targetBufferTime:n}),this.fragmentLoader.load(e,i).catch((function(e){return a.handleFragLoadError(e)}))},k.doFragPartsLoad=function(e,t,n,r){var i=this;return new Promise((function(a,o){var s=[];!function n(c){var u=t[c];i.fragmentLoader.loadPart(e,u,r).then((function(r){s[u.index]=r;var o=r.part;i.hls.trigger(l.Events.FRAG_LOADED,r);var d=t[c+1];if(!d||d.fragment!==e)return a({frag:e,part:o,partsLoaded:s});n(c+1)})).catch(o)}(n)}))},k.handleFragLoadError=function(e){var t=e.data;return t&&t.details===c.ErrorDetails.INTERNAL_ABORTED?this.handleFragLoadAborted(t.frag,t.part):this.hls.trigger(l.Events.ERROR,t),null},k._handleTransmuxerFlush=function(e){var t=this.getCurrentContext(e);if(t&&this.state===O.PARSING){var n=t.frag,r=t.part,i=t.level,a=self.performance.now();n.stats.parsing.end=a,r&&(r.stats.parsing.end=a),this.updateLevelTiming(n,r,i,e.partial)}else this.fragCurrent||(this.state=O.IDLE)},k.getCurrentContext=function(e){var t=this.levels,n=e.level,r=e.sn,i=e.part;if(!t||!t[n])return this.warn("Levels object was unset while buffering fragment "+r+" of level "+n+". The current chunk will not be buffered."),null;var a=t[n],o=i>-1?Object(p.getPartWith)(a,r,i):null,s=o?o.fragment:Object(p.getFragmentWithSN)(a,r,this.fragCurrent);return s?{frag:s,part:o,level:a}:null},k.bufferFragmentData=function(e,t,n,r){if(e&&this.state===O.PARSING){var i=e.data1,a=e.data2,o=i;if(i&&a&&(o=Object(d.appendUint8Array)(i,a)),o&&o.length){var s={type:e.type,frag:t,part:n,chunkMeta:r,parent:t.type,data:o};this.hls.trigger(l.Events.BUFFER_APPENDING,s),e.dropped&&e.independent&&!n&&this.flushBufferGap(t)}}},k.flushBufferGap=function(e){var t=this.media;if(t)if(o.BufferHelper.isBuffered(t,t.currentTime)){var n=t.currentTime,r=o.BufferHelper.bufferInfo(t,n,0),i=e.duration,a=Math.min(2*this.config.maxFragLookUpTolerance,.25*i),s=Math.max(Math.min(e.start-a,r.end-a),n+a);e.start-s>a&&this.flushMainBuffer(s,e.start)}else this.flushMainBuffer(0,e.start)},k.getFwdBufferInfo=function(e,t){var n=this.config,i=this.getLoadPosition();if(!Object(r.isFiniteNumber)(i))return null;var a=o.BufferHelper.bufferInfo(e,i,n.maxBufferHole);if(0===a.len&&void 0!==a.nextStart){var s=this.fragmentTracker.getBufferedFrag(i,t);if(s&&a.nextStart<s.end)return o.BufferHelper.bufferInfo(e,i,Math.max(a.nextStart,n.maxBufferHole))}return a},k.getMaxBufferLength=function(e){var t,n=this.config;return t=e?Math.max(8*n.maxBufferSize/e,n.maxBufferLength):n.maxBufferLength,Math.min(t,n.maxMaxBufferLength)},k.reduceMaxBufferLength=function(e){var t=this.config,n=e||t.maxBufferLength;return t.maxMaxBufferLength>=n&&(t.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+t.maxMaxBufferLength+"s"),!0)},k.getNextFragment=function(e,t){var n,r,i=t.fragments,a=i.length;if(!a)return null;var o,s=this.config,l=i[0].start;if(t.live){var c=s.initialLiveManifestSize;if(a<c)return this.warn("Not enough fragments to start playback (have: "+a+", need: "+c+")"),null;t.PTSKnown||this.startFragRequested||-1!==this.startPosition||(o=this.getInitialLiveFragment(t,i),this.startPosition=o?this.hls.liveSyncPosition||o.start:e)}else e<=l&&(o=i[0]);if(!o){var u=s.lowLatencyMode?t.partEnd:t.fragmentEnd;o=this.getFragmentAtPosition(e,u,t)}return null===(n=o)||void 0===n||!n.initSegment||null!==(r=o)&&void 0!==r&&r.initSegment.data||this.bitrateTest||(o=o.initSegment),o},k.getNextPart=function(e,t,n){for(var r=-1,i=!1,a=!0,o=0,s=e.length;o<s;o++){var l=e[o];if(a=a&&!l.independent,r>-1&&n<l.start)break;var c=l.loaded;!c&&(i||l.independent||a)&&l.fragment===t&&(r=o),i=c}return r},k.loadedEndOfParts=function(e,t){var n=e[e.length-1];return n&&t>n.start&&n.loaded},k.getInitialLiveFragment=function(e,t){var n=this.fragPrevious,r=null;if(n){if(e.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+n.programDateTime),r=Object(h.findFragmentByPDT)(t,n.endProgramDateTime,this.config.maxFragLookUpTolerance)),!r){var i=n.sn+1;if(i>=e.startSN&&i<=e.endSN){var a=t[i-e.startSN];n.cc===a.cc&&(r=a,this.log("Live playlist, switching playlist, load frag with next SN: "+r.sn))}r||(r=Object(h.findFragWithCC)(t,n.cc))&&this.log("Live playlist, switching playlist, load frag with same CC: "+r.sn)}}else{var o=this.hls.liveSyncPosition;null!==o&&(r=this.getFragmentAtPosition(o,this.bitrateTest?e.fragmentEnd:e.edge,e))}return r},k.getFragmentAtPosition=function(e,t,n){var r,i=this.config,o=this.fragPrevious,s=n.fragments,l=n.endSN,c=n.fragmentHint,u=i.maxFragLookUpTolerance,d=!!(i.lowLatencyMode&&n.partList&&c);if(d&&c&&!this.bitrateTest&&(s=s.concat(c),l=c.sn),e<t){var f=e>t-u?0:u;r=Object(h.findFragmentByPTS)(o,s,e,f)}else r=s[s.length-1];if(r){var p=r.sn-n.startSN,g=o&&r.level===o.level,v=s[p+1];if(this.fragmentTracker.getState(r)===a.FragmentState.BACKTRACKED){r=null;for(var m=p;s[m]&&this.fragmentTracker.getState(s[m])===a.FragmentState.BACKTRACKED;)r=o?s[m--]:s[--m];r||(r=v)}else o&&r.sn===o.sn&&!d&&g&&(r.sn<l&&this.fragmentTracker.getState(v)!==a.FragmentState.OK?(this.log("SN "+r.sn+" just loaded, load next one: "+v.sn),r=v):r=null)}return r},k.synchronizeToLiveEdge=function(e){var t=this.config,n=this.media;if(n){var r=this.hls.liveSyncPosition,i=n.currentTime,a=e.fragments[0].start,o=e.edge,s=i>=a-t.maxFragLookUpTolerance&&i<=o;if(null!==r&&n.duration>r&&(i<r||!s)){var l=void 0!==t.liveMaxLatencyDuration?t.liveMaxLatencyDuration:t.liveMaxLatencyDurationCount*e.targetduration;(!s&&n.readyState<4||i<o-l)&&(this.loadedmetadata||(this.nextLoadPosition=r),n.readyState&&(this.warn("Playback: "+i.toFixed(3)+" is located too far from the end of live sliding playlist: "+o+", reset currentTime to : "+r.toFixed(3)),n.currentTime=r))}}},k.alignPlaylists=function(e,t){var n=this.levels,i=this.levelLastLoaded,a=this.fragPrevious,o=null!==i?n[i]:null,s=e.fragments.length;if(!s)return this.warn("No fragments in live playlist"),0;var l=e.fragments[0].start,c=!t,u=e.alignedSliding&&Object(r.isFiniteNumber)(l);if(c||!u&&!l){Object(f.alignStream)(a,o,e);var d=e.fragments[0].start;return this.log("Live playlist sliding: "+d.toFixed(2)+" start-sn: "+(t?t.startSN:"na")+"->"+e.startSN+" prev-sn: "+(a?a.sn:"na")+" fragments: "+s),d}return l},k.waitForCdnTuneIn=function(e){return e.live&&e.canBlockReload&&e.tuneInGoal>Math.max(e.partHoldBack,3*e.partTarget)},k.setStartPosition=function(e,t){var n=this.startPosition;if(n<t&&(n=-1),-1===n||-1===this.lastCurrentTime){var i=e.startTimeOffset;Object(r.isFiniteNumber)(i)?(n=t+i,i<0&&(n+=e.totalduration),n=Math.min(Math.max(t,n),t+e.totalduration),this.log("Start time offset "+i+" found in playlist, adjust startPosition to "+n),this.startPosition=n):e.live?n=this.hls.liveSyncPosition||t:this.startPosition=n=0,this.lastCurrentTime=n}this.nextLoadPosition=n},k.getLoadPosition=function(){var e=this.media,t=0;return this.loadedmetadata&&e?t=e.currentTime:this.nextLoadPosition&&(t=this.nextLoadPosition),t},k.handleFragLoadAborted=function(e,t){this.transmuxer&&"initSegment"!==e.sn&&e.stats.aborted&&(this.warn("Fragment "+e.sn+(t?" part"+t.index:"")+" of level "+e.level+" was aborted"),this.resetFragmentLoading(e))},k.resetFragmentLoading=function(e){this.fragCurrent&&this.fragContextChanged(e)||(this.state=O.IDLE)},k.onFragmentOrKeyLoadError=function(e,t){if(!t.fatal){var n=t.frag;if(n&&n.type===e){var r=this.fragCurrent;console.assert(r&&n.sn===r.sn&&n.level===r.level&&n.urlId===r.urlId,"Frag load error must match current frag to retry");var i=this.config;if(this.fragLoadError+1<=i.fragLoadingMaxRetry){if(this.resetLiveStartWhenNotLoaded(n.level))return;var a=Math.min(Math.pow(2,this.fragLoadError)*i.fragLoadingRetryDelay,i.fragLoadingMaxRetryTimeout);this.warn("Fragment "+n.sn+" of "+e+" "+n.level+" failed to load, retrying in "+a+"ms"),this.retryDate=self.performance.now()+a,this.fragLoadError++,this.state=O.FRAG_LOADING_WAITING_RETRY}else t.levelRetry?(e===b.PlaylistLevelType.AUDIO&&(this.fragCurrent=null),this.fragLoadError=0,this.state=O.IDLE):(s.logger.error(t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.hls.stopLoad(),this.state=O.ERROR)}}},k.afterBufferFlushed=function(e,t,n){if(e){var r=o.BufferHelper.getBuffered(e);this.fragmentTracker.detectEvictedFragments(t,r,n),this.state===O.ENDED&&this.resetLoadingState()}},k.resetLoadingState=function(){this.fragCurrent=null,this.fragPrevious=null,this.state=O.IDLE},k.resetLiveStartWhenNotLoaded=function(e){if(!this.loadedmetadata){this.startFragRequested=!1;var t=this.levels?this.levels[e].details:null;if(null!=t&&t.live)return this.startPosition=-1,this.setStartPosition(t,0),this.resetLoadingState(),!0;this.nextLoadPosition=this.startPosition}return!1},k.updateLevelTiming=function(e,t,n,r){var i=this,a=n.details;console.assert(!!a,"level.details must be defined"),Object.keys(e.elementaryStreams).reduce((function(t,o){var s=e.elementaryStreams[o];if(s){var c=s.endPTS-s.startPTS;if(c<=0)return i.warn("Could not parse fragment "+e.sn+" "+o+" duration reliably ("+c+") resetting transmuxer to fallback to playlist timing"),i.resetTransmuxer(),t||!1;var u=r?0:Object(p.updateFragPTSDTS)(a,e,s.startPTS,s.endPTS,s.startDTS,s.endDTS);return i.hls.trigger(l.Events.LEVEL_PTS_UPDATED,{details:a,level:n,drift:u,type:o,frag:e,start:s.startPTS,end:s.endPTS}),!0}return t}),!1)?(this.state=O.PARSED,this.hls.trigger(l.Events.FRAG_PARSED,{frag:e,part:t})):this.resetLoadingState()},k.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},T=i,(_=[{key:"state",get:function(){return this._state},set:function(e){var t=this._state;t!==e&&(this._state=e,this.log(t+"->"+e))}}])&&y(T.prototype,_),S&&y(T,S),i}(i.default)},"./src/controller/buffer-controller.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return h}));var r=n("./src/polyfills/number.ts"),i=n("./src/events.ts"),a=n("./src/utils/logger.ts"),o=n("./src/errors.ts"),s=n("./src/utils/buffer-helper.ts"),l=n("./src/utils/mediasource-helper.ts"),c=n("./src/loader/fragment.ts"),u=n("./src/controller/buffer-operation-queue.ts"),d=Object(l.getMediaSource)(),f=/([ha]vc.)(?:\.[^.,]+)+/,h=function(){function e(e){var t=this;this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var e=t.hls,n=t.media,r=t.mediaSource;a.logger.log("[buffer-controller]: Media source opened"),n&&(t.updateMediaElementDuration(),e.trigger(i.Events.MEDIA_ATTACHED,{media:n})),r&&r.removeEventListener("sourceopen",t._onMediaSourceOpen),t.checkPendingTracks()},this._onMediaSourceClose=function(){a.logger.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){a.logger.log("[buffer-controller]: Media source ended")},this.hls=e,this._initSourceBuffer(),this.registerListeners()}var t=e.prototype;return t.hasSourceTypes=function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0},t.destroy=function(){this.unregisterListeners(),this.details=null},t.registerListeners=function(){var e=this.hls;e.on(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(i.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(i.Events.BUFFER_RESET,this.onBufferReset,this),e.on(i.Events.BUFFER_APPENDING,this.onBufferAppending,this),e.on(i.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.on(i.Events.BUFFER_EOS,this.onBufferEos,this),e.on(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(i.Events.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(i.Events.FRAG_PARSED,this.onFragParsed,this),e.on(i.Events.FRAG_CHANGED,this.onFragChanged,this)},t.unregisterListeners=function(){var e=this.hls;e.off(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(i.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(i.Events.BUFFER_RESET,this.onBufferReset,this),e.off(i.Events.BUFFER_APPENDING,this.onBufferAppending,this),e.off(i.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.off(i.Events.BUFFER_EOS,this.onBufferEos,this),e.off(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(i.Events.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(i.Events.FRAG_PARSED,this.onFragParsed,this),e.off(i.Events.FRAG_CHANGED,this.onFragChanged,this)},t._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new u.default(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]}},t.onManifestParsed=function(e,t){var n=2;(t.audio&&!t.video||!t.altAudio)&&(n=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=n,this.details=null,a.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},t.onMediaAttaching=function(e,t){var n=this.media=t.media;if(n&&d){var r=this.mediaSource=new d;r.addEventListener("sourceopen",this._onMediaSourceOpen),r.addEventListener("sourceended",this._onMediaSourceEnded),r.addEventListener("sourceclose",this._onMediaSourceClose),n.src=self.URL.createObjectURL(r),this._objectUrl=n.src}},t.onMediaDetaching=function(){var e=this.media,t=this.mediaSource,n=this._objectUrl;if(t){if(a.logger.log("[buffer-controller]: media source detaching"),"open"===t.readyState)try{t.endOfStream()}catch(r){a.logger.warn("[buffer-controller]: onMediaDetaching: "+r.message+" while calling endOfStream")}this.onBufferReset(),t.removeEventListener("sourceopen",this._onMediaSourceOpen),t.removeEventListener("sourceended",this._onMediaSourceEnded),t.removeEventListener("sourceclose",this._onMediaSourceClose),e&&(n&&self.URL.revokeObjectURL(n),e.src===n?(e.removeAttribute("src"),e.load()):a.logger.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(i.Events.MEDIA_DETACHED,void 0)},t.onBufferReset=function(){var e=this;this.getSourceBufferTypes().forEach((function(t){var n=e.sourceBuffer[t];try{n&&(e.removeBufferListeners(t),e.mediaSource&&e.mediaSource.removeSourceBuffer(n),e.sourceBuffer[t]=void 0)}catch(r){a.logger.warn("[buffer-controller]: Failed to reset the "+t+" buffer",r)}})),this._initSourceBuffer()},t.onBufferCodecs=function(e,t){var n=this,r=this.getSourceBufferTypes().length;Object.keys(t).forEach((function(e){if(r){var i=n.tracks[e];if(i&&"function"==typeof i.buffer.changeType){var a=t[e],o=a.codec,s=a.levelCodec,l=a.container;if((i.levelCodec||i.codec).replace(f,"$1")!==(s||o).replace(f,"$1")){var c=l+";codecs="+(s||o);n.appendChangeType(e,c)}}}else n.pendingTracks[e]=t[e]})),r||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())},t.appendChangeType=function(e,t){var n=this,r=this.operationQueue,i={execute:function(){var i=n.sourceBuffer[e];i&&(a.logger.log("[buffer-controller]: changing "+e+" sourceBuffer type to "+t),i.changeType(t)),r.shiftAndExecuteNext(e)},onStart:function(){},onComplete:function(){},onError:function(t){a.logger.warn("[buffer-controller]: Failed to change "+e+" SourceBuffer type",t)}};r.append(i,e)},t.onBufferAppending=function(e,t){var n=this,r=this.hls,l=this.operationQueue,c=this.tracks,u=t.data,d=t.type,f=t.frag,h=t.part,p=t.chunkMeta,g=p.buffering[d],v=self.performance.now();g.start=v;var m=f.stats.buffering,b=h?h.stats.buffering:null;0===m.start&&(m.start=v),b&&0===b.start&&(b.start=v);var y=c.audio,E="audio"===d&&1===p.id&&"audio/mpeg"===(null==y?void 0:y.container),O={execute:function(){if(g.executeStart=self.performance.now(),E){var e=n.sourceBuffer[d];if(e){var t=f.start-e.timestampOffset;Math.abs(t)>=.1&&(a.logger.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+f.start+" (delta: "+t+") sn: "+f.sn+")"),e.timestampOffset=f.start)}}n.appendExecutor(u,d)},onStart:function(){},onComplete:function(){var e=self.performance.now();g.executeEnd=g.end=e,0===m.first&&(m.first=e),b&&0===b.first&&(b.first=e);var t=n.sourceBuffer,r={};for(var a in t)r[a]=s.BufferHelper.getBuffered(t[a]);n.appendError=0,n.hls.trigger(i.Events.BUFFER_APPENDED,{type:d,frag:f,part:h,chunkMeta:p,parent:f.type,timeRanges:r})},onError:function(e){a.logger.error("[buffer-controller]: Error encountered while trying to append to the "+d+" SourceBuffer",e);var t={type:o.ErrorTypes.MEDIA_ERROR,parent:f.type,details:o.ErrorDetails.BUFFER_APPEND_ERROR,err:e,fatal:!1};e.code===DOMException.QUOTA_EXCEEDED_ERR?t.details=o.ErrorDetails.BUFFER_FULL_ERROR:(n.appendError++,t.details=o.ErrorDetails.BUFFER_APPEND_ERROR,n.appendError>r.config.appendErrorMaxRetry&&(a.logger.error("[buffer-controller]: Failed "+r.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),t.fatal=!0)),r.trigger(i.Events.ERROR,t)}};l.append(O,d)},t.onBufferFlushing=function(e,t){var n=this,r=this.operationQueue,o=function(e){return{execute:n.removeExecutor.bind(n,e,t.startOffset,t.endOffset),onStart:function(){},onComplete:function(){n.hls.trigger(i.Events.BUFFER_FLUSHED,{type:e})},onError:function(t){a.logger.warn("[buffer-controller]: Failed to remove from "+e+" SourceBuffer",t)}}};t.type?r.append(o(t.type),t.type):this.getSourceBufferTypes().forEach((function(e){r.append(o(e),e)}))},t.onFragParsed=function(e,t){var n=this,r=t.frag,o=t.part,s=[],l=o?o.elementaryStreams:r.elementaryStreams;l[c.ElementaryStreamTypes.AUDIOVIDEO]?s.push("audiovideo"):(l[c.ElementaryStreamTypes.AUDIO]&&s.push("audio"),l[c.ElementaryStreamTypes.VIDEO]&&s.push("video")),0===s.length&&a.logger.warn("Fragments must have at least one ElementaryStreamType set. type: "+r.type+" level: "+r.level+" sn: "+r.sn),this.blockBuffers((function(){var e=self.performance.now();r.stats.buffering.end=e,o&&(o.stats.buffering.end=e);var t=o?o.stats:r.stats;n.hls.trigger(i.Events.FRAG_BUFFERED,{frag:r,part:o,stats:t,id:r.type})}),s)},t.onFragChanged=function(e,t){this.flushBackBuffer()},t.onBufferEos=function(e,t){var n=this;this.getSourceBufferTypes().reduce((function(e,r){var i=n.sourceBuffer[r];return t.type&&t.type!==r||i&&!i.ended&&(i.ended=!0,a.logger.log("[buffer-controller]: "+r+" sourceBuffer now EOS")),e&&!(i&&!i.ended)}),!0)&&this.blockBuffers((function(){var e=n.mediaSource;e&&"open"===e.readyState&&e.endOfStream()}))},t.onLevelUpdated=function(e,t){var n=t.details;n.fragments.length&&(this.details=n,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},t.flushBackBuffer=function(){var e=this.hls,t=this.details,n=this.media,a=this.sourceBuffer;if(n&&null!==t){var o=this.getSourceBufferTypes();if(o.length){var l=t.live&&null!==e.config.liveBackBufferLength?e.config.liveBackBufferLength:e.config.backBufferLength;if(Object(r.isFiniteNumber)(l)&&!(l<0)){var c=n.currentTime,u=t.levelTargetDuration,d=Math.max(l,u),f=Math.floor(c/u)*u-d;o.forEach((function(n){var r=a[n];if(r){var o=s.BufferHelper.getBuffered(r);o.length>0&&f>o.start(0)&&(e.trigger(i.Events.BACK_BUFFER_REACHED,{bufferEnd:f}),t.live&&e.trigger(i.Events.LIVE_BACK_BUFFER_REACHED,{bufferEnd:f}),e.trigger(i.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:f,type:n}))}}))}}}},t.updateMediaElementDuration=function(){if(this.details&&this.media&&this.mediaSource&&"open"===this.mediaSource.readyState){var e=this.details,t=this.hls,n=this.media,i=this.mediaSource,o=e.fragments[0].start+e.totalduration,s=n.duration,l=Object(r.isFiniteNumber)(i.duration)?i.duration:0;e.live&&t.config.liveDurationInfinity?(a.logger.log("[buffer-controller]: Media Source duration is set to Infinity"),i.duration=1/0,this.updateSeekableRange(e)):(o>l&&o>s||!Object(r.isFiniteNumber)(s))&&(a.logger.log("[buffer-controller]: Updating Media Source duration to "+o.toFixed(3)),i.duration=o)}},t.updateSeekableRange=function(e){var t=this.mediaSource,n=e.fragments;if(n.length&&e.live&&null!=t&&t.setLiveSeekableRange){var r=Math.max(0,n[0].start),i=Math.max(r,r+e.totalduration);t.setLiveSeekableRange(r,i)}},t.checkPendingTracks=function(){var e=this.bufferCodecEventsExpected,t=this.operationQueue,n=this.pendingTracks,r=Object.keys(n).length;if(r&&!e||2===r){this.createSourceBuffers(n),this.pendingTracks={};var a=this.getSourceBufferTypes();if(0===a.length)return void this.hls.trigger(i.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,reason:"could not create source buffer for media codec(s)"});a.forEach((function(e){t.executeNext(e)}))}},t.createSourceBuffers=function(e){var t=this.sourceBuffer,n=this.mediaSource;if(!n)throw Error("createSourceBuffers called when mediaSource was null");var r=0;for(var s in e)if(!t[s]){var l=e[s];if(!l)throw Error("source buffer exists for track "+s+", however track does not");var c=l.levelCodec||l.codec,u=l.container+";codecs="+c;a.logger.log("[buffer-controller]: creating sourceBuffer("+u+")");try{var d=t[s]=n.addSourceBuffer(u),f=s;this.addBufferListener(f,"updatestart",this._onSBUpdateStart),this.addBufferListener(f,"updateend",this._onSBUpdateEnd),this.addBufferListener(f,"error",this._onSBUpdateError),this.tracks[s]={buffer:d,codec:c,container:l.container,levelCodec:l.levelCodec,id:l.id},r++}catch(h){a.logger.error("[buffer-controller]: error while trying to add sourceBuffer: "+h.message),this.hls.trigger(i.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:h,mimeType:u})}}r&&this.hls.trigger(i.Events.BUFFER_CREATED,{tracks:this.tracks})},t._onSBUpdateStart=function(e){this.operationQueue.current(e).onStart()},t._onSBUpdateEnd=function(e){var t=this.operationQueue;t.current(e).onComplete(),t.shiftAndExecuteNext(e)},t._onSBUpdateError=function(e,t){a.logger.error("[buffer-controller]: "+e+" SourceBuffer error",t),this.hls.trigger(i.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1});var n=this.operationQueue.current(e);n&&n.onError(t)},t.removeExecutor=function(e,t,n){var i=this.media,o=this.mediaSource,s=this.operationQueue,l=this.sourceBuffer[e];if(!i||!o||!l)return a.logger.warn("[buffer-controller]: Attempting to remove from the "+e+" SourceBuffer, but it does not exist"),void s.shiftAndExecuteNext(e);var c=Object(r.isFiniteNumber)(i.duration)?i.duration:1/0,u=Object(r.isFiniteNumber)(o.duration)?o.duration:1/0,d=Math.max(0,t),f=Math.min(n,c,u);f>d?(a.logger.log("[buffer-controller]: Removing ["+d+","+f+"] from the "+e+" SourceBuffer"),console.assert(!l.updating,e+" sourceBuffer must not be updating"),l.remove(d,f)):s.shiftAndExecuteNext(e)},t.appendExecutor=function(e,t){var n=this.operationQueue,r=this.sourceBuffer[t];if(!r)return a.logger.warn("[buffer-controller]: Attempting to append to the "+t+" SourceBuffer, but it does not exist"),void n.shiftAndExecuteNext(t);r.ended=!1,console.assert(!r.updating,t+" sourceBuffer must not be updating"),r.appendBuffer(e)},t.blockBuffers=function(e,t){var n=this;if(void 0===t&&(t=this.getSourceBufferTypes()),!t.length)return a.logger.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve(e);var r=this.operationQueue,i=t.map((function(e){return r.appendBlocker(e)}));Promise.all(i).then((function(){e(),t.forEach((function(e){var t=n.sourceBuffer[e];t&&t.updating||r.shiftAndExecuteNext(e)}))}))},t.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},t.addBufferListener=function(e,t,n){var r=this.sourceBuffer[e];if(r){var i=n.bind(this,e);this.listeners[e].push({event:t,listener:i}),r.addEventListener(t,i)}},t.removeBufferListeners=function(e){var t=this.sourceBuffer[e];t&&this.listeners[e].forEach((function(e){t.removeEventListener(e.event,e.listener)}))},e}()},"./src/controller/buffer-operation-queue.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return i}));var r=n("./src/utils/logger.ts"),i=function(){function e(e){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=e}var t=e.prototype;return t.append=function(e,t){var n=this.queues[t];n.push(e),1===n.length&&this.buffers[t]&&this.executeNext(t)},t.insertAbort=function(e,t){this.queues[t].unshift(e),this.executeNext(t)},t.appendBlocker=function(e){var t,n=new Promise((function(e){t=e})),r={execute:t,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(r,e),n},t.executeNext=function(e){var t=this.buffers,n=this.queues,i=t[e],a=n[e];if(a.length){var o=a[0];try{o.execute()}catch(d){r.logger.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),o.onError(d),i&&i.updating||(a.shift(),this.executeNext(e))}}},t.shiftAndExecuteNext=function(e){this.queues[e].shift(),this.executeNext(e)},t.current=function(e){return this.queues[e][0]},e}()},"./src/controller/cap-level-controller.ts":function(e,t,n){n.r(t);var r=n("./src/events.ts");function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(e){this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.hls=void 0,this.streamController=void 0,this.clientRect=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var t,n,a,o=e.prototype;return o.setStreamController=function(e){this.streamController=e},o.destroy=function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},o.registerListeners=function(){var e=this.hls;e.on(r.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(r.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(r.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},o.unregisterListener=function(){var e=this.hls;e.off(r.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(r.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(r.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.off(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},o.onFpsDropLevelCapping=function(t,n){e.isLevelAllowed(n.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(n.droppedLevel)},o.onMediaAttaching=function(e,t){this.media=t.media instanceof HTMLVideoElement?t.media:null},o.onManifestParsed=function(e,t){var n=this.hls;this.restrictedLevels=[],this.firstLevel=t.firstLevel,n.config.capLevelToPlayerSize&&t.video&&this.startCapping()},o.onBufferCodecs=function(e,t){this.hls.config.capLevelToPlayerSize&&t.video&&this.startCapping()},o.onMediaDetaching=function(){this.stopCapping()},o.detectPlayerSize=function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var e=this.hls.levels;if(e.length){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e.length-1),t.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}},o.getMaxLevel=function(t){var n=this,r=this.hls.levels;if(!r.length)return-1;var i=r.filter((function(r,i){return e.isLevelAllowed(i,n.restrictedLevels)&&i<=t}));return this.clientRect=null,e.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)},o.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},o.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},o.getDimensions=function(){if(this.clientRect)return this.clientRect;var e=this.media,t={width:0,height:0};if(e){var n=e.getBoundingClientRect();t.width=n.width,t.height=n.height,t.width||t.height||(t.width=n.right-n.left||e.width||0,t.height=n.bottom-n.top||e.height||0)}return this.clientRect=t,t},e.isLevelAllowed=function(e,t){return void 0===t&&(t=[]),-1===t.indexOf(e)},e.getMaxLevelByMediaSize=function(e,t,n){if(!e||!e.length)return-1;for(var r,i,a=e.length-1,o=0;o<e.length;o+=1){var s=e[o];if((s.width>=t||s.height>=n)&&(r=s,!(i=e[o+1])||r.width!==i.width||r.height!==i.height)){a=o;break}}return a},t=e,a=[{key:"contentScaleFactor",get:function(){var e=1;try{e=self.devicePixelRatio}catch(t){}return e}}],(n=[{key:"mediaWidth",get:function(){return this.getDimensions().width*e.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*e.contentScaleFactor}}])&&i(t.prototype,n),a&&i(t,a),e}();t.default=a},"./src/controller/eme-controller.ts":function(e,t,n){n.r(t);var r=n("./src/events.ts"),i=n("./src/errors.ts"),a=n("./src/utils/logger.ts"),o=n("./src/utils/mediakeys-helper.ts");function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(e){this.hls=void 0,this._widevineLicenseUrl=void 0,this._licenseXhrSetup=void 0,this._licenseResponseCallback=void 0,this._emeEnabled=void 0,this._requestMediaKeySystemAccess=void 0,this._drmSystemOptions=void 0,this._config=void 0,this._mediaKeysList=[],this._media=null,this._hasSetMediaKeys=!1,this._requestLicenseFailureCount=0,this.mediaKeysPromise=null,this._onMediaEncrypted=this.onMediaEncrypted.bind(this),this.hls=e,this._config=e.config,this._widevineLicenseUrl=this._config.widevineLicenseUrl,this._licenseXhrSetup=this._config.licenseXhrSetup,this._licenseResponseCallback=this._config.licenseResponseCallback,this._emeEnabled=this._config.emeEnabled,this._requestMediaKeySystemAccess=this._config.requestMediaKeySystemAccessFunc,this._drmSystemOptions=this._config.drmSystemOptions,this._registerListeners()}var t,n,l,c=e.prototype;return c.destroy=function(){this._unregisterListeners(),this.hls=this._onMediaEncrypted=null,this._requestMediaKeySystemAccess=null},c._registerListeners=function(){this.hls.on(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(r.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(r.Events.MANIFEST_PARSED,this.onManifestParsed,this)},c._unregisterListeners=function(){this.hls.off(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(r.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(r.Events.MANIFEST_PARSED,this.onManifestParsed,this)},c.getLicenseServerUrl=function(e){switch(e){case o.KeySystems.WIDEVINE:if(!this._widevineLicenseUrl)break;return this._widevineLicenseUrl}throw new Error('no license server URL configured for key-system "'+e+'"')},c._attemptKeySystemAccess=function(e,t,n){var r=this,i=function(e,t,n,r){switch(e){case o.KeySystems.WIDEVINE:return function(e,t,n){var r={audioCapabilities:[],videoCapabilities:[]};return e.forEach((function(e){r.audioCapabilities.push({contentType:'audio/mp4; codecs="'+e+'"',robustness:n.audioRobustness||""})})),t.forEach((function(e){r.videoCapabilities.push({contentType:'video/mp4; codecs="'+e+'"',robustness:n.videoRobustness||""})})),[r]}(t,n,r);default:throw new Error("Unknown key-system: "+e)}}(e,t,n,this._drmSystemOptions);a.logger.log("Requesting encrypted media key-system access");var s=this.requestMediaKeySystemAccess(e,i);this.mediaKeysPromise=s.then((function(t){return r._onMediaKeySystemAccessObtained(e,t)})),s.catch((function(t){a.logger.error('Failed to obtain key-system "'+e+'" access:',t)}))},c._onMediaKeySystemAccessObtained=function(e,t){var n=this;a.logger.log('Access for key-system "'+e+'" obtained');var r={mediaKeysSessionInitialized:!1,mediaKeySystemAccess:t,mediaKeySystemDomain:e};this._mediaKeysList.push(r);var i=Promise.resolve().then((function(){return t.createMediaKeys()})).then((function(t){return r.mediaKeys=t,a.logger.log('Media-keys created for key-system "'+e+'"'),n._onMediaKeysCreated(),t}));return i.catch((function(e){a.logger.error("Failed to create media-keys:",e)})),i},c._onMediaKeysCreated=function(){var e=this;this._mediaKeysList.forEach((function(t){t.mediaKeysSession||(t.mediaKeysSession=t.mediaKeys.createSession(),e._onNewMediaKeySession(t.mediaKeysSession))}))},c._onNewMediaKeySession=function(e){var t=this;a.logger.log("New key-system session "+e.sessionId),e.addEventListener("message",(function(n){t._onKeySessionMessage(e,n.message)}),!1)},c._onKeySessionMessage=function(e,t){a.logger.log("Got EME message event, creating license request"),this._requestLicense(t,(function(t){a.logger.log("Received license data (length: "+(t?t.byteLength:t)+"), updating key-session"),e.update(t)}))},c.onMediaEncrypted=function(e){var t=this;if(a.logger.log('Media is encrypted using "'+e.initDataType+'" init data type'),!this.mediaKeysPromise)return a.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been requested"),void this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});var n=function(n){t._media&&(t._attemptSetMediaKeys(n),t._generateRequestWithPreferredKeySession(e.initDataType,e.initData))};this.mediaKeysPromise.then(n).catch(n)},c._attemptSetMediaKeys=function(e){if(!this._media)throw new Error("Attempted to set mediaKeys without first attaching a media element");if(!this._hasSetMediaKeys){var t=this._mediaKeysList[0];if(!t||!t.mediaKeys)return a.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});a.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(t.mediaKeys),this._hasSetMediaKeys=!0}},c._generateRequestWithPreferredKeySession=function(e,t){var n=this,o=this._mediaKeysList[0];if(!o)return a.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(o.mediaKeysSessionInitialized)a.logger.warn("Key-Session already initialized but requested again");else{var s=o.mediaKeysSession;if(!s)return a.logger.error("Fatal: Media is encrypted but no key-session existing"),void this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0});if(!t)return a.logger.warn("Fatal: initData required for generating a key session is null"),void this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_INIT_DATA,fatal:!0});a.logger.log('Generating key-session request for "'+e+'" init data type'),o.mediaKeysSessionInitialized=!0,s.generateRequest(e,t).then((function(){a.logger.debug("Key-session generation succeeded")})).catch((function(e){a.logger.error("Error generating key-session request:",e),n.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})}))}},c._createLicenseXhr=function(e,t,n){var r=new XMLHttpRequest;r.responseType="arraybuffer",r.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,r,e,t,n);var i=this._licenseXhrSetup;if(i)try{i.call(this.hls,r,e),i=void 0}catch(o){a.logger.error(o)}try{r.readyState||r.open("POST",e,!0),i&&i.call(this.hls,r,e)}catch(o){throw new Error("issue setting up KeySystem license XHR "+o)}return r},c._onLicenseRequestReadyStageChange=function(e,t,n,o){switch(e.readyState){case 4:if(200===e.status){this._requestLicenseFailureCount=0,a.logger.log("License request succeeded");var s=e.response,l=this._licenseResponseCallback;if(l)try{s=l.call(this.hls,e,t)}catch(u){a.logger.error(u)}o(s)}else{if(a.logger.error("License Request XHR failed ("+t+"). Status: "+e.status+" ("+e.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount>3)return void this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0});var c=3-this._requestLicenseFailureCount+1;a.logger.warn("Retrying license request, "+c+" attempts left"),this._requestLicense(n,o)}}},c._generateLicenseRequestChallenge=function(e,t){switch(e.mediaKeySystemDomain){case o.KeySystems.WIDEVINE:return t}throw new Error("unsupported key-system: "+e.mediaKeySystemDomain)},c._requestLicense=function(e,t){a.logger.log("Requesting content license for key-system");var n=this._mediaKeysList[0];if(!n)return a.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});try{var o=this.getLicenseServerUrl(n.mediaKeySystemDomain),s=this._createLicenseXhr(o,e,t);a.logger.log("Sending license request to URL: "+o);var l=this._generateLicenseRequestChallenge(n,e);s.send(l)}catch(c){a.logger.error("Failure requesting DRM license: "+c),this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}},c.onMediaAttached=function(e,t){if(this._emeEnabled){var n=t.media;this._media=n,n.addEventListener("encrypted",this._onMediaEncrypted)}},c.onMediaDetached=function(){var e=this._media,t=this._mediaKeysList;e&&(e.removeEventListener("encrypted",this._onMediaEncrypted),this._media=null,this._mediaKeysList=[],Promise.all(t.map((function(e){if(e.mediaKeysSession)return e.mediaKeysSession.close().catch((function(){}))}))).then((function(){return e.setMediaKeys(null)})).catch((function(){})))},c.onManifestParsed=function(e,t){if(this._emeEnabled){var n=t.levels.map((function(e){return e.audioCodec})).filter((function(e){return!!e})),r=t.levels.map((function(e){return e.videoCodec})).filter((function(e){return!!e}));this._attemptKeySystemAccess(o.KeySystems.WIDEVINE,n,r)}},t=e,(n=[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}])&&s(t.prototype,n),l&&s(t,l),e}();t.default=l},"./src/controller/fps-controller.ts":function(e,t,n){n.r(t);var r=n("./src/events.ts"),i=n("./src/utils/logger.ts"),a=function(){function e(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}var t=e.prototype;return t.setStreamController=function(e){this.streamController=e},t.registerListeners=function(){this.hls.on(r.Events.MEDIA_ATTACHING,this.onMediaAttaching,this)},t.unregisterListeners=function(){this.hls.off(r.Events.MEDIA_ATTACHING,this.onMediaAttaching)},t.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},t.onMediaAttaching=function(e,t){var n=this.hls.config;if(n.capLevelOnFPSDrop){var r=t.media instanceof self.HTMLVideoElement?t.media:null;this.media=r,r&&"function"==typeof r.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),n.fpsDroppedMonitoringPeriod)}},t.checkFPS=function(e,t,n){var a=performance.now();if(t){if(this.lastTime){var o=a-this.lastTime,s=n-this.lastDroppedFrames,l=t-this.lastDecodedFrames,c=1e3*s/o,u=this.hls;if(u.trigger(r.Events.FPS_DROP,{currentDropped:s,currentDecoded:l,totalDroppedFrames:n}),c>0&&s>u.config.fpsDroppedMonitoringThreshold*l){var d=u.currentLevel;i.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+d),d>0&&(-1===u.autoLevelCapping||u.autoLevelCapping>=d)&&(d-=1,u.trigger(r.Events.FPS_DROP_LEVEL_CAPPING,{level:d,droppedLevel:u.currentLevel}),u.autoLevelCapping=d,this.streamController.nextLevelSwitch())}}this.lastTime=a,this.lastDroppedFrames=n,this.lastDecodedFrames=t}},t.checkFPSInterval=function(){var e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)},e}();t.default=a},"./src/controller/fragment-finders.ts":function(e,t,n){n.r(t),n.d(t,"findFragmentByPDT",(function(){return a})),n.d(t,"findFragmentByPTS",(function(){return o})),n.d(t,"fragmentWithinToleranceTest",(function(){return s})),n.d(t,"pdtWithinToleranceTest",(function(){return l})),n.d(t,"findFragWithCC",(function(){return c}));var r=n("./src/polyfills/number.ts"),i=n("./src/utils/binary-search.ts");function a(e,t,n){if(null===t||!Array.isArray(e)||!e.length||!Object(r.isFiniteNumber)(t))return null;if(t<(e[0].programDateTime||0))return null;if(t>=(e[e.length-1].endProgramDateTime||0))return null;n=n||0;for(var i=0;i<e.length;++i){var a=e[i];if(l(t,n,a))return a}return null}function o(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var a=null;if(e?a=t[e.sn-t[0].sn+1]||null:0===n&&0===t[0].start&&(a=t[0]),a&&0===s(n,r,a))return a;var o=i.default.search(t,s.bind(null,n,r));return o||a}function s(e,t,n){void 0===e&&(e=0),void 0===t&&(t=0);var r=Math.min(t,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-r<=e?1:n.start-r>e&&n.start?-1:0}function l(e,t,n){var r=1e3*Math.min(t,n.duration+(n.deltaPTS?n.deltaPTS:0));return(n.endProgramDateTime||0)-r>e}function c(e,t){return i.default.search(e,(function(e){return e.cc<t?1:e.cc>t?-1:0}))}},"./src/controller/fragment-tracker.ts":function(e,t,n){n.r(t),n.d(t,"FragmentState",(function(){return r})),n.d(t,"FragmentTracker",(function(){return s}));var r,i,a=n("./src/events.ts"),o=n("./src/types/loader.ts");(i=r||(r={})).NOT_LOADED="NOT_LOADED",i.BACKTRACKED="BACKTRACKED",i.APPENDING="APPENDING",i.PARTIAL="PARTIAL",i.OK="OK";var s=function(){function e(e){this.activeFragment=null,this.activeParts=null,this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hls=e,this._registerListeners()}var t=e.prototype;return t._registerListeners=function(){var e=this.hls;e.on(a.Events.BUFFER_APPENDED,this.onBufferAppended,this),e.on(a.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.on(a.Events.FRAG_LOADED,this.onFragLoaded,this)},t._unregisterListeners=function(){var e=this.hls;e.off(a.Events.BUFFER_APPENDED,this.onBufferAppended,this),e.off(a.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.off(a.Events.FRAG_LOADED,this.onFragLoaded,this)},t.destroy=function(){this._unregisterListeners(),this.fragments=this.timeRanges=null},t.getAppendedFrag=function(e,t){if(t===o.PlaylistLevelType.MAIN){var n=this.activeFragment,r=this.activeParts;if(!n)return null;if(r)for(var i=r.length;i--;){var a=r[i],s=a?a.end:n.appendedPTS;if(a.start<=e&&void 0!==s&&e<=s)return i>9&&(this.activeParts=r.slice(i-9)),a}else if(n.start<=e&&void 0!==n.appendedPTS&&e<=n.appendedPTS)return n}return this.getBufferedFrag(e,t)},t.getBufferedFrag=function(e,t){for(var n=this.fragments,r=Object.keys(n),i=r.length;i--;){var a=n[r[i]];if((null==a?void 0:a.body.type)===t&&a.buffered){var o=a.body;if(o.start<=e&&e<=o.end)return o}}return null},t.detectEvictedFragments=function(e,t,n){var r=this;Object.keys(this.fragments).forEach((function(i){var a=r.fragments[i];if(a)if(a.buffered){var o=a.range[e];o&&o.time.some((function(e){var n=!r.isTimeBuffered(e.startPTS,e.endPTS,t);return n&&r.removeFragment(a.body),n}))}else a.body.type===n&&r.removeFragment(a.body)}))},t.detectPartialFragments=function(e){var t=this,n=this.timeRanges,r=e.frag,i=e.part;if(n&&"initSegment"!==r.sn){var a=c(r),o=this.fragments[a];o&&(Object.keys(n).forEach((function(e){var a=r.elementaryStreams[e];if(a){var s=n[e],l=null!==i||!0===a.partial;o.range[e]=t.getBufferedTimes(r,i,l,s)}})),o.backtrack=o.loaded=null,Object.keys(o.range).length?o.buffered=!0:this.removeFragment(o.body))}},t.fragBuffered=function(e){var t=c(e),n=this.fragments[t];n&&(n.backtrack=n.loaded=null,n.buffered=!0)},t.getBufferedTimes=function(e,t,n,r){for(var i={time:[],partial:n},a=t?t.start:e.start,o=t?t.end:e.end,s=e.minEndPTS||o,l=e.maxStartPTS||a,c=0;c<r.length;c++){var u=r.start(c)-this.bufferPadding,d=r.end(c)+this.bufferPadding;if(l>=u&&s<=d){i.time.push({startPTS:Math.max(a,r.start(c)),endPTS:Math.min(o,r.end(c))});break}if(a<d&&o>u)i.partial=!0,i.time.push({startPTS:Math.max(a,r.start(c)),endPTS:Math.min(o,r.end(c))});else if(o<=u)break}return i},t.getPartialFragment=function(e){var t,n,r,i=null,a=0,o=this.bufferPadding,s=this.fragments;return Object.keys(s).forEach((function(c){var u=s[c];u&&l(u)&&(n=u.body.start-o,r=u.body.end+o,e>=n&&e<=r&&(t=Math.min(e-n,r-e),a<=t&&(i=u.body,a=t)))})),i},t.getState=function(e){var t=c(e),n=this.fragments[t];return n?n.buffered?l(n)?r.PARTIAL:r.OK:n.backtrack?r.BACKTRACKED:r.APPENDING:r.NOT_LOADED},t.backtrack=function(e,t){var n=c(e),r=this.fragments[n];if(!r||r.backtrack)return null;var i=r.backtrack=t||r.loaded;return r.loaded=null,i},t.getBacktrackData=function(e){var t=c(e),n=this.fragments[t];if(n){var r,i=n.backtrack;if(null!=i&&null!==(r=i.payload)&&void 0!==r&&r.byteLength)return i;this.removeFragment(e)}return null},t.isTimeBuffered=function(e,t,n){for(var r,i,a=0;a<n.length;a++){if(r=n.start(a)-this.bufferPadding,i=n.end(a)+this.bufferPadding,e>=r&&t<=i)return!0;if(t<=r)return!1}return!1},t.onFragLoaded=function(e,t){var n=t.frag,r=t.part;if("initSegment"!==n.sn&&!n.bitrateTest&&!r){var i=c(n);this.fragments[i]={body:n,loaded:t,backtrack:null,buffered:!1,range:Object.create(null)}}},t.onBufferAppended=function(e,t){var n=this,r=t.frag,i=t.part,a=t.timeRanges;if(r.type===o.PlaylistLevelType.MAIN)if(this.activeFragment=r,i){var s=this.activeParts;s||(this.activeParts=s=[]),s.push(i)}else this.activeParts=null;this.timeRanges=a,Object.keys(a).forEach((function(e){var t=a[e];if(n.detectEvictedFragments(e,t),!i)for(var o=0;o<t.length;o++)r.appendedPTS=Math.max(t.end(o),r.appendedPTS||0)}))},t.onFragBuffered=function(e,t){this.detectPartialFragments(t)},t.hasFragment=function(e){var t=c(e);return!!this.fragments[t]},t.removeFragmentsInRange=function(e,t,n){var r=this;Object.keys(this.fragments).forEach((function(i){var a=r.fragments[i];if(a&&a.buffered){var o=a.body;o.type===n&&o.start<t&&o.end>e&&r.removeFragment(o)}}))},t.removeFragment=function(e){var t=c(e);e.stats.loaded=0,e.clearElementaryStreamInfo(),delete this.fragments[t]},t.removeAllFragments=function(){this.fragments=Object.create(null),this.activeFragment=null,this.activeParts=null},e}();function l(e){var t,n;return e.buffered&&((null===(t=e.range.video)||void 0===t?void 0:t.partial)||(null===(n=e.range.audio)||void 0===n?void 0:n.partial))}function c(e){return e.type+"_"+e.level+"_"+e.urlId+"_"+e.sn}},"./src/controller/gap-controller.ts":function(e,t,n){n.r(t),n.d(t,"STALL_MINIMUM_DURATION_MS",(function(){return s})),n.d(t,"MAX_START_GAP_JUMP",(function(){return l})),n.d(t,"SKIP_BUFFER_HOLE_STEP_SECONDS",(function(){return c})),n.d(t,"SKIP_BUFFER_RANGE_START",(function(){return u})),n.d(t,"default",(function(){return d}));var r=n("./src/utils/buffer-helper.ts"),i=n("./src/errors.ts"),a=n("./src/events.ts"),o=n("./src/utils/logger.ts"),s=250,l=2,c=.1,u=.05,d=function(){function e(e,t,n,r){this.config=void 0,this.media=void 0,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=e,this.media=t,this.fragmentTracker=n,this.hls=r}var t=e.prototype;return t.destroy=function(){this.hls=this.fragmentTracker=this.media=null},t.poll=function(e){var t=this.config,n=this.media,i=this.stalled,a=n.currentTime,c=n.seeking,u=this.seeking&&!c,d=!this.seeking&&c;if(this.seeking=c,a===e){if((d||u)&&(this.stalled=null),!n.paused&&!n.ended&&0!==n.playbackRate&&r.BufferHelper.getBuffered(n).length){var f=r.BufferHelper.bufferInfo(n,a,0),h=f.len>0,p=f.nextStart||0;if(h||p){if(c){var g=f.len>l,v=!p||p-a>l&&!this.fragmentTracker.getPartialFragment(a);if(g||v)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var m,b=Math.max(p,f.start||0)-a,y=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,E=(null==y||null===(m=y.details)||void 0===m?void 0:m.live)?2*y.details.targetduration:l;if(b>0&&b<=E)return void this._trySkipBufferHole(null)}var O=self.performance.now();if(null!==i){var T=O-i;!c&&T>=s&&this._reportStall(f.len);var _=r.BufferHelper.bufferInfo(n,a,t.maxBufferHole);this._tryFixBufferStall(_,T)}else this.stalled=O}}}else if(this.moved=!0,null!==i){if(this.stallReported){var S=self.performance.now()-i;o.logger.warn("playback not stuck anymore @"+a+", after "+Math.round(S)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}},t._tryFixBufferStall=function(e,t){var n=this.config,r=this.fragmentTracker,i=this.media.currentTime,a=r.getPartialFragment(i);a&&this._trySkipBufferHole(a)||e.len>n.maxBufferHole&&t>1e3*n.highBufferWatchdogPeriod&&(o.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())},t._reportStall=function(e){var t=this.hls,n=this.media;this.stallReported||(this.stallReported=!0,o.logger.warn("Playback stalling at @"+n.currentTime+" due to low buffer (buffer="+e+")"),t.trigger(a.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:e}))},t._trySkipBufferHole=function(e){for(var t=this.config,n=this.hls,s=this.media,l=s.currentTime,d=0,f=r.BufferHelper.getBuffered(s),h=0;h<f.length;h++){var p=f.start(h);if(l+t.maxBufferHole>=d&&l<p){var g=Math.max(p+u,s.currentTime+c);return o.logger.warn("skipping hole, adjusting currentTime from "+l+" to "+g),this.moved=!0,this.stalled=null,s.currentTime=g,e&&n.trigger(a.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+l+" to "+g,frag:e}),g}d=f.end(h)}return 0},t._tryNudgeBuffer=function(){var e=this.config,t=this.hls,n=this.media,r=n.currentTime,s=(this.nudgeRetry||0)+1;if(this.nudgeRetry=s,s<e.nudgeMaxRetry){var l=r+s*e.nudgeOffset;o.logger.warn("Nudging 'currentTime' from "+r+" to "+l),n.currentTime=l,t.trigger(a.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else o.logger.error("Playhead still not moving while enough data buffered @"+r+" after "+e.nudgeMaxRetry+" nudges"),t.trigger(a.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},e}()},"./src/controller/id3-track-controller.ts":function(e,t,n){n.r(t);var r=n("./src/events.ts"),i=n("./src/utils/texttrack-utils.ts"),a=n("./src/demux/id3.ts"),o=function(){function e(e){this.hls=void 0,this.id3Track=null,this.media=null,this.hls=e,this._registerListeners()}var t=e.prototype;return t.destroy=function(){this._unregisterListeners()},t._registerListeners=function(){var e=this.hls;e.on(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(r.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},t._unregisterListeners=function(){var e=this.hls;e.off(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(r.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},t.onMediaAttached=function(e,t){this.media=t.media},t.onMediaDetaching=function(){this.id3Track&&(Object(i.clearCurrentCues)(this.id3Track),this.id3Track=null,this.media=null)},t.getID3Track=function(e){if(this.media){for(var t=0;t<e.length;t++){var n=e[t];if("metadata"===n.kind&&"id3"===n.label)return Object(i.sendAddTrackEvent)(n,this.media),n}return this.media.addTextTrack("metadata","id3")}},t.onFragParsingMetadata=function(e,t){if(this.media){var n=t.frag,r=t.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var i=self.WebKitDataCue||self.VTTCue||self.TextTrackCue,o=0;o<r.length;o++){var s=a.getID3Frames(r[o].data);if(s){var l=r[o].pts,c=o<r.length-1?r[o+1].pts:n.end;c-l<=0&&(c=l+.25);for(var u=0;u<s.length;u++){var d=s[u];if(!a.isTimeStampFrame(d)){var f=new i(l,c,"");f.value=d,this.id3Track.addCue(f)}}}}}},t.onBufferFlushing=function(e,t){var n=t.startOffset,r=t.endOffset,a=t.type;if(!a||"audio"===a){var o=this.id3Track;o&&Object(i.removeCuesInRange)(o,n,r)}},e}();t.default=o},"./src/controller/latency-controller.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return s}));var r=n("./src/errors.ts"),i=n("./src/events.ts"),a=n("./src/utils/logger.ts");function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(e){var t=this;this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return t.timeupdate()},this.hls=e,this.config=e.config,this.registerListeners()}var t,n,s,l=e.prototype;return l.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null},l.registerListeners=function(){this.hls.on(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(i.Events.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(i.Events.ERROR,this.onError,this)},l.unregisterListeners=function(){this.hls.off(i.Events.MEDIA_ATTACHED,this.onMediaAttached),this.hls.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching),this.hls.off(i.Events.MANIFEST_LOADING,this.onManifestLoading),this.hls.off(i.Events.LEVEL_UPDATED,this.onLevelUpdated),this.hls.off(i.Events.ERROR,this.onError)},l.onMediaAttached=function(e,t){this.media=t.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)},l.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)},l.onManifestLoading=function(){this.levelDetails=null,this._latency=null,this.stallCount=0},l.onLevelUpdated=function(e,t){var n=t.details;this.levelDetails=n,n.advanced&&this.timeupdate(),!n.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},l.onError=function(e,t){t.details===r.ErrorDetails.BUFFER_STALLED_ERROR&&(this.stallCount++,a.logger.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},l.timeupdate=function(){var e=this.media,t=this.levelDetails;if(e&&t){this.currentTime=e.currentTime;var n=this.computeLatency();if(null!==n){this._latency=n;var r=this.config,i=r.lowLatencyMode,a=r.maxLiveSyncPlaybackRate;if(i&&1!==a){var o=this.targetLatency;if(null!==o){var s=n-o,l=s<Math.min(this.maxLatency,o+t.targetduration);if(t.live&&l&&s>.05&&this.forwardBufferLength>1){var c=Math.min(2,Math.max(1,a)),u=Math.round(2/(1+Math.exp(-.75*s-this.edgeStalled))*20)/20;e.playbackRate=Math.min(c,Math.max(1,u))}else 1!==e.playbackRate&&0!==e.playbackRate&&(e.playbackRate=1)}}}}},l.estimateLiveEdge=function(){var e=this.levelDetails;return null===e?null:e.edge+e.age},l.computeLatency=function(){var e=this.estimateLiveEdge();return null===e?null:e-this.currentTime},t=e,(n=[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var e=this.config,t=this.levelDetails;return void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:t?e.liveMaxLatencyDurationCount*t.targetduration:0}},{key:"targetLatency",get:function(){var e=this.levelDetails;if(null===e)return null;var t=e.holdBack,n=e.partHoldBack,r=e.targetduration,i=this.config,a=i.liveSyncDuration,o=i.liveSyncDurationCount,s=i.lowLatencyMode,l=this.hls.userConfig,c=s&&n||t;(l.liveSyncDuration||l.liveSyncDurationCount||0===c)&&(c=void 0!==a?a:o*r);var u=r;return c+Math.min(1*this.stallCount,u)}},{key:"liveSyncPosition",get:function(){var e=this.estimateLiveEdge(),t=this.targetLatency,n=this.levelDetails;if(null===e||null===t||null===n)return null;var r=n.edge,i=e-t-this.edgeStalled,a=r-n.totalduration,o=r-(this.config.lowLatencyMode&&n.partTarget||n.targetduration);return Math.min(Math.max(a,i),o)}},{key:"drift",get:function(){var e=this.levelDetails;return null===e?1:e.drift}},{key:"edgeStalled",get:function(){var e=this.levelDetails;if(null===e)return 0;var t=3*(this.config.lowLatencyMode&&e.partTarget||e.targetduration);return Math.max(e.age-t,0)}},{key:"forwardBufferLength",get:function(){var e=this.media,t=this.levelDetails;if(!e||!t)return 0;var n=e.buffered.length;return n?e.buffered.end(n-1):t.edge-this.currentTime}}])&&o(t.prototype,n),s&&o(t,s),e}()},"./src/controller/level-controller.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return p}));var r=n("./src/types/level.ts"),i=n("./src/events.ts"),a=n("./src/errors.ts"),o=n("./src/utils/codecs.ts"),s=n("./src/controller/level-helper.ts"),l=n("./src/controller/base-playlist-controller.ts"),c=n("./src/types/loader.ts");function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),p=function(e){var t,n;function l(t){var n;return(n=e.call(this,t,"[level-controller]")||this)._levels=[],n._firstLevel=-1,n._startLevel=void 0,n.currentLevelIndex=-1,n.manualLevelIndex=-1,n.onParsedComplete=void 0,n._registerListeners(),n}n=e,(t=l).prototype=Object.create(n.prototype),t.prototype.constructor=t,f(t,n);var p,g,v,m=l.prototype;return m._registerListeners=function(){var e=this.hls;e.on(i.Events.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(i.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(i.Events.FRAG_LOADED,this.onFragLoaded,this),e.on(i.Events.ERROR,this.onError,this)},m._unregisterListeners=function(){var e=this.hls;e.off(i.Events.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(i.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(i.Events.FRAG_LOADED,this.onFragLoaded,this),e.off(i.Events.ERROR,this.onError,this)},m.destroy=function(){this._unregisterListeners(),this.manualLevelIndex=-1,this._levels.length=0,e.prototype.destroy.call(this)},m.startLoad=function(){this._levels.forEach((function(e){e.loadError=0})),e.prototype.startLoad.call(this)},m.onManifestLoaded=function(e,t){var n,l,c=[],u=[],d=[],f={},p=!1,g=!1,v=!1;if(t.levels.forEach((function(e){var t=e.attrs;p=p||!(!e.width||!e.height),g=g||!!e.videoCodec,v=v||!!e.audioCodec,h&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0);var n=e.bitrate+"-"+e.attrs.RESOLUTION+"-"+e.attrs.CODECS;(l=f[n])?l.url.push(e.url):(l=new r.Level(e),f[n]=l,c.push(l)),t&&(t.AUDIO&&Object(s.addGroupId)(l,"audio",t.AUDIO),t.SUBTITLES&&Object(s.addGroupId)(l,"text",t.SUBTITLES))})),(p||g)&&v&&(c=c.filter((function(e){var t=e.videoCodec,n=e.width,r=e.height;return!!t||!(!n||!r)}))),c=c.filter((function(e){var t=e.audioCodec,n=e.videoCodec;return(!t||Object(o.isCodecSupportedInMp4)(t,"audio"))&&(!n||Object(o.isCodecSupportedInMp4)(n,"video"))})),t.audioTracks&&(u=t.audioTracks.filter((function(e){return!e.audioCodec||Object(o.isCodecSupportedInMp4)(e.audioCodec,"audio")})),Object(s.assignTrackIdsByGroup)(u)),t.subtitles&&(d=t.subtitles,Object(s.assignTrackIdsByGroup)(d)),c.length>0){n=c[0].bitrate,c.sort((function(e,t){return e.bitrate-t.bitrate})),this._levels=c;for(var m=0;m<c.length;m++)if(c[m].bitrate===n){this._firstLevel=m,this.log("manifest loaded, "+c.length+" level(s) found, first bitrate: "+n);break}var b=v&&!g,y={levels:c,audioTracks:u,subtitleTracks:d,firstLevel:this._firstLevel,stats:t.stats,audio:v,video:g,altAudio:!b&&u.some((function(e){return!!e.url}))};this.hls.trigger(i.Events.MANIFEST_PARSED,y),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else this.hls.trigger(i.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:t.url,reason:"no level with compatible codecs found in manifest"})},m.onError=function(t,n){if(e.prototype.onError.call(this,t,n),!n.fatal){var r=n.context,i=this._levels[this.currentLevelIndex];if(r&&(r.type===c.PlaylistContextType.AUDIO_TRACK&&i.audioGroupIds&&r.groupId===i.audioGroupIds[i.urlId]||r.type===c.PlaylistContextType.SUBTITLE_TRACK&&i.textGroupIds&&r.groupId===i.textGroupIds[i.urlId]))this.redundantFailover(this.currentLevelIndex);else{var o,s=!1,l=!0;switch(n.details){case a.ErrorDetails.FRAG_LOAD_ERROR:case a.ErrorDetails.FRAG_LOAD_TIMEOUT:case a.ErrorDetails.KEY_LOAD_ERROR:case a.ErrorDetails.KEY_LOAD_TIMEOUT:if(n.frag){var u=this._levels[n.frag.level];u?(u.fragmentError++,u.fragmentError>this.hls.config.fragLoadingMaxRetry&&(o=n.frag.level)):o=n.frag.level}break;case a.ErrorDetails.LEVEL_LOAD_ERROR:case a.ErrorDetails.LEVEL_LOAD_TIMEOUT:r&&(r.deliveryDirectives&&(l=!1),o=r.level),s=!0;break;case a.ErrorDetails.REMUX_ALLOC_ERROR:o=n.level,s=!0}void 0!==o&&this.recoverLevel(n,o,s,l)}}},m.recoverLevel=function(e,t,n,r){var i=e.details,a=this._levels[t];if(a.loadError++,n){if(!this.retryLoadingOrFail(e))return void(this.currentLevelIndex=-1);e.levelRetry=!0}if(r){var o=a.url.length;if(o>1&&a.loadError<o)e.levelRetry=!0,this.redundantFailover(t);else if(-1===this.manualLevelIndex){var s=0===t?this._levels.length-1:t-1;this.currentLevelIndex!==s&&0===this._levels[s].loadError&&(this.warn(i+": switch to "+s),e.levelRetry=!0,this.hls.nextAutoLevel=s)}}},m.redundantFailover=function(e){var t=this._levels[e],n=t.url.length;if(n>1){var r=(t.urlId+1)%n;this.warn("Switching to redundant URL-id "+r),this._levels.forEach((function(e){e.urlId=r})),this.level=e}},m.onFragLoaded=function(e,t){var n=t.frag;if(void 0!==n&&n.type===c.PlaylistLevelType.MAIN){var r=this._levels[n.level];void 0!==r&&(r.fragmentError=0,r.loadError=0)}},m.onLevelLoaded=function(e,t){var n,r,i=t.level,a=t.details,o=this._levels[i];if(!o)return this.warn("Invalid level index "+i),void(null!==(r=t.deliveryDirectives)&&void 0!==r&&r.skip&&(a.deltaUpdateFailed=!0));i===this.currentLevelIndex?(0===o.fragmentError&&(o.loadError=0,this.retryCount=0),this.playlistLoaded(i,t,o.details)):null!==(n=t.deliveryDirectives)&&void 0!==n&&n.skip&&(a.deltaUpdateFailed=!0)},m.onAudioTrackSwitched=function(e,t){var n=this.hls.levels[this.currentLevelIndex];if(n&&n.audioGroupIds){for(var r=-1,i=this.hls.audioTracks[t.id].groupId,a=0;a<n.audioGroupIds.length;a++)if(n.audioGroupIds[a]===i){r=a;break}r!==n.urlId&&(n.urlId=r,this.startLoad())}},m.loadPlaylist=function(e){var t=this.currentLevelIndex,n=this._levels[t];if(this.canLoad&&n&&n.url.length>0){var r=n.urlId,a=n.url[r];if(e)try{a=e.addDirectives(a)}catch(o){this.warn("Could not construct new URL with HLS Delivery Directives: "+o)}this.log("Attempt loading level index "+t+(e?" at sn "+e.msn+" part "+e.part:"")+" with URL-id "+r+" "+a),this.clearTimer(),this.hls.trigger(i.Events.LEVEL_LOADING,{url:a,level:t,id:r,deliveryDirectives:e||null})}},m.removeLevel=function(e,t){var n=function(e,n){return n!==t},r=this._levels.filter((function(r,i){return i!==e||r.url.length>1&&void 0!==t&&(r.url=r.url.filter(n),r.audioGroupIds&&(r.audioGroupIds=r.audioGroupIds.filter(n)),r.textGroupIds&&(r.textGroupIds=r.textGroupIds.filter(n)),r.urlId=0,!0)})).map((function(e,t){var n=e.details;return null!=n&&n.fragments&&n.fragments.forEach((function(e){e.level=t})),e}));this._levels=r,this.hls.trigger(i.Events.LEVELS_UPDATED,{levels:r})},p=l,(g=[{key:"levels",get:function(){return 0===this._levels.length?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(e){var t,n=this._levels;if(0!==n.length&&(this.currentLevelIndex!==e||null===(t=n[e])||void 0===t||!t.details)){if(e<0||e>=n.length){var r=e<0;if(this.hls.trigger(i.Events.ERROR,{type:a.ErrorTypes.OTHER_ERROR,details:a.ErrorDetails.LEVEL_SWITCH_ERROR,level:e,fatal:r,reason:"invalid level idx"}),r)return;e=Math.min(e,n.length-1)}this.clearTimer();var o=this.currentLevelIndex,s=n[o],l=n[e];this.log("switching to level "+e+" from "+o),this.currentLevelIndex=e;var c=u({},l,{level:e,maxBitrate:l.maxBitrate,uri:l.uri,urlId:l.urlId});delete c._urlId,this.hls.trigger(i.Events.LEVEL_SWITCHING,c);var d=l.details;if(!d||d.live){var f=this.switchParams(l.uri,null==s?void 0:s.details);this.loadPlaylist(f)}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)}}])&&d(p.prototype,g),v&&d(p,v),l}(l.default)},"./src/controller/level-helper.ts":function(e,t,n){n.r(t),n.d(t,"addGroupId",(function(){return a})),n.d(t,"assignTrackIdsByGroup",(function(){return o})),n.d(t,"updatePTS",(function(){return s})),n.d(t,"updateFragPTSDTS",(function(){return c})),n.d(t,"mergeDetails",(function(){return u})),n.d(t,"mapPartIntersection",(function(){return d})),n.d(t,"mapFragmentIntersection",(function(){return f})),n.d(t,"adjustSliding",(function(){return h})),n.d(t,"addSliding",(function(){return p})),n.d(t,"computeReloadInterval",(function(){return g})),n.d(t,"getFragmentWithSN",(function(){return v})),n.d(t,"getPartWith",(function(){return m}));var r=n("./src/polyfills/number.ts"),i=n("./src/utils/logger.ts");function a(e,t,n){switch(t){case"audio":e.audioGroupIds||(e.audioGroupIds=[]),e.audioGroupIds.push(n);break;case"text":e.textGroupIds||(e.textGroupIds=[]),e.textGroupIds.push(n)}}function o(e){var t={};e.forEach((function(e){var n=e.groupId||"";e.id=t[n]=t[n]||0,t[n]++}))}function s(e,t,n){l(e[t],e[n])}function l(e,t){var n=t.startPTS;if(Object(r.isFiniteNumber)(n)){var i,a=0;t.sn>e.sn?(a=n-e.start,i=e):(a=e.start-n,i=t),i.duration!==a&&(i.duration=a)}else t.sn>e.sn?e.cc===t.cc&&e.minEndPTS?t.start=e.start+(e.minEndPTS-e.start):t.start=e.start+e.duration:t.start=Math.max(e.start-t.duration,0)}function c(e,t,n,a,o,s){a-n<=0&&(i.logger.warn("Fragment should have a positive duration",t),a=n+t.duration,s=o+t.duration);var c=n,u=a,d=t.startPTS,f=t.endPTS;if(Object(r.isFiniteNumber)(d)){var h=Math.abs(d-n);Object(r.isFiniteNumber)(t.deltaPTS)?t.deltaPTS=Math.max(h,t.deltaPTS):t.deltaPTS=h,c=Math.max(n,d),n=Math.min(n,d),o=Math.min(o,t.startDTS),u=Math.min(a,f),a=Math.max(a,f),s=Math.max(s,t.endDTS)}t.duration=a-n;var p=n-t.start;t.appendedPTS=a,t.start=t.startPTS=n,t.maxStartPTS=c,t.startDTS=o,t.endPTS=a,t.minEndPTS=u,t.endDTS=s;var g,v=t.sn;if(!e||v<e.startSN||v>e.endSN)return 0;var m=v-e.startSN,b=e.fragments;for(b[m]=t,g=m;g>0;g--)l(b[g],b[g-1]);for(g=m;g<b.length-1;g++)l(b[g],b[g+1]);return e.fragmentHint&&l(b[b.length-1],e.fragmentHint),e.PTSKnown=e.alignedSliding=!0,p}function u(e,t){for(var n=null,a=e.fragments,o=a.length-1;o>=0;o--){var s=a[o].initSegment;if(s){n=s;break}}e.fragmentHint&&delete e.fragmentHint.endPTS;var l,u=0;if(f(e,t,(function(e,i){var a;e.relurl&&(u=e.cc-i.cc),Object(r.isFiniteNumber)(e.startPTS)&&Object(r.isFiniteNumber)(e.endPTS)&&(i.start=i.startPTS=e.startPTS,i.startDTS=e.startDTS,i.appendedPTS=e.appendedPTS,i.maxStartPTS=e.maxStartPTS,i.endPTS=e.endPTS,i.endDTS=e.endDTS,i.minEndPTS=e.minEndPTS,i.duration=e.endPTS-e.startPTS,i.duration&&(l=i),t.PTSKnown=t.alignedSliding=!0),i.elementaryStreams=e.elementaryStreams,i.loader=e.loader,i.stats=e.stats,i.urlId=e.urlId,e.initSegment?(i.initSegment=e.initSegment,n=e.initSegment):i.initSegment&&i.initSegment.relurl!=(null===(a=n)||void 0===a?void 0:a.relurl)||(i.initSegment=n)})),t.skippedSegments&&(t.deltaUpdateFailed=t.fragments.some((function(e){return!e})),t.deltaUpdateFailed)){i.logger.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var p=t.skippedSegments;p--;)t.fragments.shift();t.startSN=t.fragments[0].sn,t.startCC=t.fragments[0].cc}var g=t.fragments;if(u){i.logger.warn("discontinuity sliding from playlist, take drift into account");for(var v=0;v<g.length;v++)g[v].cc+=u}t.skippedSegments&&(t.startCC=t.fragments[0].cc),d(e.partList,t.partList,(function(e,t){t.elementaryStreams=e.elementaryStreams,t.stats=e.stats})),l?c(t,l,l.startPTS,l.endPTS,l.startDTS,l.endDTS):h(e,t),g.length&&(t.totalduration=t.edge-g[0].start),t.driftStartTime=e.driftStartTime,t.driftStart=e.driftStart;var m=t.advancedDateTime;if(t.advanced&&m){var b=t.edge;t.driftStart||(t.driftStartTime=m,t.driftStart=b),t.driftEndTime=m,t.driftEnd=b}else t.driftEndTime=e.driftEndTime,t.driftEnd=e.driftEnd,t.advancedDateTime=e.advancedDateTime}function d(e,t,n){if(e&&t)for(var r=0,i=0,a=e.length;i<=a;i++){var o=e[i],s=t[i+r];o&&s&&o.index===s.index&&o.fragment.sn===s.fragment.sn?n(o,s):r--}}function f(e,t,n){for(var r=t.skippedSegments,i=Math.max(e.startSN,t.startSN)-t.startSN,a=(e.fragmentHint?1:0)+(r?t.endSN:Math.min(e.endSN,t.endSN))-t.startSN,o=t.startSN-e.startSN,s=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments,l=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,c=i;c<=a;c++){var u=l[o+c],d=s[c];r&&!d&&c<r&&(d=t.fragments[c]=u),u&&d&&n(u,d)}}function h(e,t){var n=t.startSN+t.skippedSegments-e.startSN,r=e.fragments;n<0||n>=r.length||p(t,r[n].start)}function p(e,t){if(t){for(var n=e.fragments,r=e.skippedSegments;r<n.length;r++)n[r].start+=t;e.fragmentHint&&(e.fragmentHint.start+=t)}}function g(e,t){var n,r=1e3*e.levelTargetDuration,i=r/2,a=e.age,o=a>0&&a<3*r,s=t.loading.end-t.loading.start,l=e.availabilityDelay;if(!1===e.updated)if(o){var c=333*e.misses;n=Math.max(Math.min(i,2*s),c),e.availabilityDelay=(e.availabilityDelay||0)+n}else n=i;else o?(l=Math.min(l||r/2,a),e.availabilityDelay=l,n=l+r-a):n=r-s;return Math.round(n)}function v(e,t,n){if(!e||!e.details)return null;var r=e.details,i=r.fragments[t-r.startSN];return i||((i=r.fragmentHint)&&i.sn===t?i:t<r.startSN&&n&&n.sn===t?n:null)}function m(e,t,n){if(!e||!e.details)return null;var r=e.details.partList;if(r)for(var i=r.length;i--;){var a=r[i];if(a.index===n&&a.fragment.sn===t)return a}return null}},"./src/controller/stream-controller.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return b}));var r=n("./src/polyfills/number.ts"),i=n("./src/controller/base-stream-controller.ts"),a=n("./src/is-supported.ts"),o=n("./src/events.ts"),s=n("./src/utils/buffer-helper.ts"),l=n("./src/controller/fragment-tracker.ts"),c=n("./src/types/loader.ts"),u=n("./src/loader/fragment.ts"),d=n("./src/demux/transmuxer-interface.ts"),f=n("./src/types/transmuxer.ts"),h=n("./src/controller/gap-controller.ts"),p=n("./src/errors.ts"),g=n("./src/utils/logger.ts");function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){var t,n;function b(t,n){var r;return(r=e.call(this,t,n,"[stream-controller]")||this).audioCodecSwap=!1,r.gapController=null,r.level=-1,r._forceStartLoad=!1,r.altAudio=!1,r.audioOnly=!1,r.fragPlaying=null,r.onvplaying=null,r.onvseeked=null,r.fragLastKbps=0,r.stalled=!1,r.couldBacktrack=!1,r.audioCodecSwitch=!1,r.videoBuffer=null,r._registerListeners(),r}n=e,(t=b).prototype=Object.create(n.prototype),t.prototype.constructor=t,m(t,n);var y,E,O,T=b.prototype;return T._registerListeners=function(){var e=this.hls;e.on(o.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(o.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(o.Events.LEVEL_LOADING,this.onLevelLoading,this),e.on(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(o.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(o.Events.ERROR,this.onError,this),e.on(o.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(o.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(o.Events.BUFFER_CREATED,this.onBufferCreated,this),e.on(o.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(o.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(o.Events.FRAG_BUFFERED,this.onFragBuffered,this)},T._unregisterListeners=function(){var e=this.hls;e.off(o.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(o.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(o.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(o.Events.ERROR,this.onError,this),e.off(o.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(o.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(o.Events.BUFFER_CREATED,this.onBufferCreated,this),e.off(o.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(o.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(o.Events.FRAG_BUFFERED,this.onFragBuffered,this)},T.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching()},T.startLoad=function(e){if(this.levels){var t=this.lastCurrentTime,n=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var r=n.startLevel;-1===r&&(n.config.testBandwidth?(r=0,this.bitrateTest=!0):r=n.nextAutoLevel),this.level=n.nextLoadLevel=r,this.loadedmetadata=!1}t>0&&-1===e&&(this.log("Override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=i.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this._forceStartLoad=!0,this.state=i.State.STOPPED},T.stopLoad=function(){this._forceStartLoad=!1,e.prototype.stopLoad.call(this)},T.doTick=function(){switch(this.state){case i.State.IDLE:this.doTickIdle();break;case i.State.WAITING_LEVEL:var e,t=this.levels,n=this.level,r=null==t||null===(e=t[n])||void 0===e?void 0:e.details;if(r&&(!r.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(r))break;this.state=i.State.IDLE;break}break;case i.State.FRAG_LOADING_WAITING_RETRY:var a,o=self.performance.now(),s=this.retryDate;(!s||o>=s||null!==(a=this.media)&&void 0!==a&&a.seeking)&&(this.log("retryDate reached, switch back to IDLE state"),this.state=i.State.IDLE)}this.onTickEnd()},T.onTickEnd=function(){e.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},T.doTickIdle=function(){var e,t,n=this.hls,r=this.levelLastLoaded,a=this.levels,s=this.media,d=n.config,f=n.nextLoadLevel;if(null!==r&&(s||!this.startFragRequested&&d.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&a&&a[f]){var h=a[f];this.level=n.nextLoadLevel=f;var p=h.details;if(!p||this.state===i.State.WAITING_LEVEL||p.live&&this.levelLastLoaded!==f)this.state=i.State.WAITING_LEVEL;else{var g=this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:s,c.PlaylistLevelType.MAIN);if(null!==g&&!(g.len>=this.getMaxBufferLength(h.maxBitrate))){if(this._streamEnded(g,p)){var v={};return this.altAudio&&(v.type="video"),this.hls.trigger(o.Events.BUFFER_EOS,v),void(this.state=i.State.ENDED)}var m=g.end,b=this.getNextFragment(m,p);if(this.couldBacktrack&&!this.fragPrevious&&b&&"initSegment"!==b.sn){var y=b.sn-p.startSN;y>1&&(b=p.fragments[y-1],this.fragmentTracker.removeFragment(b))}if(b&&this.fragmentTracker.getState(b)===l.FragmentState.OK&&this.nextLoadPosition>m){var E=this.audioOnly&&!this.altAudio?u.ElementaryStreamTypes.AUDIO:u.ElementaryStreamTypes.VIDEO;this.afterBufferFlushed(s,E,c.PlaylistLevelType.MAIN),b=this.getNextFragment(this.nextLoadPosition,p)}b&&(!b.initSegment||b.initSegment.data||this.bitrateTest||(b=b.initSegment),"identity"!==(null===(e=b.decryptdata)||void 0===e?void 0:e.keyFormat)||null!==(t=b.decryptdata)&&void 0!==t&&t.key?this.loadFragment(b,p,m):this.loadKey(b,p))}}}},T.loadFragment=function(t,n,r){var i,a=this.fragmentTracker.getState(t);if(this.fragCurrent=t,a===l.FragmentState.BACKTRACKED){var o=this.fragmentTracker.getBacktrackData(t);if(o)return this._handleFragmentLoadProgress(o),void this._handleFragmentLoadComplete(o);a=l.FragmentState.NOT_LOADED}a===l.FragmentState.NOT_LOADED||a===l.FragmentState.PARTIAL?"initSegment"===t.sn?this._loadInitSegment(t):this.bitrateTest?(t.bitrateTest=!0,this.log("Fragment "+t.sn+" of level "+t.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(t)):(this.startFragRequested=!0,e.prototype.loadFragment.call(this,t,n,r)):a===l.FragmentState.APPENDING?this.reduceMaxBufferLength(t.duration)&&this.fragmentTracker.removeFragment(t):0===(null===(i=this.media)||void 0===i?void 0:i.buffered.length)&&this.fragmentTracker.removeAllFragments()},T.getAppendedFrag=function(e){var t=this.fragmentTracker.getAppendedFrag(e,c.PlaylistLevelType.MAIN);return t&&"fragment"in t?t.fragment:t},T.getBufferedFrag=function(e){return this.fragmentTracker.getBufferedFrag(e,c.PlaylistLevelType.MAIN)},T.followingBufferedFrag=function(e){return e?this.getBufferedFrag(e.end+.5):null},T.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},T.nextLevelSwitch=function(){var e=this.levels,t=this.media;if(null!=t&&t.readyState){var n,r=this.getAppendedFrag(t.currentTime);if(r&&r.start>1&&this.flushMainBuffer(0,r.start-1),!t.paused&&e){var i=e[this.hls.nextLoadLevel],a=this.fragLastKbps;n=a&&this.fragCurrent?this.fragCurrent.duration*i.maxBitrate/(1e3*a)+1:0}else n=0;var o=this.getBufferedFrag(t.currentTime+n);if(o){var s=this.followingBufferedFrag(o);if(s){this.abortCurrentFrag();var l=s.maxStartPTS?s.maxStartPTS:s.start,c=s.duration,u=Math.max(o.end,l+Math.min(Math.max(c-this.config.maxFragLookUpTolerance,.5*c),.75*c));this.flushMainBuffer(u,Number.POSITIVE_INFINITY)}}}},T.abortCurrentFrag=function(){var e=this.fragCurrent;this.fragCurrent=null,null!=e&&e.loader&&e.loader.abort(),this.state===i.State.KEY_LOADING&&(this.state=i.State.IDLE),this.nextLoadPosition=this.getLoadPosition()},T.flushMainBuffer=function(t,n){e.prototype.flushMainBuffer.call(this,t,n,this.altAudio?"video":null)},T.onMediaAttached=function(t,n){e.prototype.onMediaAttached.call(this,t,n);var r=n.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),r.addEventListener("playing",this.onvplaying),r.addEventListener("seeked",this.onvseeked),this.gapController=new h.default(this.config,r,this.fragmentTracker,this.hls)},T.onMediaDetaching=function(){var t=this.media;t&&(t.removeEventListener("playing",this.onvplaying),t.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),e.prototype.onMediaDetaching.call(this)},T.onMediaPlaying=function(){this.tick()},T.onMediaSeeked=function(){var e=this.media,t=e?e.currentTime:null;Object(r.isFiniteNumber)(t)&&this.log("Media seeked to "+t.toFixed(3)),this.tick()},T.onManifestLoading=function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(o.Events.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=this.stalled=!1,this.startPosition=this.lastCurrentTime=0,this.fragPlaying=null},T.onManifestParsed=function(e,t){var n,r=!1,i=!1;t.levels.forEach((function(e){(n=e.audioCodec)&&(-1!==n.indexOf("mp4a.40.2")&&(r=!0),-1!==n.indexOf("mp4a.40.5")&&(i=!0))})),this.audioCodecSwitch=r&&i&&!Object(a.changeTypeSupported)(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1},T.onLevelLoading=function(e,t){var n=this.levels;if(n&&this.state===i.State.IDLE){var r=n[t.level];(!r.details||r.details.live&&this.levelLastLoaded!==t.level||this.waitForCdnTuneIn(r.details))&&(this.state=i.State.WAITING_LEVEL)}},T.onLevelLoaded=function(e,t){var n,r=this.levels,a=t.level,s=t.details,l=s.totalduration;if(r){this.log("Level "+a+" loaded ["+s.startSN+","+s.endSN+"], cc ["+s.startCC+", "+s.endCC+"] duration:"+l);var c=this.fragCurrent;!c||this.state!==i.State.FRAG_LOADING&&this.state!==i.State.FRAG_LOADING_WAITING_RETRY||c.level!==t.level&&c.loader&&(this.state=i.State.IDLE,c.loader.abort());var u=r[a],d=0;if(s.live||null!==(n=u.details)&&void 0!==n&&n.live){if(s.fragments[0]||(s.deltaUpdateFailed=!0),s.deltaUpdateFailed)return;d=this.alignPlaylists(s,u.details)}if(u.details=s,this.levelLastLoaded=a,this.hls.trigger(o.Events.LEVEL_UPDATED,{details:s,level:a}),this.state===i.State.WAITING_LEVEL){if(this.waitForCdnTuneIn(s))return;this.state=i.State.IDLE}this.startFragRequested?s.live&&this.synchronizeToLiveEdge(s):this.setStartPosition(s,d),this.tick()}else this.warn("Levels were reset while loading level "+a)},T._handleFragmentLoadProgress=function(e){var t,n=e.frag,r=e.part,i=e.payload,a=this.levels;if(a){var o=a[n.level],s=o.details;if(s){var l=o.videoCodec,u=s.PTSKnown||!s.live,h=null===(t=n.initSegment)||void 0===t?void 0:t.data,p=this._getAudioCodec(o),g=this.transmuxer=this.transmuxer||new d.default(this.hls,c.PlaylistLevelType.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),v=r?r.index:-1,m=-1!==v,b=new f.ChunkMetadata(n.level,n.sn,n.stats.chunkCount,i.byteLength,v,m),y=this.initPTS[n.cc];g.push(i,h,p,l,n,r,s.totalduration,u,b,y)}else this.warn("Dropping fragment "+n.sn+" of level "+n.level+" after level details were reset")}else this.warn("Levels were reset while fragment load was in progress. Fragment "+n.sn+" of level "+n.level+" will not be buffered")},T.onAudioTrackSwitching=function(e,t){var n=this.altAudio,r=!!t.url,i=t.id;if(!r){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var a=this.fragCurrent;null!=a&&a.loader&&(this.log("Switching to main audio track, cancel main fragment load"),a.loader.abort()),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var s=this.hls;n&&s.trigger(o.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),s.trigger(o.Events.AUDIO_TRACK_SWITCHED,{id:i})}},T.onAudioTrackSwitched=function(e,t){var n=t.id,r=!!this.hls.audioTracks[n].url;if(r){var i=this.videoBuffer;i&&this.mediaBuffer!==i&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=r,this.tick()},T.onBufferCreated=function(e,t){var n,r,i=t.tracks,a=!1;for(var o in i){var s=i[o];if("main"===s.id){if(r=o,n=s,"video"===o){var l=i[o];l&&(this.videoBuffer=l.buffer)}}else a=!0}a&&n?(this.log("Alternate track found, use "+r+".buffered to schedule main fragment loading"),this.mediaBuffer=n.buffer):this.mediaBuffer=this.media},T.onFragBuffered=function(e,t){var n=t.frag,r=t.part;if(!n||n.type===c.PlaylistLevelType.MAIN){if(this.fragContextChanged(n))return this.warn("Fragment "+n.sn+(r?" p: "+r.index:"")+" of level "+n.level+" finished buffering, but was aborted. state: "+this.state),void(this.state===i.State.PARSED&&(this.state=i.State.IDLE));var a=r?r.stats:n.stats;this.fragLastKbps=Math.round(8*a.total/(a.buffering.end-a.loading.first)),"initSegment"!==n.sn&&(this.fragPrevious=n),this.fragBufferedComplete(n,r)}},T.onError=function(e,t){switch(t.details){case p.ErrorDetails.FRAG_LOAD_ERROR:case p.ErrorDetails.FRAG_LOAD_TIMEOUT:case p.ErrorDetails.KEY_LOAD_ERROR:case p.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(c.PlaylistLevelType.MAIN,t);break;case p.ErrorDetails.LEVEL_LOAD_ERROR:case p.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==i.State.ERROR&&(t.fatal?(this.warn(""+t.details),this.state=i.State.ERROR):t.levelRetry||this.state!==i.State.WAITING_LEVEL||(this.state=i.State.IDLE));break;case p.ErrorDetails.BUFFER_FULL_ERROR:if("main"===t.parent&&(this.state===i.State.PARSING||this.state===i.State.PARSED)){var n=!0,r=this.getFwdBufferInfo(this.media,c.PlaylistLevelType.MAIN);r&&r.len>.5&&(n=!this.reduceMaxBufferLength(r.len)),n&&(this.warn("buffer full error also media.currentTime is not buffered, flush main"),this.immediateLevelSwitch()),this.resetLoadingState()}}},T.checkBuffer=function(){var e=this.media,t=this.gapController;if(e&&t&&e.readyState){var n=s.BufferHelper.getBuffered(e);!this.loadedmetadata&&n.length?(this.loadedmetadata=!0,this.seekToStartPos()):t.poll(this.lastCurrentTime),this.lastCurrentTime=e.currentTime}},T.onFragLoadEmergencyAborted=function(){this.state=i.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()},T.onBufferFlushed=function(e,t){var n=t.type;if(n!==u.ElementaryStreamTypes.AUDIO||this.audioOnly&&!this.altAudio){var r=(n===u.ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(r,n,c.PlaylistLevelType.MAIN)}},T.onLevelsUpdated=function(e,t){this.levels=t.levels},T.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},T.seekToStartPos=function(){var e=this.media,t=e.currentTime,n=this.startPosition;if(n>=0&&t<n){if(e.seeking)return void g.logger.log("could not seek to "+n+", already seeking at "+t);var r=s.BufferHelper.getBuffered(e),i=(r.length?r.start(0):0)-n;i>0&&i<this.config.maxBufferHole&&(g.logger.log("adjusting start position by "+i+" to match buffer start"),n+=i,this.startPosition=n),this.log("seek to target start position "+n+" from current time "+t),e.currentTime=n}},T._getAudioCodec=function(e){var t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&t&&(this.log("Swapping audio codec"),t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),t},T._loadBitrateTestFrag=function(e){var t=this;this._doFragLoad(e).then((function(n){var r=t.hls;if(n&&!r.nextLoadLevel&&!t.fragContextChanged(e)){t.fragLoadError=0,t.state=i.State.IDLE,t.startFragRequested=!1,t.bitrateTest=!1;var a=e.stats;a.parsing.start=a.parsing.end=a.buffering.start=a.buffering.end=self.performance.now(),r.trigger(o.Events.FRAG_LOADED,n)}}))},T._handleTransmuxComplete=function(e){var t,n="main",a=this.hls,s=e.remuxResult,l=e.chunkMeta,c=this.getCurrentContext(l);if(!c)return this.warn("The loading context changed while buffering fragment "+l.sn+" of level "+l.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(l.level);var d=c.frag,f=c.part,h=c.level,p=s.video,g=s.text,v=s.id3,m=s.initSegment,b=this.altAudio?void 0:s.audio;if(!this.fragContextChanged(d)){if(this.state=i.State.PARSING,m){m.tracks&&(this._bufferInitSegment(h,m.tracks,d,l),a.trigger(o.Events.FRAG_PARSING_INIT_SEGMENT,{frag:d,id:n,tracks:m.tracks}));var y=m.initPTS,E=m.timescale;Object(r.isFiniteNumber)(y)&&(this.initPTS[d.cc]=y,a.trigger(o.Events.INIT_PTS_FOUND,{frag:d,id:n,initPTS:y,timescale:E}))}if(p&&!1!==s.independent){if(h.details){var O=p.startPTS,T=p.endPTS,_=p.startDTS,S=p.endDTS;if(f)f.elementaryStreams[p.type]={startPTS:O,endPTS:T,startDTS:_,endDTS:S};else if(p.firstKeyFrame&&p.independent&&(this.couldBacktrack=!0),p.dropped&&p.independent){if(this.getLoadPosition()+this.config.maxBufferHole<O)return void this.backtrack(d);d.setElementaryStreamInfo(p.type,d.start,T,d.start,S,!0)}d.setElementaryStreamInfo(p.type,O,T,_,S),this.bufferFragmentData(p,d,f,l)}}else if(!1===s.independent)return void this.backtrack(d);if(b){var k=b.startPTS,L=b.endPTS,A=b.startDTS,w=b.endDTS;f&&(f.elementaryStreams[u.ElementaryStreamTypes.AUDIO]={startPTS:k,endPTS:L,startDTS:A,endDTS:w}),d.setElementaryStreamInfo(u.ElementaryStreamTypes.AUDIO,k,L,A,w),this.bufferFragmentData(b,d,f,l)}if(null!=v&&null!==(t=v.samples)&&void 0!==t&&t.length){var C={frag:d,id:n,samples:v.samples};a.trigger(o.Events.FRAG_PARSING_METADATA,C)}if(g){var j={frag:d,id:n,samples:g.samples};a.trigger(o.Events.FRAG_PARSING_USERDATA,j)}}},T._bufferInitSegment=function(e,t,n,r){var a=this;if(this.state===i.State.PARSING){this.audioOnly=!!t.audio&&!t.video,this.altAudio&&!this.audioOnly&&delete t.audio;var s=t.audio,l=t.video,c=t.audiovideo;if(s){var u=e.audioCodec,d=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(u&&(u=-1!==u.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==s.metadata.channelCount&&-1===d.indexOf("firefox")&&(u="mp4a.40.5")),-1!==d.indexOf("android")&&"audio/mpeg"!==s.container&&(u="mp4a.40.2",this.log("Android: force audio codec to "+u)),e.audioCodec&&e.audioCodec!==u&&this.log('Swapping manifest audio codec "'+e.audioCodec+'" for "'+u+'"'),s.levelCodec=u,s.id="main",this.log("Init audio buffer, container:"+s.container+", codecs[selected/level/parsed]=["+(u||"")+"/"+(e.audioCodec||"")+"/"+s.codec+"]")}l&&(l.levelCodec=e.videoCodec,l.id="main",this.log("Init video buffer, container:"+l.container+", codecs[level/parsed]=["+(e.videoCodec||"")+"/"+l.codec+"]")),c&&this.log("Init audiovideo buffer, container:"+c.container+", codecs[level/parsed]=["+(e.attrs.CODECS||"")+"/"+c.codec+"]"),this.hls.trigger(o.Events.BUFFER_CODECS,t),Object.keys(t).forEach((function(e){var i=t[e].initSegment;null!=i&&i.byteLength&&a.hls.trigger(o.Events.BUFFER_APPENDING,{type:e,data:i,frag:n,part:null,chunkMeta:r,parent:n.type})})),this.tick()}},T.backtrack=function(e){this.couldBacktrack=!0,this.resetTransmuxer(),this.flushBufferGap(e);var t=this.fragmentTracker.backtrack(e);this.fragPrevious=null,this.nextLoadPosition=e.start,t?this.resetFragmentLoading(e):this.state=i.State.BACKTRACKING},T.checkFragmentChanged=function(){var e=this.media,t=null;if(e&&e.readyState>1&&!1===e.seeking){var n=e.currentTime;if(s.BufferHelper.isBuffered(e,n)?t=this.getAppendedFrag(n):s.BufferHelper.isBuffered(e,n+.1)&&(t=this.getAppendedFrag(n+.1)),t){var r=this.fragPlaying,i=t.level;r&&t.sn===r.sn&&r.level===i&&t.urlId===r.urlId||(this.hls.trigger(o.Events.FRAG_CHANGED,{frag:t}),r&&r.level===i||this.hls.trigger(o.Events.LEVEL_SWITCHED,{level:i}),this.fragPlaying=t)}}},y=b,(E=[{key:"nextLevel",get:function(){var e=this.nextBufferedFrag;return e?e.level:-1}},{key:"currentLevel",get:function(){var e=this.media;if(e){var t=this.getAppendedFrag(e.currentTime);if(t)return t.level}return-1}},{key:"nextBufferedFrag",get:function(){var e=this.media;if(e){var t=this.getAppendedFrag(e.currentTime);return this.followingBufferedFrag(t)}return null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}])&&v(y.prototype,E),O&&v(y,O),b}(i.default)},"./src/controller/subtitle-stream-controller.ts":function(e,t,n){n.r(t),n.d(t,"SubtitleStreamController",(function(){return g}));var r=n("./src/events.ts"),i=n("./src/utils/logger.ts"),a=n("./src/utils/buffer-helper.ts"),o=n("./src/controller/fragment-finders.ts"),s=n("./src/utils/discontinuities.ts"),l=n("./src/controller/level-helper.ts"),c=n("./src/controller/fragment-tracker.ts"),u=n("./src/controller/base-stream-controller.ts"),d=n("./src/types/loader.ts"),f=n("./src/types/level.ts");function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){var t,n;function g(t,n){var r;return(r=e.call(this,t,n,"[subtitle-stream-controller]")||this).levels=[],r.currentTrackId=-1,r.tracksBuffered=[],r.mainDetails=null,r._registerListeners(),r}n=e,(t=g).prototype=Object.create(n.prototype),t.prototype.constructor=t,p(t,n);var v,m,b,y=g.prototype;return y.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},y._registerListeners=function(){var e=this.hls;e.on(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(r.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(r.Events.ERROR,this.onError,this),e.on(r.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(r.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(r.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(r.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},y._unregisterListeners=function(){var e=this.hls;e.off(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(r.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(r.Events.ERROR,this.onError,this),e.off(r.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(r.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(r.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(r.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},y.startLoad=function(){this.stopLoad(),this.state=u.State.IDLE,this.setInterval(500),this.tick()},y.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()},y.onLevelLoaded=function(e,t){this.mainDetails=t.details},y.onSubtitleFragProcessed=function(e,t){var n=t.frag,r=t.success;if(this.fragPrevious=n,this.state=u.State.IDLE,r){var i=this.tracksBuffered[this.currentTrackId];if(i){for(var a,o=n.start,s=0;s<i.length;s++)if(o>=i[s].start&&o<=i[s].end){a=i[s];break}var l=n.start+n.duration;a?a.end=l:(a={start:o,end:l},i.push(a)),this.fragmentTracker.fragBuffered(n)}}},y.onBufferFlushing=function(e,t){var n=t.startOffset,r=t.endOffset;if(0===n&&r!==Number.POSITIVE_INFINITY){var i=this.currentTrackId,a=this.levels;if(!a.length||!a[i]||!a[i].details)return;var o=r-a[i].details.targetduration;if(o<=0)return;t.endOffsetSubtitles=Math.max(0,o),this.tracksBuffered.forEach((function(e){for(var t=0;t<e.length;)if(e[t].end<=o)e.shift();else{if(!(e[t].start<o))break;e[t].start=o,t++}})),this.fragmentTracker.removeFragmentsInRange(n,o,d.PlaylistLevelType.SUBTITLE)}},y.onError=function(e,t){var n,r=t.frag;r&&r.type===d.PlaylistLevelType.SUBTITLE&&(null!==(n=this.fragCurrent)&&void 0!==n&&n.loader&&this.fragCurrent.loader.abort(),this.state=u.State.IDLE)},y.onSubtitleTracksUpdated=function(e,t){var n=this,r=t.subtitleTracks;this.tracksBuffered=[],this.levels=r.map((function(e){return new f.Level(e)})),this.fragmentTracker.removeAllFragments(),this.fragPrevious=null,this.levels.forEach((function(e){n.tracksBuffered[e.id]=[]})),this.mediaBuffer=null},y.onSubtitleTrackSwitch=function(e,t){if(this.currentTrackId=t.id,this.levels.length&&-1!==this.currentTrackId){var n=this.levels[this.currentTrackId];null!=n&&n.details?(this.mediaBuffer=this.mediaBufferTimeRanges,this.setInterval(500)):this.mediaBuffer=null}else this.clearInterval()},y.onSubtitleTrackLoaded=function(e,t){var n,r=t.details,i=t.id,a=this.currentTrackId,c=this.levels;if(c.length){var d=c[a];if(!(i>=c.length||i!==a)&&d){if(this.mediaBuffer=this.mediaBufferTimeRanges,r.live||null!==(n=d.details)&&void 0!==n&&n.live){var f=this.mainDetails;if(r.deltaUpdateFailed||!f)return;var h=f.fragments[0];d.details?0===this.alignPlaylists(r,d.details)&&h&&Object(l.addSliding)(r,h.start):r.hasProgramDateTime&&f.hasProgramDateTime?Object(s.alignPDT)(r,f):h&&Object(l.addSliding)(r,h.start)}d.details=r,this.levelLastLoaded=i,this.tick(),r.live&&!this.fragCurrent&&this.media&&this.state===u.State.IDLE&&(Object(o.findFragmentByPTS)(null,r.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),d.details=void 0))}}},y._handleFragmentLoadComplete=function(e){var t=e.frag,n=e.payload,i=t.decryptdata,a=this.hls;if(!this.fragContextChanged(t)&&n&&n.byteLength>0&&i&&i.key&&i.iv&&"AES-128"===i.method){var o=performance.now();this.decrypter.webCryptoDecrypt(new Uint8Array(n),i.key.buffer,i.iv.buffer).then((function(e){var n=performance.now();a.trigger(r.Events.FRAG_DECRYPTED,{frag:t,payload:e,stats:{tstart:o,tdecrypt:n}})}))}},y.doTick=function(){if(this.media){if(this.state===u.State.IDLE){var e,t=this.currentTrackId,n=this.levels;if(!n.length||!n[t]||!n[t].details)return;var s=n[t].details,l=s.targetduration,d=this.config,f=this.media,h=a.BufferHelper.bufferedInfo(this.mediaBufferTimeRanges,f.currentTime-l,d.maxBufferHole),p=h.end;if(h.len>this.getMaxBufferLength()+l)return;console.assert(s,"Subtitle track details are defined on idle subtitle stream controller tick");var g,v=s.fragments,m=v.length,b=s.edge,y=this.fragPrevious;if(p<b){var E=d.maxFragLookUpTolerance;y&&s.hasProgramDateTime&&(g=Object(o.findFragmentByPDT)(v,y.endProgramDateTime,E)),g||!(g=Object(o.findFragmentByPTS)(y,v,p,E))&&y&&y.start<v[0].start&&(g=v[0])}else g=v[m-1];null!==(e=g)&&void 0!==e&&e.encrypted?(i.logger.log("Loading key for "+g.sn),this.state=u.State.KEY_LOADING,this.hls.trigger(r.Events.KEY_LOADING,{frag:g})):g&&this.fragmentTracker.getState(g)===c.FragmentState.NOT_LOADED&&this.loadFragment(g,s,p)}}else this.state=u.State.IDLE},y.loadFragment=function(t,n,r){this.fragCurrent=t,e.prototype.loadFragment.call(this,t,n,r)},v=g,(m=[{key:"mediaBufferTimeRanges",get:function(){return this.tracksBuffered[this.currentTrackId]||[]}}])&&h(v.prototype,m),b&&h(v,b),g}(u.default)},"./src/controller/subtitle-track-controller.ts":function(e,t,n){n.r(t);var r=n("./src/events.ts"),i=n("./src/utils/texttrack-utils.ts"),a=n("./src/controller/base-playlist-controller.ts"),o=n("./src/types/loader.ts");function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){var t,n;function a(t){var n;return(n=e.call(this,t,"[subtitle-track-controller]")||this).media=null,n.tracks=[],n.groupId=null,n.tracksInGroup=[],n.trackId=-1,n.selectDefaultTrack=!0,n.queuedDefaultTrack=-1,n.trackChangeListener=function(){return n.onTextTracksChanged()},n.asyncPollTrackChange=function(){return n.pollTrackChange(0)},n.useTextTrackPolling=!1,n.subtitlePollingInterval=-1,n.subtitleDisplay=!0,n.registerListeners(),n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,l(t,n);var c,d,f,h=a.prototype;return h.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,e.prototype.destroy.call(this)},h.registerListeners=function(){var e=this.hls;e.on(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(r.Events.LEVEL_LOADING,this.onLevelLoading,this),e.on(r.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(r.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(r.Events.ERROR,this.onError,this)},h.unregisterListeners=function(){var e=this.hls;e.off(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(r.Events.LEVEL_LOADING,this.onLevelLoading,this),e.off(r.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(r.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(r.Events.ERROR,this.onError,this)},h.onMediaAttached=function(e,t){this.media=t.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))},h.pollTrackChange=function(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,e)},h.onMediaDetaching=function(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),u(this.media.textTracks).forEach((function(e){Object(i.clearCurrentCues)(e)})),this.subtitleTrack=-1,this.media=null)},h.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0},h.onManifestParsed=function(e,t){this.tracks=t.subtitleTracks},h.onSubtitleTrackLoaded=function(e,t){var n=t.id,r=t.details,i=this.trackId,a=this.tracksInGroup[i];if(a){var o=a.details;a.details=t.details,this.log("subtitle track "+n+" loaded ["+r.startSN+"-"+r.endSN+"]"),n===this.trackId&&(this.retryCount=0,this.playlistLoaded(n,t,o))}else this.warn("Invalid subtitle track id "+n)},h.onLevelLoading=function(e,t){this.switchLevel(t.level)},h.onLevelSwitching=function(e,t){this.switchLevel(t.level)},h.switchLevel=function(e){var t=this.hls.levels[e];if(null!=t&&t.textGroupIds){var n=t.textGroupIds[t.urlId];if(this.groupId!==n){var i=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0,a=this.tracks.filter((function(e){return!n||e.groupId===n}));this.tracksInGroup=a;var o=this.findTrackId(null==i?void 0:i.name)||this.findTrackId();this.groupId=n;var s={subtitleTracks:a};this.log("Updating subtitle tracks, "+a.length+' track(s) found in "'+n+'" group-id'),this.hls.trigger(r.Events.SUBTITLE_TRACKS_UPDATED,s),-1!==o&&this.setSubtitleTrack(o,i)}}},h.findTrackId=function(e){for(var t=this.tracksInGroup,n=0;n<t.length;n++){var r=t[n];if((!this.selectDefaultTrack||r.default)&&(!e||e===r.name))return r.id}return-1},h.onError=function(t,n){e.prototype.onError.call(this,t,n),!n.fatal&&n.context&&n.context.type===o.PlaylistContextType.SUBTITLE_TRACK&&n.context.id===this.trackId&&n.context.groupId===this.groupId&&this.retryLoadingOrFail(n)},h.loadPlaylist=function(e){var t=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(t)){var n=t.id,i=t.groupId,a=t.url;if(e)try{a=e.addDirectives(a)}catch(o){this.warn("Could not construct new URL with HLS Delivery Directives: "+o)}this.log("Loading subtitle playlist for id "+n),this.hls.trigger(r.Events.SUBTITLE_TRACK_LOADING,{url:a,id:n,groupId:i,deliveryDirectives:e||null})}},h.toggleTrackModes=function(e){var t=this,n=this.media,r=this.subtitleDisplay,i=this.trackId;if(n){var a=u(n.textTracks),o=a.filter((function(e){return e.groupId===t.groupId}));if(-1===e)[].slice.call(a).forEach((function(e){e.mode="disabled"}));else{var s=o[i];s&&(s.mode="disabled")}var l=o[e];l&&(l.mode=r?"showing":"hidden")}},h.setSubtitleTrack=function(e,t){var n,i=this.tracksInGroup;if(this.media){if(this.trackId!==e&&this.toggleTrackModes(e),!(this.trackId===e&&(-1===e||null!==(n=i[e])&&void 0!==n&&n.details)||e<-1||e>=i.length)){this.clearTimer();var a=i[e];if(this.log("Switching to subtitle track "+e),this.trackId=e,a){var o=a.id,s=a.groupId,l=void 0===s?"":s,c=a.name,u=a.type,d=a.url;this.hls.trigger(r.Events.SUBTITLE_TRACK_SWITCH,{id:o,groupId:l,name:c,type:u,url:d});var f=this.switchParams(a.url,null==t?void 0:t.details);this.loadPlaylist(f)}else this.hls.trigger(r.Events.SUBTITLE_TRACK_SWITCH,{id:e})}}else this.queuedDefaultTrack=e},h.onTextTracksChanged=function(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),this.media&&this.hls.config.renderTextTracksNatively){for(var e=-1,t=u(this.media.textTracks),n=0;n<t.length;n++)if("hidden"===t[n].mode)e=n;else if("showing"===t[n].mode){e=n;break}this.subtitleTrack!==e&&(this.subtitleTrack=e)}},c=a,(d=[{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(e){this.selectDefaultTrack=!1;var t=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(e,t)}}])&&s(c.prototype,d),f&&s(c,f),a}(a.default);function u(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];"subtitles"===r.kind&&r.label&&t.push(e[n])}return t}t.default=c},"./src/controller/timeline-controller.ts":function(e,t,n){n.r(t),n.d(t,"TimelineController",(function(){return f}));var r=n("./src/polyfills/number.ts"),i=n("./src/events.ts"),a=n("./src/utils/cea-608-parser.ts"),o=n("./src/utils/output-filter.ts"),s=n("./src/utils/webvtt-parser.ts"),l=n("./src/utils/texttrack-utils.ts"),c=n("./src/utils/imsc1-ttml-parser.ts"),u=n("./src/types/loader.ts"),d=n("./src/utils/logger.ts"),f=function(){function e(e){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.timescale=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){var t=new o.default(this,"textTrack1"),n=new o.default(this,"textTrack2"),r=new o.default(this,"textTrack3"),s=new o.default(this,"textTrack4");this.cea608Parser1=new a.default(1,t,n),this.cea608Parser2=new a.default(3,r,s)}e.on(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(i.Events.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(i.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(i.Events.FRAG_LOADING,this.onFragLoading,this),e.on(i.Events.FRAG_LOADED,this.onFragLoaded,this),e.on(i.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(i.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(i.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(i.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)}var t=e.prototype;return t.destroy=function(){var e=this.hls;e.off(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(i.Events.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(i.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(i.Events.FRAG_LOADING,this.onFragLoading,this),e.off(i.Events.FRAG_LOADED,this.onFragLoaded,this),e.off(i.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(i.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(i.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(i.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null},t.addCues=function(e,t,n,r,a){for(var o,s,l,c,u=!1,d=a.length;d--;){var f=a[d],h=(o=f[0],s=f[1],l=t,c=n,Math.min(s,c)-Math.max(o,l));if(h>=0&&(f[0]=Math.min(f[0],t),f[1]=Math.max(f[1],n),u=!0,h/(n-t)>.5))return}if(u||a.push([t,n]),this.config.renderTextTracksNatively){var p=this.captionsTracks[e];this.Cues.newCue(p,t,n,r)}else{var g=this.Cues.newCue(null,t,n,r);this.hls.trigger(i.Events.CUES_PARSED,{type:"captions",cues:g,track:e})}},t.onInitPtsFound=function(e,t){var n=this,r=t.frag,a=t.id,o=t.initPTS,s=t.timescale,l=this.unparsedVttFrags;"main"===a&&(this.initPTS[r.cc]=o,this.timescale[r.cc]=s),l.length&&(this.unparsedVttFrags=[],l.forEach((function(e){n.onFragLoaded(i.Events.FRAG_LOADED,e)})))},t.getExistingTrack=function(e){var t=this.media;if(t)for(var n=0;n<t.textTracks.length;n++){var r=t.textTracks[n];if(r[e])return r}return null},t.createCaptionsTrack=function(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)},t.createNativeTrack=function(e){if(!this.captionsTracks[e]){var t=this.captionsProperties,n=this.captionsTracks,r=this.media,i=t[e],a=i.label,o=i.languageCode,s=this.getExistingTrack(e);if(s)n[e]=s,Object(l.clearCurrentCues)(n[e]),Object(l.sendAddTrackEvent)(n[e],r);else{var c=this.createTextTrack("captions",a,o);c&&(c[e]=!0,n[e]=c)}}},t.createNonNativeTrack=function(e){if(!this.nonNativeCaptionsTracks[e]){var t=this.captionsProperties[e];if(t){var n={_id:e,label:t.label,kind:"captions",default:!!t.media&&!!t.media.default,closedCaptions:t.media};this.nonNativeCaptionsTracks[e]=n,this.hls.trigger(i.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[n]})}}},t.createTextTrack=function(e,t,n){var r=this.media;if(r)return r.addTextTrack(e,t,n)},t.onMediaAttaching=function(e,t){this.media=t.media,this._cleanTracks()},t.onMediaDetaching=function(){var e=this.captionsTracks;Object.keys(e).forEach((function(t){Object(l.clearCurrentCues)(e[t]),delete e[t]})),this.nonNativeCaptionsTracks={}},t.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.timescale=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())},t._cleanTracks=function(){var e=this.media;if(e){var t=e.textTracks;if(t)for(var n=0;n<t.length;n++)Object(l.clearCurrentCues)(t[n])}},t.onSubtitleTracksUpdated=function(e,t){var n=this;this.textTracks=[];var r=t.subtitleTracks||[],a=r.some((function(e){return e.textCodec===c.IMSC1_CODEC}));if(this.config.enableWebVTT||a&&this.config.enableIMSC1){var o=this.tracks&&r&&this.tracks.length===r.length;if(this.tracks=r||[],this.config.renderTextTracksNatively){var s=this.media?this.media.textTracks:[];this.tracks.forEach((function(e,t){var r;if(t<s.length){for(var i=null,a=0;a<s.length;a++)if(h(s[a],e)){i=s[a];break}i&&(r=i)}r?Object(l.clearCurrentCues)(r):(r=n.createTextTrack("subtitles",e.name,e.lang))&&(r.mode="disabled"),r&&(r.groupId=e.groupId,n.textTracks.push(r))}))}else if(!o&&this.tracks&&this.tracks.length){var u=this.tracks.map((function(e){return{label:e.name,kind:e.type.toLowerCase(),default:e.default,subtitleTrack:e}}));this.hls.trigger(i.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:u})}}},t.onManifestLoaded=function(e,t){var n=this;this.config.enableCEA708Captions&&t.captions&&t.captions.forEach((function(e){var t=/(?:CC|SERVICE)([1-4])/.exec(e.instreamId);if(t){var r="textTrack"+t[1],i=n.captionsProperties[r];i&&(i.label=e.name,e.lang&&(i.languageCode=e.lang),i.media=e)}}))},t.onFragLoading=function(e,t){var n=this.cea608Parser1,r=this.cea608Parser2,i=this.lastSn;if(this.enabled&&n&&r&&t.frag.type===u.PlaylistLevelType.MAIN){var a=t.frag.sn;a!==i+1&&(n.reset(),r.reset()),this.lastSn=a}},t.onFragLoaded=function(e,t){var n=t.frag,a=t.payload,o=this.initPTS,s=this.unparsedVttFrags;if(n.type===u.PlaylistLevelType.SUBTITLE)if(a.byteLength){if(!Object(r.isFiniteNumber)(o[n.cc]))return s.push(t),void(o.length&&this.hls.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:new Error("Missing initial subtitle PTS")}));var l=n.decryptdata;if(null==l||null==l.key||"AES-128"!==l.method){var d=this.tracks[n.level],f=this.vttCCs;f[n.cc]||(f[n.cc]={start:n.start,prevCC:this.prevCC,new:!0},this.prevCC=n.cc),d&&d.textCodec===c.IMSC1_CODEC?this._parseIMSC1(n,a):this._parseVTTs(n,a,f)}}else this.hls.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:new Error("Empty subtitle payload")})},t._parseIMSC1=function(e,t){var n=this,r=this.hls;Object(c.parseIMSC1)(t,this.initPTS[e.cc],this.timescale[e.cc],(function(t){n._appendCues(t,e.level),r.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})}),(function(t){d.logger.log("Failed to parse IMSC1: "+t),r.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:t})}))},t._parseVTTs=function(e,t,n){var r=this,a=this.hls;Object(s.parseWebVTT)(t,this.initPTS[e.cc],this.timescale[e.cc],n,e.cc,e.start,(function(t){r._appendCues(t,e.level),a.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})}),(function(n){r._fallbackToIMSC1(e,t),d.logger.log("Failed to parse VTT cue: "+n),a.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:n})}))},t._fallbackToIMSC1=function(e,t){var n=this,r=this.tracks[e.level];r.textCodec||Object(c.parseIMSC1)(t,this.initPTS[e.cc],this.timescale[e.cc],(function(){r.textCodec=c.IMSC1_CODEC,n._parseIMSC1(e,t)}),(function(){r.textCodec="wvtt"}))},t._appendCues=function(e,t){var n=this.hls;if(this.config.renderTextTracksNatively){var r=this.textTracks[t];if("disabled"===r.mode)return;e.forEach((function(e){return Object(l.addCueToTrack)(r,e)}))}else{var a=this.tracks[t].default?"default":"subtitles"+t;n.trigger(i.Events.CUES_PARSED,{type:"subtitles",cues:e,track:a})}},t.onFragDecrypted=function(e,t){var n=t.frag;if(n.type===u.PlaylistLevelType.SUBTITLE){if(!Object(r.isFiniteNumber)(this.initPTS[n.cc]))return void this.unparsedVttFrags.push(t);this.onFragLoaded(i.Events.FRAG_LOADED,t)}},t.onSubtitleTracksCleared=function(){this.tracks=[],this.captionsTracks={}},t.onFragParsingUserdata=function(e,t){var n=this.cea608Parser1,r=this.cea608Parser2;if(this.enabled&&n&&r)for(var i=0;i<t.samples.length;i++){var a=t.samples[i].bytes;if(a){var o=this.extractCea608Data(a);n.addData(t.samples[i].pts,o[0]),r.addData(t.samples[i].pts,o[1])}}},t.onBufferFlushing=function(e,t){var n=t.startOffset,r=t.endOffset,i=t.endOffsetSubtitles,a=t.type,o=this.media;if(o&&!(o.currentTime<r)){if(!a||"video"===a){var s=this.captionsTracks;Object.keys(s).forEach((function(e){return Object(l.removeCuesInRange)(s[e],n,r)}))}if(this.config.renderTextTracksNatively&&0===n&&void 0!==i){var c=this.textTracks;Object.keys(c).forEach((function(e){return Object(l.removeCuesInRange)(c[e],n,i)}))}}},t.extractCea608Data=function(e){for(var t=31&e[0],n=2,r=[[],[]],i=0;i<t;i++){var a=e[n++],o=127&e[n++],s=127&e[n++],l=3&a;0===o&&0===s||0!=(4&a)&&(0!==l&&1!==l||(r[l].push(o),r[l].push(s)))}return r},e}();function h(e,t){return e&&e.label===t.name&&!(e.textTrack1||e.textTrack2)}},"./src/crypt/aes-crypto.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return r}));var r=function(){function e(e,t){this.subtle=void 0,this.aesIV=void 0,this.subtle=e,this.aesIV=t}return e.prototype.decrypt=function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)},e}()},"./src/crypt/aes-decryptor.ts":function(e,t,n){n.r(t),n.d(t,"removePadding",(function(){return i})),n.d(t,"default",(function(){return a}));var r=n("./src/utils/typed-array.ts");function i(e){var t=e.byteLength,n=t&&new DataView(e.buffer).getUint8(t-1);return n?Object(r.sliceUint8)(e,0,t-n):e}var a=function(){function e(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var t=e.prototype;return t.uint8ArrayToUint32Array_=function(e){for(var t=new DataView(e),n=new Uint32Array(4),r=0;r<4;r++)n[r]=t.getUint32(4*r);return n},t.initTable=function(){var e=this.sBox,t=this.invSBox,n=this.subMix,r=n[0],i=n[1],a=n[2],o=n[3],s=this.invSubMix,l=s[0],c=s[1],u=s[2],d=s[3],f=new Uint32Array(256),h=0,p=0,g=0;for(g=0;g<256;g++)f[g]=g<128?g<<1:g<<1^283;for(g=0;g<256;g++){var v=p^p<<1^p<<2^p<<3^p<<4;v=v>>>8^255&v^99,e[h]=v,t[v]=h;var m=f[h],b=f[m],y=f[b],E=257*f[v]^16843008*v;r[h]=E<<24|E>>>8,i[h]=E<<16|E>>>16,a[h]=E<<8|E>>>24,o[h]=E,E=16843009*y^65537*b^257*m^16843008*h,l[v]=E<<24|E>>>8,c[v]=E<<16|E>>>16,u[v]=E<<8|E>>>24,d[v]=E,h?(h=m^f[f[f[y^m]]],p^=f[f[p]]):h=p=1}},t.expandKey=function(e){for(var t=this.uint8ArrayToUint32Array_(e),n=!0,r=0;r<t.length&&n;)n=t[r]===this.key[r],r++;if(!n){this.key=t;var i=this.keySize=t.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);var a,o,s,l,c=this.ksRows=4*(i+6+1),u=this.keySchedule=new Uint32Array(c),d=this.invKeySchedule=new Uint32Array(c),f=this.sBox,h=this.rcon,p=this.invSubMix,g=p[0],v=p[1],m=p[2],b=p[3];for(a=0;a<c;a++)a<i?s=u[a]=t[a]:(l=s,a%i==0?(l=f[(l=l<<8|l>>>24)>>>24]<<24|f[l>>>16&255]<<16|f[l>>>8&255]<<8|f[255&l],l^=h[a/i|0]<<24):i>6&&a%i==4&&(l=f[l>>>24]<<24|f[l>>>16&255]<<16|f[l>>>8&255]<<8|f[255&l]),u[a]=s=(u[a-i]^l)>>>0);for(o=0;o<c;o++)a=c-o,l=3&o?u[a]:u[a-4],d[o]=o<4||a<=4?l:g[f[l>>>24]]^v[f[l>>>16&255]]^m[f[l>>>8&255]]^b[f[255&l]],d[o]=d[o]>>>0}},t.networkToHostOrderSwap=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},t.decrypt=function(e,t,n){for(var r,i,a,o,s,l,c,u,d,f,h,p,g,v,m=this.keySize+6,b=this.invKeySchedule,y=this.invSBox,E=this.invSubMix,O=E[0],T=E[1],_=E[2],S=E[3],k=this.uint8ArrayToUint32Array_(n),L=k[0],A=k[1],w=k[2],C=k[3],j=new Int32Array(e),D=new Int32Array(j.length),R=this.networkToHostOrderSwap;t<j.length;){for(d=R(j[t]),f=R(j[t+1]),h=R(j[t+2]),p=R(j[t+3]),s=d^b[0],l=p^b[1],c=h^b[2],u=f^b[3],g=4,v=1;v<m;v++)r=O[s>>>24]^T[l>>16&255]^_[c>>8&255]^S[255&u]^b[g],i=O[l>>>24]^T[c>>16&255]^_[u>>8&255]^S[255&s]^b[g+1],a=O[c>>>24]^T[u>>16&255]^_[s>>8&255]^S[255&l]^b[g+2],o=O[u>>>24]^T[s>>16&255]^_[l>>8&255]^S[255&c]^b[g+3],s=r,l=i,c=a,u=o,g+=4;r=y[s>>>24]<<24^y[l>>16&255]<<16^y[c>>8&255]<<8^y[255&u]^b[g],i=y[l>>>24]<<24^y[c>>16&255]<<16^y[u>>8&255]<<8^y[255&s]^b[g+1],a=y[c>>>24]<<24^y[u>>16&255]<<16^y[s>>8&255]<<8^y[255&l]^b[g+2],o=y[u>>>24]<<24^y[s>>16&255]<<16^y[l>>8&255]<<8^y[255&c]^b[g+3],D[t]=R(r^L),D[t+1]=R(o^A),D[t+2]=R(a^w),D[t+3]=R(i^C),L=d,A=f,w=h,C=p,t+=4}return D.buffer},e}()},"./src/crypt/decrypter.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return c}));var r=n("./src/crypt/aes-crypto.ts"),i=n("./src/crypt/fast-aes-key.ts"),a=n("./src/crypt/aes-decryptor.ts"),o=n("./src/utils/logger.ts"),s=n("./src/utils/mp4-tools.ts"),l=n("./src/utils/typed-array.ts"),c=function(){function e(e,t,n){var r=(void 0===n?{}:n).removePKCS7Padding,i=void 0===r||r;if(this.logEnabled=!0,this.observer=void 0,this.config=void 0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.observer=e,this.config=t,this.removePKCS7Padding=i,i)try{var a=self.crypto;a&&(this.subtle=a.subtle||a.webkitSubtle)}catch(o){}null===this.subtle&&(this.config.enableSoftwareAES=!0)}var t=e.prototype;return t.destroy=function(){this.observer=null},t.isSync=function(){return this.config.enableSoftwareAES},t.flush=function(){var e=this.currentResult;if(e){var t=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?Object(a.removePadding)(t):t}this.reset()},t.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},t.decrypt=function(e,t,n,r){if(this.config.enableSoftwareAES){this.softwareDecrypt(new Uint8Array(e),t,n);var i=this.flush();i&&r(i.buffer)}else this.webCryptoDecrypt(new Uint8Array(e),t,n).then(r)},t.softwareDecrypt=function(e,t,n){var r=this.currentIV,i=this.currentResult,o=this.remainderData;this.logOnce("JS AES decrypt"),o&&(e=Object(s.appendUint8Array)(o,e),this.remainderData=null);var c=this.getValidChunk(e);if(!c.length)return null;r&&(n=r);var u=this.softwareDecrypter;u||(u=this.softwareDecrypter=new a.default),u.expandKey(t);var d=i;return this.currentResult=u.decrypt(c.buffer,0,n),this.currentIV=Object(l.sliceUint8)(c,-16).buffer,d||null},t.webCryptoDecrypt=function(e,t,n){var a=this,o=this.subtle;return this.key===t&&this.fastAesKey||(this.key=t,this.fastAesKey=new i.default(o,t)),this.fastAesKey.expandKey().then((function(t){return o?new r.default(o,n).decrypt(e.buffer,t):Promise.reject(new Error("web crypto not initialized"))})).catch((function(r){return a.onWebCryptoError(r,e,t,n)}))},t.onWebCryptoError=function(e,t,n,r){return o.logger.warn("[decrypter.ts]: WebCrypto Error, disable WebCrypto API:",e),this.config.enableSoftwareAES=!0,this.logEnabled=!0,this.softwareDecrypt(t,n,r)},t.getValidChunk=function(e){var t=e,n=e.length-e.length%16;return n!==e.length&&(t=Object(l.sliceUint8)(e,0,n),this.remainderData=Object(l.sliceUint8)(e,n)),t},t.logOnce=function(e){this.logEnabled&&(o.logger.log("[decrypter.ts]: "+e),this.logEnabled=!1)},e}()},"./src/crypt/fast-aes-key.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return r}));var r=function(){function e(e,t){this.subtle=void 0,this.key=void 0,this.subtle=e,this.key=t}return e.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},e}()},"./src/demux/aacdemuxer.ts":function(e,t,n){n.r(t);var r=n("./src/demux/base-audio-demuxer.ts"),i=n("./src/demux/adts.ts"),a=n("./src/utils/logger.ts"),o=n("./src/demux/id3.ts");function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){var t,n;function r(t,n){var r;return(r=e.call(this)||this).observer=void 0,r.config=void 0,r.observer=t,r.config=n,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,s(t,n);var l=r.prototype;return l.resetInitSegment=function(t,n,r){e.prototype.resetInitSegment.call(this,t,n,r),this._audioTrack={container:"audio/adts",type:"audio",id:0,pid:-1,sequenceNumber:0,isAAC:!0,samples:[],manifestCodec:t,duration:r,inputTimeScale:9e4,dropped:0}},r.probe=function(e){if(!e)return!1;for(var t=(o.getID3Data(e,0)||[]).length,n=e.length;t<n;t++)if(i.probe(e,t))return a.logger.log("ADTS sync word found !"),!0;return!1},l.canParse=function(e,t){return i.canParse(e,t)},l.appendFrame=function(e,t,n){i.initTrackConfig(e,this.observer,t,n,e.manifestCodec);var r=i.appendFrame(e,t,n,this.initPTS,this.frameIndex);if(r&&0===r.missing)return r},r}(r.default);l.minProbeByteLength=9,t.default=l},"./src/demux/adts.ts":function(e,t,n){n.r(t),n.d(t,"getAudioConfig",(function(){return o})),n.d(t,"isHeaderPattern",(function(){return s})),n.d(t,"getHeaderLength",(function(){return l})),n.d(t,"getFullFrameLength",(function(){return c})),n.d(t,"canGetFrameLength",(function(){return u})),n.d(t,"isHeader",(function(){return d})),n.d(t,"canParse",(function(){return f})),n.d(t,"probe",(function(){return h})),n.d(t,"initTrackConfig",(function(){return p})),n.d(t,"getFrameDuration",(function(){return g})),n.d(t,"parseFrameHeader",(function(){return v})),n.d(t,"appendFrame",(function(){return m}));var r=n("./src/utils/logger.ts"),i=n("./src/errors.ts"),a=n("./src/events.ts");function o(e,t,n,o){var s,l,c,u,d=navigator.userAgent.toLowerCase(),f=o,h=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];s=1+((192&t[n+2])>>>6);var p=(60&t[n+2])>>>2;if(!(p>h.length-1))return c=(1&t[n+2])<<2,c|=(192&t[n+3])>>>6,r.logger.log("manifest codec:"+o+", ADTS type:"+s+", samplingIndex:"+p),/firefox/i.test(d)?p>=6?(s=5,u=new Array(4),l=p-3):(s=2,u=new Array(2),l=p):-1!==d.indexOf("android")?(s=2,u=new Array(2),l=p):(s=5,u=new Array(4),o&&(-1!==o.indexOf("mp4a.40.29")||-1!==o.indexOf("mp4a.40.5"))||!o&&p>=6?l=p-3:((o&&-1!==o.indexOf("mp4a.40.2")&&(p>=6&&1===c||/vivaldi/i.test(d))||!o&&1===c)&&(s=2,u=new Array(2)),l=p)),u[0]=s<<3,u[0]|=(14&p)>>1,u[1]|=(1&p)<<7,u[1]|=c<<3,5===s&&(u[1]|=(14&l)>>1,u[2]=(1&l)<<7,u[2]|=8,u[3]=0),{config:u,samplerate:h[p],channelCount:c,codec:"mp4a.40."+s,manifestCodec:f};e.trigger(a.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+p})}function s(e,t){return 255===e[t]&&240==(246&e[t+1])}function l(e,t){return 1&e[t+1]?7:9}function c(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function u(e,t){return t+5<e.length}function d(e,t){return t+1<e.length&&s(e,t)}function f(e,t){return u(e,t)&&s(e,t)&&c(e,t)<=e.length-t}function h(e,t){if(d(e,t)){var n=l(e,t);if(t+n>=e.length)return!1;var r=c(e,t);if(r<=n)return!1;var i=t+r;return i===e.length||d(e,i)}return!1}function p(e,t,n,i,a){if(!e.samplerate){var s=o(t,n,i,a);if(!s)return;e.config=s.config,e.samplerate=s.samplerate,e.channelCount=s.channelCount,e.codec=s.codec,e.manifestCodec=s.manifestCodec,r.logger.log("parsed codec:"+e.codec+", rate:"+s.samplerate+", channels:"+s.channelCount)}}function g(e){return 9216e4/e}function v(e,t,n,r,i){var a=l(e,t),o=c(e,t);if((o-=a)>0)return{headerLength:a,frameLength:o,stamp:n+r*i}}function m(e,t,n,r,i){var a=v(t,n,r,i,g(e.samplerate));if(a){var o,s=a.frameLength,l=a.headerLength,c=a.stamp,u=l+s,d=Math.max(0,n+u-t.length);d?(o=new Uint8Array(u-l)).set(t.subarray(n+l,t.length),0):o=t.subarray(n+l,n+u);var f={unit:o,pts:c};return d||e.samples.push(f),{sample:f,length:u,missing:d}}}},"./src/demux/base-audio-demuxer.ts":function(e,t,n){n.r(t),n.d(t,"initPTSFn",(function(){return c}));var r=n("./src/polyfills/number.ts"),i=n("./src/demux/id3.ts"),a=n("./src/demux/dummy-demuxed-track.ts"),o=n("./src/utils/mp4-tools.ts"),s=n("./src/utils/typed-array.ts"),l=function(){function e(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.initPTS=null}var t=e.prototype;return t.resetInitSegment=function(e,t,n){this._id3Track={type:"id3",id:0,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},t.resetTimeStamp=function(){},t.resetContiguity=function(){},t.canParse=function(e,t){return!1},t.appendFrame=function(e,t,n){},t.demux=function(e,t){this.cachedData&&(e=Object(o.appendUint8Array)(this.cachedData,e),this.cachedData=null);var n,r,l=i.getID3Data(e,0),u=l?l.length:0,d=this._audioTrack,f=this._id3Track,h=l?i.getTimeStamp(l):void 0,p=e.length;for(0!==this.frameIndex&&null!==this.initPTS||(this.initPTS=c(h,t)),l&&l.length>0&&f.samples.push({pts:this.initPTS,dts:this.initPTS,data:l}),r=this.initPTS;u<p;){if(this.canParse(e,u)){var g=this.appendFrame(d,e,u);g?(this.frameIndex++,r=g.sample.pts,n=u+=g.length):u=p}else i.canParse(e,u)?(l=i.getID3Data(e,u),f.samples.push({pts:r,dts:r,data:l}),n=u+=l.length):u++;if(u===p&&n!==p){var v=Object(s.sliceUint8)(e,n);this.cachedData?this.cachedData=Object(o.appendUint8Array)(this.cachedData,v):this.cachedData=v}}return{audioTrack:d,avcTrack:Object(a.dummyTrack)(),id3Track:f,textTrack:Object(a.dummyTrack)()}},t.demuxSampleAes=function(e,t,n){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},t.flush=function(e){var t=this.cachedData;return t&&(this.cachedData=null,this.demux(t,0)),this.frameIndex=0,{audioTrack:this._audioTrack,avcTrack:Object(a.dummyTrack)(),id3Track:this._id3Track,textTrack:Object(a.dummyTrack)()}},t.destroy=function(){},e}(),c=function(e,t){return Object(r.isFiniteNumber)(e)?90*e:9e4*t};t.default=l},"./src/demux/chunk-cache.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return r}));var r=function(){function e(){this.chunks=[],this.dataLength=0}var t=e.prototype;return t.push=function(e){this.chunks.push(e),this.dataLength+=e.length},t.flush=function(){var e,t=this.chunks,n=this.dataLength;return t.length?(e=1===t.length?t[0]:function(e,t){for(var n=new Uint8Array(t),r=0,i=0;i<e.length;i++){var a=e[i];n.set(a,r),r+=a.length}return n}(t,n),this.reset(),e):new Uint8Array(0)},t.reset=function(){this.chunks.length=0,this.dataLength=0},e}()},"./src/demux/dummy-demuxed-track.ts":function(e,t,n){function r(){return{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0}}n.r(t),n.d(t,"dummyTrack",(function(){return r}))},"./src/demux/exp-golomb.ts":function(e,t,n){n.r(t);var r=n("./src/utils/logger.ts"),i=function(){function e(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}var t=e.prototype;return t.loadWord=function(){var e=this.data,t=this.bytesAvailable,n=e.byteLength-t,r=new Uint8Array(4),i=Math.min(4,t);if(0===i)throw new Error("no bytes available");r.set(e.subarray(n,n+i)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i},t.skipBits=function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,e-=(t=e>>3)>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)},t.readBits=function(e){var t=Math.min(this.bitsAvailable,e),n=this.word>>>32-t;return e>32&&r.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),(t=e-t)>0&&this.bitsAvailable?n<<t|this.readBits(t):n},t.skipLZ=function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},t.skipUEG=function(){this.skipBits(1+this.skipLZ())},t.skipEG=function(){this.skipBits(1+this.skipLZ())},t.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},t.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},t.readBoolean=function(){return 1===this.readBits(1)},t.readUByte=function(){return this.readBits(8)},t.readUShort=function(){return this.readBits(16)},t.readUInt=function(){return this.readBits(32)},t.skipScalingList=function(e){for(var t=8,n=8,r=0;r<e;r++)0!==n&&(n=(t+this.readEG()+256)%256),t=0===n?t:n},t.readSPS=function(){var e,t,n,r=0,i=0,a=0,o=0,s=this.readUByte.bind(this),l=this.readBits.bind(this),c=this.readUEG.bind(this),u=this.readBoolean.bind(this),d=this.skipBits.bind(this),f=this.skipEG.bind(this),h=this.skipUEG.bind(this),p=this.skipScalingList.bind(this);s();var g=s();if(l(5),d(3),s(),h(),100===g||110===g||122===g||244===g||44===g||83===g||86===g||118===g||128===g){var v=c();if(3===v&&d(1),h(),h(),d(1),u())for(t=3!==v?8:12,n=0;n<t;n++)u()&&p(n<6?16:64)}h();var m=c();if(0===m)c();else if(1===m)for(d(1),f(),f(),e=c(),n=0;n<e;n++)f();h(),d(1);var b=c(),y=c(),E=l(1);0===E&&d(1),d(1),u()&&(r=c(),i=c(),a=c(),o=c());var O=[1,1];if(u()&&u())switch(s()){case 1:O=[1,1];break;case 2:O=[12,11];break;case 3:O=[10,11];break;case 4:O=[16,11];break;case 5:O=[40,33];break;case 6:O=[24,11];break;case 7:O=[20,11];break;case 8:O=[32,11];break;case 9:O=[80,33];break;case 10:O=[18,11];break;case 11:O=[15,11];break;case 12:O=[64,33];break;case 13:O=[160,99];break;case 14:O=[4,3];break;case 15:O=[3,2];break;case 16:O=[2,1];break;case 255:O=[s()<<8|s(),s()<<8|s()]}return{width:Math.ceil(16*(b+1)-2*r-2*i),height:(2-E)*(y+1)*16-(E?2:4)*(a+o),pixelRatio:O}},t.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},e}();t.default=i},"./src/demux/id3.ts":function(e,t,n){n.r(t),n.d(t,"isHeader",(function(){return i})),n.d(t,"isFooter",(function(){return a})),n.d(t,"getID3Data",(function(){return o})),n.d(t,"canParse",(function(){return l})),n.d(t,"getTimeStamp",(function(){return c})),n.d(t,"isTimeStampFrame",(function(){return u})),n.d(t,"getID3Frames",(function(){return f})),n.d(t,"decodeFrame",(function(){return h})),n.d(t,"utf8ArrayToStr",(function(){return b})),n.d(t,"testables",(function(){return y}));var r,i=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},a=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},o=function(e,t){for(var n=t,r=0;i(e,t);)r+=10,r+=s(e,t+6),a(e,t+10)&&(r+=10),t+=r;if(r>0)return e.subarray(n,n+r)},s=function(e,t){var n=0;return n=(127&e[t])<<21,n|=(127&e[t+1])<<14,n|=(127&e[t+2])<<7,n|127&e[t+3]},l=function(e,t){return i(e,t)&&s(e,t+6)+10<=e.length-t},c=function(e){for(var t=f(e),n=0;n<t.length;n++){var r=t[n];if(u(r))return m(r)}},u=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},d=function(e){var t=String.fromCharCode(e[0],e[1],e[2],e[3]),n=s(e,4);return{type:t,size:n,data:e.subarray(10,10+n)}},f=function(e){for(var t=0,n=[];i(e,t);){for(var r=s(e,t+6),o=(t+=10)+r;t+8<o;){var l=d(e.subarray(t)),c=h(l);c&&n.push(c),t+=l.size+10}a(e,t)&&(t+=10)}return n},h=function(e){return"PRIV"===e.type?p(e):"W"===e.type[0]?v(e):g(e)},p=function(e){if(!(e.size<2)){var t=b(e.data,!0),n=new Uint8Array(e.data.subarray(t.length+1));return{key:e.type,info:t,data:n.buffer}}},g=function(e){if(!(e.size<2)){if("TXXX"===e.type){var t=1,n=b(e.data.subarray(t),!0);t+=n.length+1;var r=b(e.data.subarray(t));return{key:e.type,info:n,data:r}}var i=b(e.data.subarray(1));return{key:e.type,data:i}}},v=function(e){if("WXXX"===e.type){if(e.size<2)return;var t=1,n=b(e.data.subarray(t),!0);t+=n.length+1;var r=b(e.data.subarray(t));return{key:e.type,info:n,data:r}}var i=b(e.data);return{key:e.type,data:i}},m=function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),n=1&t[3],r=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return r/=45,n&&(r+=47721858.84),Math.round(r)}},b=function(e,t){void 0===t&&(t=!1);var n=(r||void 0===self.TextDecoder||(r=new self.TextDecoder("utf-8")),r);if(n){var i=n.decode(e);if(t){var a=i.indexOf("\0");return-1!==a?i.substring(0,a):i}return i.replace(/\0/g,"")}for(var o,s,l,c=e.length,u="",d=0;d<c;){if(0===(o=e[d++])&&t)return u;if(0!==o&&3!==o)switch(o>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:u+=String.fromCharCode(o);break;case 12:case 13:s=e[d++],u+=String.fromCharCode((31&o)<<6|63&s);break;case 14:s=e[d++],l=e[d++],u+=String.fromCharCode((15&o)<<12|(63&s)<<6|(63&l)<<0)}}return u},y={decodeTextFrame:g}},"./src/demux/mp3demuxer.ts":function(e,t,n){n.r(t);var r=n("./src/demux/base-audio-demuxer.ts"),i=n("./src/demux/id3.ts"),a=n("./src/utils/logger.ts"),o=n("./src/demux/mpegaudio.ts");function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,s(t,n);var l=r.prototype;return l.resetInitSegment=function(t,n,r){e.prototype.resetInitSegment.call(this,t,n,r),this._audioTrack={container:"audio/mpeg",type:"audio",id:0,pid:-1,sequenceNumber:0,isAAC:!1,samples:[],manifestCodec:t,duration:r,inputTimeScale:9e4,dropped:0}},r.probe=function(e){if(!e)return!1;for(var t=(i.getID3Data(e,0)||[]).length,n=e.length;t<n;t++)if(o.probe(e,t))return a.logger.log("MPEG Audio sync word found !"),!0;return!1},l.canParse=function(e,t){return o.canParse(e,t)},l.appendFrame=function(e,t,n){if(null!==this.initPTS)return o.appendFrame(e,t,n,this.initPTS,this.frameIndex)},r}(r.default);l.minProbeByteLength=4,t.default=l},"./src/demux/mp4demuxer.ts":function(e,t,n){n.r(t);var r=n("./src/utils/mp4-tools.ts"),i=n("./src/demux/dummy-demuxed-track.ts"),a=function(){function e(e,t){this.remainderData=null,this.config=void 0,this.config=t}var t=e.prototype;return t.resetTimeStamp=function(){},t.resetInitSegment=function(){},t.resetContiguity=function(){},e.probe=function(e){return Object(r.findBox)({data:e,start:0,end:Math.min(e.length,16384)},["moof"]).length>0},t.demux=function(e){var t=e,n=Object(i.dummyTrack)();if(this.config.progressive){this.remainderData&&(t=Object(r.appendUint8Array)(this.remainderData,e));var a=Object(r.segmentValidRange)(t);this.remainderData=a.remainder,n.samples=a.valid||new Uint8Array}else n.samples=t;return{audioTrack:Object(i.dummyTrack)(),avcTrack:n,id3Track:Object(i.dummyTrack)(),textTrack:Object(i.dummyTrack)()}},t.flush=function(){var e=Object(i.dummyTrack)();return e.samples=this.remainderData||new Uint8Array,this.remainderData=null,{audioTrack:Object(i.dummyTrack)(),avcTrack:e,id3Track:Object(i.dummyTrack)(),textTrack:Object(i.dummyTrack)()}},t.demuxSampleAes=function(e,t,n){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},t.destroy=function(){},e}();a.minProbeByteLength=1024,t.default=a},"./src/demux/mpegaudio.ts":function(e,t,n){n.r(t),n.d(t,"appendFrame",(function(){return l})),n.d(t,"parseHeader",(function(){return c})),n.d(t,"isHeaderPattern",(function(){return u})),n.d(t,"isHeader",(function(){return d})),n.d(t,"canParse",(function(){return f})),n.d(t,"probe",(function(){return h}));var r=null,i=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],a=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],o=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],s=[0,1,1,4];function l(e,t,n,r,i){if(!(n+24>t.length)){var a=c(t,n);if(a&&n+a.frameLength<=t.length){var o=r+i*(9e4*a.samplesPerFrame/a.sampleRate),s={unit:t.subarray(n,n+a.frameLength),pts:o,dts:o};return e.config=[],e.channelCount=a.channelCount,e.samplerate=a.sampleRate,e.samples.push(s),{sample:s,length:a.frameLength,missing:0}}}}function c(e,t){var n=e[t+1]>>3&3,l=e[t+1]>>1&3,c=e[t+2]>>4&15,u=e[t+2]>>2&3;if(1!==n&&0!==c&&15!==c&&3!==u){var d=e[t+2]>>1&1,f=e[t+3]>>6,h=1e3*i[14*(3===n?3-l:3===l?3:4)+c-1],p=a[3*(3===n?0:2===n?1:2)+u],g=3===f?1:2,v=o[n][l],m=s[l],b=8*v*m,y=Math.floor(v*h/p+d)*m;if(null===r){var E=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);r=E?parseInt(E[1]):0}return!!r&&r<=87&&2===l&&h>=224e3&&0===f&&(e[t+3]=128|e[t+3]),{sampleRate:p,channelCount:g,frameLength:y,samplesPerFrame:b}}}function u(e,t){return 255===e[t]&&224==(224&e[t+1])&&0!=(6&e[t+1])}function d(e,t){return t+1<e.length&&u(e,t)}function f(e,t){return u(e,t)&&4<=e.length-t}function h(e,t){if(t+1<e.length&&u(e,t)){var n=c(e,t),r=4;null!=n&&n.frameLength&&(r=n.frameLength);var i=t+r;return i===e.length||d(e,i)}return!1}},"./src/demux/sample-aes.ts":function(e,t,n){n.r(t);var r=n("./src/crypt/decrypter.ts"),i=n("./src/demux/tsdemuxer.ts"),a=function(){function e(e,t,n){this.keyData=void 0,this.decrypter=void 0,this.keyData=n,this.decrypter=new r.default(e,t,{removePKCS7Padding:!1})}var t=e.prototype;return t.decryptBuffer=function(e,t){this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer,t)},t.decryptAacSample=function(e,t,n,r){var i=e[t].unit,a=i.subarray(16,i.length-i.length%16),o=a.buffer.slice(a.byteOffset,a.byteOffset+a.length),s=this;this.decryptBuffer(o,(function(a){var o=new Uint8Array(a);i.set(o,16),r||s.decryptAacSamples(e,t+1,n)}))},t.decryptAacSamples=function(e,t,n){for(;;t++){if(t>=e.length)return void n();if(!(e[t].unit.length<32)){var r=this.decrypter.isSync();if(this.decryptAacSample(e,t,n,r),!r)return}}},t.getAvcEncryptedData=function(e){for(var t=16*Math.floor((e.length-48)/160)+16,n=new Int8Array(t),r=0,i=32;i<=e.length-16;i+=160,r+=16)n.set(e.subarray(i,i+16),r);return n},t.getAvcDecryptedUnit=function(e,t){for(var n=new Uint8Array(t),r=0,i=32;i<=e.length-16;i+=160,r+=16)e.set(n.subarray(r,r+16),i);return e},t.decryptAvcSample=function(e,t,n,r,a,o){var s=Object(i.discardEPB)(a.data),l=this.getAvcEncryptedData(s),c=this;this.decryptBuffer(l.buffer,(function(i){a.data=c.getAvcDecryptedUnit(s,i),o||c.decryptAvcSamples(e,t,n+1,r)}))},t.decryptAvcSamples=function(e,t,n,r){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;t++,n=0){if(t>=e.length)return void r();for(var i=e[t].units;!(n>=i.length);n++){var a=i[n];if(!(a.data.length<=48||1!==a.type&&5!==a.type)){var o=this.decrypter.isSync();if(this.decryptAvcSample(e,t,n,r,a,o),!o)return}}}},e}();t.default=a},"./src/demux/transmuxer-interface.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return d}));var r=n("./node_modules/webworkify-webpack/index.js"),i=n("./src/events.ts"),a=n("./src/demux/transmuxer.ts"),o=n("./src/utils/logger.ts"),s=n("./src/errors.ts"),l=n("./src/utils/mediasource-helper.ts"),c=n("./node_modules/eventemitter3/index.js"),u=Object(l.getMediaSource)()||{isTypeSupported:function(){return!1}},d=function(){function e(e,t,n,l){var d=this;this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.worker=void 0,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.hls=e,this.id=t,this.onTransmuxComplete=n,this.onFlush=l;var f=e.config,h=function(t,n){(n=n||{}).frag=d.frag,n.id=d.id,e.trigger(t,n)};this.observer=new c.EventEmitter,this.observer.on(i.Events.FRAG_DECRYPTED,h),this.observer.on(i.Events.ERROR,h);var p={mp4:u.isTypeSupported("video/mp4"),mpeg:u.isTypeSupported("audio/mpeg"),mp3:u.isTypeSupported('audio/mp4; codecs="mp3"')},g=navigator.vendor;if(f.enableWorker&&"undefined"!=typeof Worker){var v;o.logger.log("demuxing in webworker");try{v=this.worker=r("./src/demux/transmuxer-worker.ts"),this.onwmsg=this.onWorkerMessage.bind(this),v.addEventListener("message",this.onwmsg),v.onerror=function(t){e.trigger(i.Events.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",error:new Error(t.message+"  ("+t.filename+":"+t.lineno+")")})},v.postMessage({cmd:"init",typeSupported:p,vendor:g,id:t,config:JSON.stringify(f)})}catch(m){o.logger.warn("Error in worker:",m),o.logger.error("Error while initializing DemuxerWorker, fallback to inline"),v&&self.URL.revokeObjectURL(v.objectURL),this.transmuxer=new a.default(this.observer,p,f,g,t),this.worker=null}}else this.transmuxer=new a.default(this.observer,p,f,g,t)}var t=e.prototype;return t.destroy=function(){var e=this.worker;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.worker=null;else{var t=this.transmuxer;t&&(t.destroy(),this.transmuxer=null)}var n=this.observer;n&&n.removeAllListeners(),this.observer=null},t.push=function(e,t,n,r,i,s,l,c,u,d){var f=this;u.transmuxing.start=self.performance.now();var h=this.transmuxer,p=this.worker,g=s?s.start:i.start,v=i.decryptdata,m=this.frag,b=!(m&&i.cc===m.cc),y=!(m&&u.level===m.level),E=m?u.sn-m.sn:-1,O=this.part?u.part-this.part.index:1,T=!y&&(1===E||0===E&&1===O),_=self.performance.now();(y||E||0===i.stats.parsing.start)&&(i.stats.parsing.start=_),!s||!O&&T||(s.stats.parsing.start=_);var S=new a.TransmuxState(b,T,c,y,g);if(!T||b){o.logger.log("[transmuxer-interface, "+i.type+"]: Starting new transmux session for sn: "+u.sn+" p: "+u.part+" level: "+u.level+" id: "+u.id+"\n        discontinuity: "+b+"\n        trackSwitch: "+y+"\n        contiguous: "+T+"\n        accurateTimeOffset: "+c+"\n        timeOffset: "+g);var k=new a.TransmuxConfig(n,r,t,l,d);this.configureTransmuxer(k)}if(this.frag=i,this.part=s,p)p.postMessage({cmd:"demux",data:e,decryptdata:v,chunkMeta:u,state:S},e instanceof ArrayBuffer?[e]:[]);else if(h){var L=h.push(e,v,u,S);Object(a.isPromise)(L)?L.then((function(e){f.handleTransmuxComplete(e)})):this.handleTransmuxComplete(L)}},t.flush=function(e){var t=this;e.transmuxing.start=self.performance.now();var n=this.transmuxer,r=this.worker;if(r)r.postMessage({cmd:"flush",chunkMeta:e});else if(n){var i=n.flush(e);Object(a.isPromise)(i)?i.then((function(n){t.handleFlushResult(n,e)})):this.handleFlushResult(i,e)}},t.handleFlushResult=function(e,t){var n=this;e.forEach((function(e){n.handleTransmuxComplete(e)})),this.onFlush(t)},t.onWorkerMessage=function(e){var t=e.data,n=this.hls;switch(t.event){case"init":self.URL.revokeObjectURL(this.worker.objectURL);break;case"transmuxComplete":this.handleTransmuxComplete(t.data);break;case"flush":this.onFlush(t.data);break;default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,n.trigger(t.event,t.data)}},t.configureTransmuxer=function(e){var t=this.worker,n=this.transmuxer;t?t.postMessage({cmd:"configure",config:e}):n&&n.configure(e)},t.handleTransmuxComplete=function(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)},e}()},"./src/demux/transmuxer-worker.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return s}));var r=n("./src/demux/transmuxer.ts"),i=n("./src/events.ts"),a=n("./src/utils/logger.ts"),o=n("./node_modules/eventemitter3/index.js");function s(e){var t=new o.EventEmitter,n=function(t,n){e.postMessage({event:t,data:n})};t.on(i.Events.FRAG_DECRYPTED,n),t.on(i.Events.ERROR,n),e.addEventListener("message",(function(i){var o=i.data;switch(o.cmd){case"init":var s=JSON.parse(o.config);e.transmuxer=new r.default(t,o.typeSupported,s,o.vendor,o.id),Object(a.enableLogs)(s.debug),n("init",null);break;case"configure":e.transmuxer.configure(o.config);break;case"demux":var c=e.transmuxer.push(o.data,o.decryptdata,o.chunkMeta,o.state);Object(r.isPromise)(c)?c.then((function(t){l(e,t)})):l(e,c);break;case"flush":var d=o.chunkMeta,f=e.transmuxer.flush(d);Object(r.isPromise)(f)?f.then((function(t){u(e,t,d)})):u(e,f,d)}}))}function l(e,t){if((n=t.remuxResult).audio||n.video||n.text||n.id3||n.initSegment){var n,r=[],i=t.remuxResult,a=i.audio,o=i.video;a&&c(r,a),o&&c(r,o),e.postMessage({event:"transmuxComplete",data:t},r)}}function c(e,t){t.data1&&e.push(t.data1.buffer),t.data2&&e.push(t.data2.buffer)}function u(e,t,n){t.forEach((function(t){l(e,t)})),e.postMessage({event:"flush",data:n})}},"./src/demux/transmuxer.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return b})),n.d(t,"isPromise",(function(){return E})),n.d(t,"TransmuxConfig",(function(){return O})),n.d(t,"TransmuxState",(function(){return T}));var r,i=n("./src/events.ts"),a=n("./src/errors.ts"),o=n("./src/crypt/decrypter.ts"),s=n("./src/demux/aacdemuxer.ts"),l=n("./src/demux/mp4demuxer.ts"),c=n("./src/demux/tsdemuxer.ts"),u=n("./src/demux/mp3demuxer.ts"),d=n("./src/remux/mp4-remuxer.ts"),f=n("./src/remux/passthrough-remuxer.ts"),h=n("./src/demux/chunk-cache.ts"),p=n("./src/utils/mp4-tools.ts"),g=n("./src/utils/logger.ts");try{r=self.performance.now.bind(self.performance)}catch(_){g.logger.debug("Unable to use Performance API on this environment"),r=self.Date.now}var v=[{demux:c.default,remux:d.default},{demux:l.default,remux:f.default},{demux:s.default,remux:d.default},{demux:u.default,remux:d.default}],m=1024;v.forEach((function(e){var t=e.demux;m=Math.max(m,t.minProbeByteLength)}));var b=function(){function e(e,t,n,r,i){this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.cache=new h.default,this.observer=e,this.typeSupported=t,this.config=n,this.vendor=r,this.id=i}var t=e.prototype;return t.configure=function(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()},t.push=function(e,t,n,i){var a=this,o=n.transmuxing;o.executeStart=r();var s=new Uint8Array(e),l=this.cache,c=this.config,u=this.currentTransmuxState,d=this.transmuxConfig;i&&(this.currentTransmuxState=i);var f=function(e,t){var n=null;return e.byteLength>0&&null!=t&&null!=t.key&&null!==t.iv&&null!=t.method&&(n=t),n}(s,t);if(f&&"AES-128"===f.method){var h=this.getDecrypter();if(!c.enableSoftwareAES)return this.decryptionPromise=h.webCryptoDecrypt(s,f.key.buffer,f.iv.buffer).then((function(e){var t=a.push(e,null,n);return a.decryptionPromise=null,t})),this.decryptionPromise;var g=h.softwareDecrypt(s,f.key.buffer,f.iv.buffer);if(!g)return o.executeEnd=r(),y(n);s=new Uint8Array(g)}var v=i||u,m=v.contiguous,b=v.discontinuity,E=v.trackSwitch,O=v.accurateTimeOffset,T=v.timeOffset,_=d.audioCodec,S=d.videoCodec,k=d.defaultInitPts,L=d.duration,A=d.initSegmentData;if((b||E)&&this.resetInitSegment(A,_,S,L),b&&this.resetInitialTimestamp(k),m||this.resetContiguity(),this.needsProbing(s,b,E)){if(l.dataLength){var w=l.flush();s=Object(p.appendUint8Array)(w,s)}this.configureTransmuxer(s,d)}var C=this.transmux(s,f,T,O,n),j=this.currentTransmuxState;return j.contiguous=!0,j.discontinuity=!1,j.trackSwitch=!1,o.executeEnd=r(),C},t.flush=function(e){var t=this,n=e.transmuxing;n.executeStart=r();var o=this.decrypter,s=this.cache,l=this.currentTransmuxState,c=this.decryptionPromise;if(c)return c.then((function(){return t.flush(e)}));var u=[],d=l.timeOffset;if(o){var f=o.flush();f&&u.push(this.push(f,null,e))}var h=s.dataLength;s.reset();var p=this.demuxer,g=this.remuxer;if(!p||!g)return h>=m&&this.observer.emit(i.Events.ERROR,i.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"}),n.executeEnd=r(),[y(e)];var v=p.flush(d);return E(v)?v.then((function(n){return t.flushRemux(u,n,e),u})):(this.flushRemux(u,v,e),u)},t.flushRemux=function(e,t,n){var i=t.audioTrack,a=t.avcTrack,o=t.id3Track,s=t.textTrack,l=this.currentTransmuxState,c=l.accurateTimeOffset,u=l.timeOffset;g.logger.log("[transmuxer.ts]: Flushed fragment "+n.sn+(n.part>-1?" p: "+n.part:"")+" of level "+n.level);var d=this.remuxer.remux(i,a,o,s,u,c,!0,this.id);e.push({remuxResult:d,chunkMeta:n}),n.transmuxing.executeEnd=r()},t.resetInitialTimestamp=function(e){var t=this.demuxer,n=this.remuxer;t&&n&&(t.resetTimeStamp(e),n.resetTimeStamp(e))},t.resetContiguity=function(){var e=this.demuxer,t=this.remuxer;e&&t&&(e.resetContiguity(),t.resetNextTimestamp())},t.resetInitSegment=function(e,t,n,r){var i=this.demuxer,a=this.remuxer;i&&a&&(i.resetInitSegment(t,n,r),a.resetInitSegment(e,t,n))},t.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},t.transmux=function(e,t,n,r,i){return t&&"SAMPLE-AES"===t.method?this.transmuxSampleAes(e,t,n,r,i):this.transmuxUnencrypted(e,n,r,i)},t.transmuxUnencrypted=function(e,t,n,r){var i=this.demuxer.demux(e,t,!1,!this.config.progressive),a=i.audioTrack,o=i.avcTrack,s=i.id3Track,l=i.textTrack;return{remuxResult:this.remuxer.remux(a,o,s,l,t,n,!1,this.id),chunkMeta:r}},t.transmuxSampleAes=function(e,t,n,r,i){var a=this;return this.demuxer.demuxSampleAes(e,t,n).then((function(e){return{remuxResult:a.remuxer.remux(e.audioTrack,e.avcTrack,e.id3Track,e.textTrack,n,r,!1,a.id),chunkMeta:i}}))},t.configureTransmuxer=function(e,t){for(var n,r=this.config,i=this.observer,a=this.typeSupported,o=this.vendor,s=t.audioCodec,c=t.defaultInitPts,u=t.duration,d=t.initSegmentData,h=t.videoCodec,p=0,m=v.length;p<m;p++)if(v[p].demux.probe(e)){n=v[p];break}n||(g.logger.warn("Failed to find demuxer by probing frag, treating as mp4 passthrough"),n={demux:l.default,remux:f.default});var b=this.demuxer,y=this.remuxer,E=n.remux,O=n.demux;y&&y instanceof E||(this.remuxer=new E(i,r,a,o)),b&&b instanceof O||(this.demuxer=new O(i,r,a),this.probe=O.probe),this.resetInitSegment(d,s,h,u),this.resetInitialTimestamp(c)},t.needsProbing=function(e,t,n){return!this.demuxer||!this.remuxer||t||n},t.getDecrypter=function(){var e=this.decrypter;return e||(e=this.decrypter=new o.default(this.observer,this.config)),e},e}(),y=function(e){return{remuxResult:{},chunkMeta:e}};function E(e){return"then"in e&&e.then instanceof Function}var O=function(e,t,n,r,i){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=t,this.initSegmentData=n,this.duration=r,this.defaultInitPts=i},T=function(e,t,n,r,i){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.discontinuity=e,this.contiguous=t,this.accurateTimeOffset=n,this.trackSwitch=r,this.timeOffset=i}},"./src/demux/tsdemuxer.ts":function(e,t,n){n.r(t),n.d(t,"discardEPB",(function(){return E}));var r=n("./src/demux/adts.ts"),i=n("./src/demux/mpegaudio.ts"),a=n("./src/demux/exp-golomb.ts"),o=n("./src/demux/id3.ts"),s=n("./src/demux/sample-aes.ts"),l=n("./src/events.ts"),c=n("./src/utils/mp4-tools.ts"),u=n("./src/utils/logger.ts"),d=n("./src/errors.ts"),f={video:1,audio:2,id3:3,text:4},h=function(){function e(e,t,n){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this.aacLastPTS=null,this._initPTS=null,this._initDTS=null,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=e,this.config=t,this.typeSupported=n}e.probe=function(t){var n=e.syncOffset(t);return!(n<0||(n&&u.logger.warn("MPEG2-TS detected but first sync word found @ offset "+n+", junk ahead ?"),0))},e.syncOffset=function(e){for(var t=Math.min(1e3,e.length-564),n=0;n<t;){if(71===e[n]&&71===e[n+188]&&71===e[n+376])return n;n++}return-1},e.createTrack=function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:f[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===e?t:void 0}};var t=e.prototype;return t.resetInitSegment=function(t,n,r){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=e.createTrack("video",r),this._audioTrack=e.createTrack("audio",r),this._id3Track=e.createTrack("id3",r),this._txtTrack=e.createTrack("text",r),this._audioTrack.isAAC=!0,this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=t,this.videoCodec=n,this._duration=r},t.resetTimeStamp=function(){},t.resetContiguity=function(){var e=this._audioTrack,t=this._avcTrack,n=this._id3Track;e&&(e.pesData=null),t&&(t.pesData=null),n&&(n.pesData=null),this.aacOverFlow=null,this.aacLastPTS=null},t.demux=function(t,n,r,i){var a;void 0===r&&(r=!1),void 0===i&&(i=!1),r||(this.sampleAes=null);var o=this._avcTrack,s=this._audioTrack,f=this._id3Track,h=o.pid,p=o.pesData,b=s.pid,y=f.pid,E=s.pesData,O=f.pesData,T=!1,_=this.pmtParsed,S=this._pmtId,k=t.length;if(this.remainderData&&(k=(t=Object(c.appendUint8Array)(this.remainderData,t)).length,this.remainderData=null),k<188&&!i)return this.remainderData=t,{audioTrack:s,avcTrack:o,id3Track:f,textTrack:this._txtTrack};var L=Math.max(0,e.syncOffset(t));(k-=(k+L)%188)<t.byteLength&&!i&&(this.remainderData=new Uint8Array(t.buffer,k,t.buffer.byteLength-k));for(var A=L;A<k;A+=188)if(71===t[A]){var w=!!(64&t[A+1]),C=((31&t[A+1])<<8)+t[A+2],j=void 0;if((48&t[A+3])>>4>1){if((j=A+5+t[A+4])===A+188)continue}else j=A+4;switch(C){case h:w&&(p&&(a=m(p))&&this.parseAVCPES(a,!1),p={data:[],size:0}),p&&(p.data.push(t.subarray(j,A+188)),p.size+=A+188-j);break;case b:w&&(E&&(a=m(E))&&(s.isAAC?this.parseAACPES(a):this.parseMPEGPES(a)),E={data:[],size:0}),E&&(E.data.push(t.subarray(j,A+188)),E.size+=A+188-j);break;case y:w&&(O&&(a=m(O))&&this.parseID3PES(a),O={data:[],size:0}),O&&(O.data.push(t.subarray(j,A+188)),O.size+=A+188-j);break;case 0:w&&(j+=t[j]+1),S=this._pmtId=g(t,j);break;case S:w&&(j+=t[j]+1);var D=v(t,j,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,r);(h=D.avc)>0&&(o.pid=h),(b=D.audio)>0&&(s.pid=b,s.isAAC=D.isAAC),(y=D.id3)>0&&(f.pid=y),T&&!_&&(u.logger.log("reparse from beginning"),T=!1,A=L-188),_=this.pmtParsed=!0;break;case 17:case 8191:break;default:T=!0}}else this.observer.emit(l.Events.ERROR,l.Events.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});o.pesData=p,s.pesData=E,f.pesData=O;var R={audioTrack:s,avcTrack:o,id3Track:f,textTrack:this._txtTrack};return i&&this.extractRemainingSamples(R),R},t.flush=function(){var e,t=this.remainderData;return this.remainderData=null,e=t?this.demux(t,-1,!1,!0):{audioTrack:this._audioTrack,avcTrack:this._avcTrack,textTrack:this._txtTrack,id3Track:this._id3Track},this.extractRemainingSamples(e),this.sampleAes?this.decrypt(e,this.sampleAes):e},t.extractRemainingSamples=function(e){var t,n=e.audioTrack,r=e.avcTrack,i=e.id3Track,a=r.pesData,o=n.pesData,s=i.pesData;a&&(t=m(a))?(this.parseAVCPES(t,!0),r.pesData=null):r.pesData=a,o&&(t=m(o))?(n.isAAC?this.parseAACPES(t):this.parseMPEGPES(t),n.pesData=null):(null!=o&&o.size&&u.logger.log("last AAC PES packet truncated,might overlap between fragments"),n.pesData=o),s&&(t=m(s))?(this.parseID3PES(t),i.pesData=null):i.pesData=s},t.demuxSampleAes=function(e,t,n){var r=this.demux(e,n,!0,!this.config.progressive),i=this.sampleAes=new s.default(this.observer,this.config,t);return this.decrypt(r,i)},t.decrypt=function(e,t){return new Promise((function(n){var r=e.audioTrack,i=e.avcTrack;r.samples&&r.isAAC?t.decryptAacSamples(r.samples,0,(function(){i.samples?t.decryptAvcSamples(i.samples,0,0,(function(){n(e)})):n(e)})):i.samples&&t.decryptAvcSamples(i.samples,0,0,(function(){n(e)}))}))},t.destroy=function(){this._initPTS=this._initDTS=null,this._duration=0},t.parseAVCPES=function(e,t){var n,r=this,i=this._avcTrack,s=this.parseAVCNALu(e.data),l=this.avcSample,c=!1;e.data=null,l&&s.length&&!i.audFound&&(b(l,i),l=this.avcSample=p(!1,e.pts,e.dts,"")),s.forEach((function(t){switch(t.type){case 1:n=!0,l||(l=r.avcSample=p(!0,e.pts,e.dts,"")),l.frame=!0;var s=t.data;if(c&&s.length>4){var u=new a.default(s).readSliceType();2!==u&&4!==u&&7!==u&&9!==u||(l.key=!0)}break;case 5:n=!0,l||(l=r.avcSample=p(!0,e.pts,e.dts,"")),l.key=!0,l.frame=!0;break;case 6:n=!0;var d=new a.default(E(t.data));d.readUByte();for(var f=0,h=0,g=!1,v=0;!g&&d.bytesAvailable>1;){f=0;do{f+=v=d.readUByte()}while(255===v);h=0;do{h+=v=d.readUByte()}while(255===v);if(4===f&&0!==d.bytesAvailable){if(g=!0,181===d.readUByte()&&49===d.readUShort()&&1195456820===d.readUInt()&&3===d.readUByte()){for(var m=d.readUByte(),O=31&m,T=[m,d.readUByte()],_=0;_<O;_++)T.push(d.readUByte()),T.push(d.readUByte()),T.push(d.readUByte());y(r._txtTrack.samples,{type:3,pts:e.pts,bytes:T})}}else if(5===f&&0!==d.bytesAvailable){if(g=!0,h>16){for(var S=[],k=0;k<16;k++)S.push(d.readUByte().toString(16)),3!==k&&5!==k&&7!==k&&9!==k||S.push("-");for(var L=h-16,A=new Uint8Array(L),w=0;w<L;w++)A[w]=d.readUByte();y(r._txtTrack.samples,{pts:e.pts,payloadType:f,uuid:S.join(""),userData:Object(o.utf8ArrayToStr)(A),userDataBytes:A})}}else if(h<d.bytesAvailable)for(var C=0;C<h;C++)d.readUByte()}break;case 7:if(n=!0,c=!0,!i.sps){var j=new a.default(t.data).readSPS();i.width=j.width,i.height=j.height,i.pixelRatio=j.pixelRatio,i.sps=[t.data],i.duration=r._duration;for(var D=t.data.subarray(1,4),R="avc1.",I=0;I<3;I++){var x=D[I].toString(16);x.length<2&&(x="0"+x),R+=x}i.codec=R}break;case 8:n=!0,i.pps||(i.pps=[t.data]);break;case 9:n=!1,i.audFound=!0,l&&b(l,i),l=r.avcSample=p(!1,e.pts,e.dts,"");break;case 12:n=!1;break;default:n=!1,l&&(l.debug+="unknown NAL "+t.type+" ")}l&&n&&l.units.push(t)})),t&&l&&(b(l,i),this.avcSample=null)},t.getLastNalUnit=function(){var e,t,n=this.avcSample;if(!n||0===n.units.length){var r=this._avcTrack.samples;n=r[r.length-1]}if(null!==(e=n)&&void 0!==e&&e.units){var i=n.units;t=i[i.length-1]}return t},t.parseAVCNALu=function(e){var t,n,r=e.byteLength,i=this._avcTrack,a=i.naluState||0,o=a,s=[],l=0,c=-1,u=0;for(-1===a&&(c=0,u=31&e[0],a=0,l=1);l<r;)if(t=e[l++],a)if(1!==a)if(t)if(1===t){if(c>=0){var d={data:e.subarray(c,l-a-1),type:u};s.push(d)}else{var f=this.getLastNalUnit();if(f&&(o&&l<=4-o&&f.state&&(f.data=f.data.subarray(0,f.data.byteLength-o)),(n=l-a-1)>0)){var h=new Uint8Array(f.data.byteLength+n);h.set(f.data,0),h.set(e.subarray(0,n),f.data.byteLength),f.data=h}}l<r?(c=l,u=31&e[l],a=0):a=-1}else a=0;else a=3;else a=t?0:2;else a=t?0:1;if(c>=0&&a>=0){var p={data:e.subarray(c,r),type:u,state:a};s.push(p)}if(0===s.length){var g=this.getLastNalUnit();if(g){var v=new Uint8Array(g.data.byteLength+e.byteLength);v.set(g.data,0),v.set(e,g.data.byteLength),g.data=v}}return i.naluState=a,s},t.parseAACPES=function(e){var t,n,i,a,o,s=0,c=this._audioTrack,f=this.aacOverFlow,h=e.data;if(f){this.aacOverFlow=null;var p=f.sample.unit.byteLength,g=Math.min(f.missing,p),v=p-g;f.sample.unit.set(h.subarray(0,g),v),c.samples.push(f.sample),s=f.missing}for(t=s,n=h.length;t<n-1&&!r.isHeader(h,t);t++);if(t===s||(t<n-1?(i="AAC PES did not start with ADTS header,offset:"+t,a=!1):(i="no ADTS header found in AAC PES",a=!0),u.logger.warn("parsing error:"+i),this.observer.emit(l.Events.ERROR,l.Events.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.FRAG_PARSING_ERROR,fatal:a,reason:i}),!a)){if(r.initTrackConfig(c,this.observer,h,t,this.audioCodec),void 0!==e.pts)o=e.pts;else{if(!f)return void u.logger.warn("[tsdemuxer]: AAC PES unknown PTS");var m=r.getFrameDuration(c.samplerate);o=f.sample.pts+m}for(var b=0;t<n;){if(r.isHeader(h,t)){if(t+5<n){var y=r.appendFrame(c,h,t,o,b);if(y){if(!y.missing){t+=y.length,b++;continue}this.aacOverFlow=y}}break}t++}}},t.parseMPEGPES=function(e){var t=e.data,n=t.length,r=0,a=0,o=e.pts;if(void 0!==o)for(;a<n;)if(i.isHeader(t,a)){var s=i.appendFrame(this._audioTrack,t,a,o,r);if(!s)break;a+=s.length,r++}else a++;else u.logger.warn("[tsdemuxer]: MPEG PES unknown PTS")},t.parseID3PES=function(e){void 0!==e.pts?this._id3Track.samples.push(e):u.logger.warn("[tsdemuxer]: ID3 PES unknown PTS")},e}();function p(e,t,n,r){return{key:e,frame:!1,pts:t,dts:n,units:[],debug:r,length:0}}function g(e,t){return(31&e[t+10])<<8|e[t+11]}function v(e,t,n,r){var i={audio:-1,avc:-1,id3:-1,isAAC:!0},a=t+3+((15&e[t+1])<<8|e[t+2])-4;for(t+=12+((15&e[t+10])<<8|e[t+11]);t<a;){var o=(31&e[t+1])<<8|e[t+2];switch(e[t]){case 207:if(!r){u.logger.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===i.audio&&(i.audio=o);break;case 21:-1===i.id3&&(i.id3=o);break;case 219:if(!r){u.logger.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===i.avc&&(i.avc=o);break;case 3:case 4:n?-1===i.audio&&(i.audio=o,i.isAAC=!1):u.logger.log("MPEG audio found, not supported in this browser");break;case 36:u.logger.warn("Unsupported HEVC stream type found")}t+=5+((15&e[t+3])<<8|e[t+4])}return i}function m(e){var t,n,r,i,a,o=0,s=e.data;if(!e||0===e.size)return null;for(;s[0].length<19&&s.length>1;){var l=new Uint8Array(s[0].length+s[1].length);l.set(s[0]),l.set(s[1],s[0].length),s[0]=l,s.splice(1,1)}if(1===((t=s[0])[0]<<16)+(t[1]<<8)+t[2]){if((n=(t[4]<<8)+t[5])&&n>e.size-6)return null;var c=t[7];192&c&&(i=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,64&c?i-(a=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2)>54e5&&(u.logger.warn(Math.round((i-a)/9e4)+"s delta between PTS and DTS, align them"),i=a):a=i);var d=(r=t[8])+9;if(e.size<=d)return null;e.size-=d;for(var f=new Uint8Array(e.size),h=0,p=s.length;h<p;h++){var g=(t=s[h]).byteLength;if(d){if(d>g){d-=g;continue}t=t.subarray(d),g-=d,d=0}f.set(t,o),o+=g}return n&&(n-=r+3),{data:f,pts:i,dts:a,len:n}}return null}function b(e,t){if(e.units.length&&e.frame){if(void 0===e.pts){var n=t.samples,r=n.length;if(!r)return void t.dropped++;var i=n[r-1];e.pts=i.pts,e.dts=i.dts}t.samples.push(e)}e.debug.length&&u.logger.log(e.pts+"/"+e.dts+":"+e.debug)}function y(e,t){var n=e.length;if(n>0){if(t.pts>=e[n-1].pts)e.push(t);else for(var r=n-1;r>=0;r--)if(t.pts<e[r].pts){e.splice(r,0,t);break}}else e.push(t)}function E(e){for(var t=e.byteLength,n=[],r=1;r<t-2;)0===e[r]&&0===e[r+1]&&3===e[r+2]?(n.push(r+2),r+=2):r++;if(0===n.length)return e;var i=t-n.length,a=new Uint8Array(i),o=0;for(r=0;r<i;o++,r++)o===n[0]&&(o++,n.shift()),a[r]=e[o];return a}h.minProbeByteLength=188,t.default=h},"./src/errors.ts":function(e,t,n){var r,i,a,o;n.r(t),n.d(t,"ErrorTypes",(function(){return r})),n.d(t,"ErrorDetails",(function(){return a})),(i=r||(r={})).NETWORK_ERROR="networkError",i.MEDIA_ERROR="mediaError",i.KEY_SYSTEM_ERROR="keySystemError",i.MUX_ERROR="muxError",i.OTHER_ERROR="otherError",(o=a||(a={})).KEY_SYSTEM_NO_KEYS="keySystemNoKeys",o.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",o.KEY_SYSTEM_NO_SESSION="keySystemNoSession",o.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",o.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",o.MANIFEST_LOAD_ERROR="manifestLoadError",o.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",o.MANIFEST_PARSING_ERROR="manifestParsingError",o.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",o.LEVEL_EMPTY_ERROR="levelEmptyError",o.LEVEL_LOAD_ERROR="levelLoadError",o.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",o.LEVEL_SWITCH_ERROR="levelSwitchError",o.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",o.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",o.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",o.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",o.FRAG_LOAD_ERROR="fragLoadError",o.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",o.FRAG_DECRYPT_ERROR="fragDecryptError",o.FRAG_PARSING_ERROR="fragParsingError",o.REMUX_ALLOC_ERROR="remuxAllocError",o.KEY_LOAD_ERROR="keyLoadError",o.KEY_LOAD_TIMEOUT="keyLoadTimeOut",o.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",o.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",o.BUFFER_APPEND_ERROR="bufferAppendError",o.BUFFER_APPENDING_ERROR="bufferAppendingError",o.BUFFER_STALLED_ERROR="bufferStalledError",o.BUFFER_FULL_ERROR="bufferFullError",o.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",o.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",o.INTERNAL_EXCEPTION="internalException",o.INTERNAL_ABORTED="aborted",o.UNKNOWN="unknown"},"./src/events.ts":function(e,t,n){var r,i;n.r(t),n.d(t,"Events",(function(){return r})),(i=r||(r={})).MEDIA_ATTACHING="hlsMediaAttaching",i.MEDIA_ATTACHED="hlsMediaAttached",i.MEDIA_DETACHING="hlsMediaDetaching",i.MEDIA_DETACHED="hlsMediaDetached",i.BUFFER_RESET="hlsBufferReset",i.BUFFER_CODECS="hlsBufferCodecs",i.BUFFER_CREATED="hlsBufferCreated",i.BUFFER_APPENDING="hlsBufferAppending",i.BUFFER_APPENDED="hlsBufferAppended",i.BUFFER_EOS="hlsBufferEos",i.BUFFER_FLUSHING="hlsBufferFlushing",i.BUFFER_FLUSHED="hlsBufferFlushed",i.MANIFEST_LOADING="hlsManifestLoading",i.MANIFEST_LOADED="hlsManifestLoaded",i.MANIFEST_PARSED="hlsManifestParsed",i.LEVEL_SWITCHING="hlsLevelSwitching",i.LEVEL_SWITCHED="hlsLevelSwitched",i.LEVEL_LOADING="hlsLevelLoading",i.LEVEL_LOADED="hlsLevelLoaded",i.LEVEL_UPDATED="hlsLevelUpdated",i.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",i.LEVELS_UPDATED="hlsLevelsUpdated",i.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",i.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",i.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",i.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",i.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",i.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",i.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",i.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",i.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",i.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",i.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",i.CUES_PARSED="hlsCuesParsed",i.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",i.INIT_PTS_FOUND="hlsInitPtsFound",i.FRAG_LOADING="hlsFragLoading",i.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",i.FRAG_LOADED="hlsFragLoaded",i.FRAG_DECRYPTED="hlsFragDecrypted",i.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",i.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",i.FRAG_PARSING_METADATA="hlsFragParsingMetadata",i.FRAG_PARSED="hlsFragParsed",i.FRAG_BUFFERED="hlsFragBuffered",i.FRAG_CHANGED="hlsFragChanged",i.FPS_DROP="hlsFpsDrop",i.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",i.ERROR="hlsError",i.DESTROYING="hlsDestroying",i.KEY_LOADING="hlsKeyLoading",i.KEY_LOADED="hlsKeyLoaded",i.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",i.BACK_BUFFER_REACHED="hlsBackBufferReached"},"./src/hls.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return b}));var r=n("./node_modules/url-toolkit/src/url-toolkit.js"),i=n("./src/loader/playlist-loader.ts"),a=n("./src/loader/key-loader.ts"),o=n("./src/controller/id3-track-controller.ts"),s=n("./src/controller/latency-controller.ts"),l=n("./src/controller/level-controller.ts"),c=n("./src/controller/fragment-tracker.ts"),u=n("./src/controller/stream-controller.ts"),d=n("./src/is-supported.ts"),f=n("./src/utils/logger.ts"),h=n("./src/config.ts"),p=n("./node_modules/eventemitter3/index.js"),g=n("./src/events.ts"),v=n("./src/errors.ts");function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var b=function(){function e(t){void 0===t&&(t={}),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new p.EventEmitter,this._autoLevelCapping=void 0,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this._media=null,this.url=null;var n=this.config=Object(h.mergeConfig)(e.DefaultConfig,t);this.userConfig=t,Object(f.enableLogs)(n.debug),this._autoLevelCapping=-1,n.progressive&&Object(h.enableStreamingMode)(n);var r=n.abrController,d=n.bufferController,g=n.capLevelController,v=n.fpsController,m=this.abrController=new r(this),b=this.bufferController=new d(this),y=this.capLevelController=new g(this),E=new v(this),O=new i.default(this),T=new a.default(this),_=new o.default(this),S=this.levelController=new l.default(this),k=new c.FragmentTracker(this),L=this.streamController=new u.default(this,k);y.setStreamController(L),E.setStreamController(L);var A=[S,L];this.networkControllers=A;var w=[O,T,m,b,y,E,_,k];this.audioTrackController=this.createController(n.audioTrackController,null,A),this.createController(n.audioStreamController,k,A),this.subtitleTrackController=this.createController(n.subtitleTrackController,null,A),this.createController(n.subtitleStreamController,k,A),this.createController(n.timelineController,null,w),this.emeController=this.createController(n.emeController,null,w),this.latencyController=this.createController(s.default,null,w),this.coreComponents=w}e.isSupported=function(){return Object(d.isSupported)()};var t,n,b,y=e.prototype;return y.createController=function(e,t,n){if(e){var r=t?new e(this,t):new e(this);return n&&n.push(r),r}return null},y.on=function(e,t,n){void 0===n&&(n=this),this._emitter.on(e,t,n)},y.once=function(e,t,n){void 0===n&&(n=this),this._emitter.once(e,t,n)},y.removeAllListeners=function(e){this._emitter.removeAllListeners(e)},y.off=function(e,t,n,r){void 0===n&&(n=this),this._emitter.off(e,t,n,r)},y.listeners=function(e){return this._emitter.listeners(e)},y.emit=function(e,t,n){return this._emitter.emit(e,t,n)},y.trigger=function(e,t){if(this.config.debug)return this.emit(e,e,t);try{return this.emit(e,e,t)}catch(n){f.logger.error("An internal error happened while handling event "+e+'. Error message: "'+n.message+'". Here is a stacktrace:',n),this.trigger(g.Events.ERROR,{type:v.ErrorTypes.OTHER_ERROR,details:v.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:e,error:n})}return!1},y.listenerCount=function(e){return this._emitter.listenerCount(e)},y.destroy=function(){f.logger.log("destroy"),this.trigger(g.Events.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach((function(e){return e.destroy()})),this.networkControllers.length=0,this.coreComponents.forEach((function(e){return e.destroy()})),this.coreComponents.length=0},y.attachMedia=function(e){f.logger.log("attachMedia"),this._media=e,this.trigger(g.Events.MEDIA_ATTACHING,{media:e})},y.detachMedia=function(){f.logger.log("detachMedia"),this.trigger(g.Events.MEDIA_DETACHING,void 0),this._media=null},y.loadSource=function(e){this.stopLoad();var t=this.media,n=this.url,i=this.url=r.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});f.logger.log("loadSource:"+i),t&&n&&n!==i&&this.bufferController.hasSourceTypes()&&(this.detachMedia(),this.attachMedia(t)),this.trigger(g.Events.MANIFEST_LOADING,{url:e})},y.startLoad=function(e){void 0===e&&(e=-1),f.logger.log("startLoad("+e+")"),this.networkControllers.forEach((function(t){t.startLoad(e)}))},y.stopLoad=function(){f.logger.log("stopLoad"),this.networkControllers.forEach((function(e){e.stopLoad()}))},y.swapAudioCodec=function(){f.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},y.recoverMediaError=function(){f.logger.log("recoverMediaError");var e=this._media;this.detachMedia(),e&&this.attachMedia(e)},y.removeLevel=function(e,t){void 0===t&&(t=0),this.levelController.removeLevel(e,t)},t=e,b=[{key:"version",get:function(){return"1.0.10"}},{key:"Events",get:function(){return g.Events}},{key:"ErrorTypes",get:function(){return v.ErrorTypes}},{key:"ErrorDetails",get:function(){return v.ErrorDetails}},{key:"DefaultConfig",get:function(){return e.defaultConfig?e.defaultConfig:h.hlsDefaultConfig},set:function(t){e.defaultConfig=t}}],(n=[{key:"levels",get:function(){var e=this.levelController.levels;return e||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){f.logger.log("set currentLevel:"+e),this.loadLevel=e,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){f.logger.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){f.logger.log("set loadLevel:"+e),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){f.logger.log("set firstLevel:"+e),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){f.logger.log("set startLevel:"+e),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(e){var t=!!e;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){this._autoLevelCapping!==e&&(f.logger.log("set autoLevelCapping:"+e),this._autoLevelCapping=e)}},{key:"bandwidthEstimate",get:function(){var e=this.abrController.bwEstimator;return e?e.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var e=this.levels,t=this.config.minAutoBitrate;if(!e)return 0;for(var n=e.length,r=0;r<n;r++)if(e[r].maxBitrate>t)return r;return 0}},{key:"maxAutoLevel",get:function(){var e=this.levels,t=this.autoLevelCapping;return-1===t&&e&&e.length?e.length-1:t}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)}},{key:"audioTracks",get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]}},{key:"audioTrack",get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)}},{key:"subtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(e){this.config.lowLatencyMode=e}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}])&&m(t.prototype,n),b&&m(t,b),e}();b.defaultConfig=void 0},"./src/is-supported.ts":function(e,t,n){n.r(t),n.d(t,"isSupported",(function(){return a})),n.d(t,"changeTypeSupported",(function(){return o}));var r=n("./src/utils/mediasource-helper.ts");function i(){return self.SourceBuffer||self.WebKitSourceBuffer}function a(){var e=Object(r.getMediaSource)();if(!e)return!1;var t=i(),n=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),a=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return!!n&&!!a}function o(){var e,t=i();return"function"==typeof(null==t||null===(e=t.prototype)||void 0===e?void 0:e.changeType)}},"./src/loader/fragment-loader.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return d})),n.d(t,"LoadError",(function(){return h}));var r=n("./src/polyfills/number.ts"),i=n("./src/errors.ts");function a(e){var t="function"==typeof Map?new Map:void 0;return(a=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return o(e,arguments,c(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),l(r,e)})(e)}function o(e,t,n){return(o=s()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&l(i,n.prototype),i}).apply(null,arguments)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=Math.pow(2,17),d=function(){function e(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}var t=e.prototype;return t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t.abort=function(){this.loader&&this.loader.abort()},t.load=function(e,t){var n=this,r=e.url;if(!r)return Promise.reject(new h({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e,networkDetails:null},"Fragment does not have a "+(r?"part list":"url")));this.abort();var a=this.config,o=a.fLoader,s=a.loader;return new Promise((function(r,l){n.loader&&n.loader.destroy();var c=n.loader=e.loader=o?new o(a):new s(a),d=f(e),p={timeout:a.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:a.fragLoadingMaxRetryTimeout,highWaterMark:u};e.stats=c.stats,c.load(d,p,{onSuccess:function(t,i,a,o){n.resetLoader(e,c),r({frag:e,part:null,payload:t.data,networkDetails:o})},onError:function(t,r,a){n.resetLoader(e,c),l(new h({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:t,networkDetails:a}))},onAbort:function(t,r,a){n.resetLoader(e,c),l(new h({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:e,networkDetails:a}))},onTimeout:function(t,r,a){n.resetLoader(e,c),l(new h({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,networkDetails:a}))},onProgress:function(n,r,i,a){t&&t({frag:e,part:null,payload:i,networkDetails:a})}})}))},t.loadPart=function(e,t,n){var r=this;this.abort();var a=this.config,o=a.fLoader,s=a.loader;return new Promise((function(l,c){r.loader&&r.loader.destroy();var d=r.loader=e.loader=o?new o(a):new s(a),p=f(e,t),g={timeout:a.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:a.fragLoadingMaxRetryTimeout,highWaterMark:u};t.stats=d.stats,d.load(p,g,{onSuccess:function(i,a,o,s){r.resetLoader(e,d),r.updateStatsFromPart(e,t);var c={frag:e,part:t,payload:i.data,networkDetails:s};n(c),l(c)},onError:function(n,a,o){r.resetLoader(e,d),c(new h({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:t,response:n,networkDetails:o}))},onAbort:function(n,a,o){e.stats.aborted=t.stats.aborted,r.resetLoader(e,d),c(new h({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:e,part:t,networkDetails:o}))},onTimeout:function(n,a,o){r.resetLoader(e,d),c(new h({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:t,networkDetails:o}))}})}))},t.updateStatsFromPart=function(e,t){var n=e.stats,r=t.stats,i=r.total;if(n.loaded+=r.loaded,i){var a=Math.round(e.duration/t.duration),o=Math.min(Math.round(n.loaded/i),a),s=(a-o)*Math.round(n.loaded/o);n.total=n.loaded+s}else n.total=Math.max(n.loaded,n.total);var l=n.loading,c=r.loading;l.start?l.first+=c.first-c.start:(l.start=c.start,l.first=c.first),l.end=c.end},t.resetLoader=function(e,t){e.loader=null,this.loader===t&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),t.destroy()},e}();function f(e,t){void 0===t&&(t=null);var n=t||e,i={frag:e,part:t,responseType:"arraybuffer",url:n.url,rangeStart:0,rangeEnd:0},a=n.byteRangeStartOffset,o=n.byteRangeEndOffset;return Object(r.isFiniteNumber)(a)&&Object(r.isFiniteNumber)(o)&&(i.rangeStart=a,i.rangeEnd=o),i}var h=function(e){var t,n;function r(t){for(var n,r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return(n=e.call.apply(e,[this].concat(i))||this).data=void 0,n.data=t,n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,l(t,n),r}(a(Error))},"./src/loader/fragment.ts":function(e,t,n){n.r(t),n.d(t,"ElementaryStreamTypes",(function(){return r})),n.d(t,"BaseSegment",(function(){return p})),n.d(t,"Fragment",(function(){return g})),n.d(t,"Part",(function(){return v}));var r,i,a=n("./src/polyfills/number.ts"),o=n("./node_modules/url-toolkit/src/url-toolkit.js"),s=n("./src/utils/logger.ts"),l=n("./src/loader/level-key.ts"),c=n("./src/loader/load-stats.ts");function u(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}(i=r||(r={})).AUDIO="audio",i.VIDEO="video",i.AUDIOVIDEO="audiovideo";var p=function(){function e(e){var t;this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=((t={})[r.AUDIO]=null,t[r.VIDEO]=null,t[r.AUDIOVIDEO]=null,t),this.baseurl=e}return e.prototype.setByteRange=function(e,t){var n=e.split("@",2),r=[];1===n.length?r[0]=t?t.byteRangeEndOffset:0:r[0]=parseInt(n[1]),r[1]=parseInt(n[0])+r[0],this._byteRange=r},h(e,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Object(o.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(e){this._url=e}}]),e}(),g=function(e){function t(t,n){var r;return(r=e.call(this,n)||this)._decryptdata=null,r.rawProgramDateTime=null,r.programDateTime=null,r.tagList=[],r.duration=0,r.sn=0,r.levelkey=void 0,r.type=void 0,r.loader=null,r.level=-1,r.cc=0,r.startPTS=void 0,r.endPTS=void 0,r.appendedPTS=void 0,r.startDTS=void 0,r.endDTS=void 0,r.start=0,r.deltaPTS=void 0,r.maxStartPTS=void 0,r.minEndPTS=void 0,r.stats=new c.LoadStats,r.urlId=0,r.data=void 0,r.bitrateTest=!1,r.title=null,r.initSegment=null,r.type=t,r}u(t,e);var n=t.prototype;return n.createInitializationVector=function(e){for(var t=new Uint8Array(16),n=12;n<16;n++)t[n]=e>>8*(15-n)&255;return t},n.setDecryptDataFromLevelKey=function(e,t){var n=e;return"AES-128"===(null==e?void 0:e.method)&&e.uri&&!e.iv&&((n=l.LevelKey.fromURI(e.uri)).method=e.method,n.iv=this.createInitializationVector(t),n.keyFormat="identity"),n},n.setElementaryStreamInfo=function(e,t,n,r,i,a){void 0===a&&(a=!1);var o=this.elementaryStreams,s=o[e];s?(s.startPTS=Math.min(s.startPTS,t),s.endPTS=Math.max(s.endPTS,n),s.startDTS=Math.min(s.startDTS,r),s.endDTS=Math.max(s.endDTS,i)):o[e]={startPTS:t,endPTS:n,startDTS:r,endDTS:i,partial:a}},n.clearElementaryStreamInfo=function(){var e=this.elementaryStreams;e[r.AUDIO]=null,e[r.VIDEO]=null,e[r.AUDIOVIDEO]=null},h(t,[{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var e=this.sn;"number"!=typeof e&&(this.levelkey&&"AES-128"===this.levelkey.method&&!this.levelkey.iv&&s.logger.warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),e=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,e)}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!Object(a.isFiniteNumber)(this.programDateTime))return null;var e=Object(a.isFiniteNumber)(this.duration)?this.duration:0;return this.programDateTime+1e3*e}},{key:"encrypted",get:function(){var e;return!(null===(e=this.decryptdata)||void 0===e||!e.keyFormat||!this.decryptdata.uri)}}]),t}(p),v=function(e){function t(t,n,r,i,a){var o;(o=e.call(this,r)||this).fragOffset=0,o.duration=0,o.gap=!1,o.independent=!1,o.relurl=void 0,o.fragment=void 0,o.index=void 0,o.stats=new c.LoadStats,o.duration=t.decimalFloatingPoint("DURATION"),o.gap=t.bool("GAP"),o.independent=t.bool("INDEPENDENT"),o.relurl=t.enumeratedString("URI"),o.fragment=n,o.index=i;var s=t.enumeratedString("BYTERANGE");return s&&o.setByteRange(s,a),a&&(o.fragOffset=a.fragOffset+a.duration),o}return u(t,e),h(t,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var e=this.elementaryStreams;return!!(e.audio||e.video||e.audiovideo)}}]),t}(p)},"./src/loader/key-loader.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return o}));var r=n("./src/events.ts"),i=n("./src/errors.ts"),a=n("./src/utils/logger.ts"),o=function(){function e(e){this.hls=void 0,this.loaders={},this.decryptkey=null,this.decrypturl=null,this.hls=e,this._registerListeners()}var t=e.prototype;return t._registerListeners=function(){this.hls.on(r.Events.KEY_LOADING,this.onKeyLoading,this)},t._unregisterListeners=function(){this.hls.off(r.Events.KEY_LOADING,this.onKeyLoading)},t.destroy=function(){for(var e in this._unregisterListeners(),this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={}},t.onKeyLoading=function(e,t){var n=t.frag,i=n.type,o=this.loaders[i];if(n.decryptdata){var s=n.decryptdata.uri;if(s!==this.decrypturl||null===this.decryptkey){var l=this.hls.config;if(o&&(a.logger.warn("abort previous key loader for type:"+i),o.abort()),!s)return void a.logger.warn("key uri is falsy");var c=l.loader,u=n.loader=this.loaders[i]=new c(l);this.decrypturl=s,this.decryptkey=null;var d={url:s,frag:n,responseType:"arraybuffer"},f={timeout:l.fragLoadingTimeOut,maxRetry:0,retryDelay:l.fragLoadingRetryDelay,maxRetryDelay:l.fragLoadingMaxRetryTimeout,highWaterMark:0},h={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};u.load(d,f,h)}else this.decryptkey&&(n.decryptdata.key=this.decryptkey,this.hls.trigger(r.Events.KEY_LOADED,{frag:n}))}else a.logger.warn("Missing decryption data on fragment in onKeyLoading")},t.loadsuccess=function(e,t,n){var i=n.frag;i.decryptdata?(this.decryptkey=i.decryptdata.key=new Uint8Array(e.data),i.loader=null,delete this.loaders[i.type],this.hls.trigger(r.Events.KEY_LOADED,{frag:i})):a.logger.error("after key load, decryptdata unset")},t.loaderror=function(e,t){var n=t.frag,a=n.loader;a&&a.abort(),delete this.loaders[n.type],this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:n,response:e})},t.loadtimeout=function(e,t){var n=t.frag,a=n.loader;a&&a.abort(),delete this.loaders[n.type],this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:n})},e}()},"./src/loader/level-details.ts":function(e,t,n){n.r(t),n.d(t,"LevelDetails",(function(){return a}));var r=n("./src/polyfills/number.ts");function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.fragments=[],this.url=e}var t,n,a;return e.prototype.reloaded=function(e){if(!e)return this.advanced=!0,void(this.updated=!0);var t=this.lastPartSn-e.lastPartSn,n=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!n||!!t,this.advanced=this.endSN>e.endSN||t>0||0===t&&n>0,this.updated||this.advanced?this.misses=Math.floor(.6*e.misses):this.misses=e.misses+1,this.availabilityDelay=e.availabilityDelay},t=e,(n=[{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&Object(r.isFiniteNumber)(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var e=this.driftEndTime-this.driftStartTime;return e>0?1e3*(this.driftEnd-this.driftStart)/e:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var e;return null!==(e=this.partList)&&void 0!==e&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var e;return null!==(e=this.fragments)&&void 0!==e&&e.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var e;return null!==(e=this.partList)&&void 0!==e&&e.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var e;return null!==(e=this.partList)&&void 0!==e&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}])&&i(t.prototype,n),a&&i(t,a),e}()},"./src/loader/level-key.ts":function(e,t,n){n.r(t),n.d(t,"LevelKey",(function(){return a}));var r=n("./node_modules/url-toolkit/src/url-toolkit.js");function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(e,t){this._uri=null,this.method=null,this.keyFormat=null,this.keyFormatVersions=null,this.keyID=null,this.key=null,this.iv=null,this._uri=t?Object(r.buildAbsoluteURL)(e,t,{alwaysNormalize:!0}):e}var t,n,a;return e.fromURL=function(t,n){return new e(t,n)},e.fromURI=function(t){return new e(t)},t=e,(n=[{key:"uri",get:function(){return this._uri}}])&&i(t.prototype,n),a&&i(t,a),e}()},"./src/loader/load-stats.ts":function(e,t,n){n.r(t),n.d(t,"LoadStats",(function(){return r}));var r=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}},"./src/loader/m3u8-parser.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return v}));var r=n("./src/polyfills/number.ts"),i=n("./node_modules/url-toolkit/src/url-toolkit.js"),a=n("./src/loader/fragment.ts"),o=n("./src/loader/level-details.ts"),s=n("./src/loader/level-key.ts"),l=n("./src/utils/attr-list.ts"),c=n("./src/utils/logger.ts"),u=n("./src/utils/codecs.ts"),d=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-SESSION-DATA:([^\r\n]*)[\r\n]+/g,f=/#EXT-X-MEDIA:(.*)/g,h=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),p=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(PLAYLIST-TYPE):(.+)/.source,/#EXT-X-(MEDIA-SEQUENCE): *(\d+)/.source,/#EXT-X-(SKIP):(.+)/.source,/#EXT-X-(TARGETDURATION): *(\d+)/.source,/#EXT-X-(KEY):(.+)/.source,/#EXT-X-(START):(.+)/.source,/#EXT-X-(ENDLIST)/.source,/#EXT-X-(DISCONTINUITY-SEQ)UENCE: *(\d+)/.source,/#EXT-X-(DIS)CONTINUITY/.source,/#EXT-X-(VERSION):(\d+)/.source,/#EXT-X-(MAP):(.+)/.source,/#EXT-X-(SERVER-CONTROL):(.+)/.source,/#EXT-X-(PART-INF):(.+)/.source,/#EXT-X-(GAP)/.source,/#EXT-X-(BITRATE):\s*(\d+)/.source,/#EXT-X-(PART):(.+)/.source,/#EXT-X-(PRELOAD-HINT):(.+)/.source,/#EXT-X-(RENDITION-REPORT):(.+)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),g=/\.(mp4|m4s|m4v|m4a)$/i,v=function(){function e(){}return e.findGroup=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.id===t)return r}},e.convertAVC1ToAVCOTI=function(e){var t=e.split(".");if(t.length>2){var n=t.shift()+".";return n+=parseInt(t.shift()).toString(16),n+("000"+parseInt(t.shift()).toString(16)).substr(-4)}return e},e.resolve=function(e,t){return i.buildAbsoluteURL(t,e,{alwaysNormalize:!0})},e.parseMasterPlaylist=function(t,n){var r,i=[],a={},o=!1;for(d.lastIndex=0;null!=(r=d.exec(t));)if(r[1]){var s=new l.AttrList(r[1]),c={attrs:s,bitrate:s.decimalInteger("AVERAGE-BANDWIDTH")||s.decimalInteger("BANDWIDTH"),name:s.NAME,url:e.resolve(r[2],n)},u=s.decimalResolution("RESOLUTION");u&&(c.width=u.width,c.height=u.height),m((s.CODECS||"").split(/[ ,]+/).filter((function(e){return e})),c),c.videoCodec&&-1!==c.videoCodec.indexOf("avc1")&&(c.videoCodec=e.convertAVC1ToAVCOTI(c.videoCodec)),i.push(c)}else if(r[3]){var f=new l.AttrList(r[3]);f["DATA-ID"]&&(o=!0,a[f["DATA-ID"]]=f)}return{levels:i,sessionData:o?a:null}},e.parseMasterPlaylistMedia=function(t,n,r,i){var a;void 0===i&&(i=[]);var o=[],s=0;for(f.lastIndex=0;null!==(a=f.exec(t));){var c=new l.AttrList(a[1]);if(c.TYPE===r){var u={attrs:c,bitrate:0,id:s++,groupId:c["GROUP-ID"],instreamId:c["INSTREAM-ID"],name:c.NAME||c.LANGUAGE||"",type:r,default:c.bool("DEFAULT"),autoselect:c.bool("AUTOSELECT"),forced:c.bool("FORCED"),lang:c.LANGUAGE,url:c.URI?e.resolve(c.URI,n):""};if(i.length){var d=e.findGroup(i,u.groupId)||i[0];b(u,d,"audioCodec"),b(u,d,"textCodec")}o.push(u)}}return o},e.parseLevelPlaylist=function(e,t,n,u,d){var f,v,m,b=new o.LevelDetails(t),E=b.fragments,O=null,T=0,_=0,S=0,k=0,L=null,A=new a.Fragment(u,t),w=-1,C=!1;for(h.lastIndex=0,b.m3u8=e;null!==(f=h.exec(e));){C&&(C=!1,(A=new a.Fragment(u,t)).start=S,A.sn=T,A.cc=k,A.level=n,O&&(A.initSegment=O,A.rawProgramDateTime=O.rawProgramDateTime));var j=f[1];if(j){A.duration=parseFloat(j);var D=(" "+f[2]).slice(1);A.title=D||null,A.tagList.push(D?["INF",j,D]:["INF",j])}else if(f[3])Object(r.isFiniteNumber)(A.duration)&&(A.start=S,m&&(A.levelkey=m),A.sn=T,A.level=n,A.cc=k,A.urlId=d,E.push(A),A.relurl=(" "+f[3]).slice(1),y(A,L),L=A,S+=A.duration,T++,_=0,C=!0);else if(f[4]){var R=(" "+f[4]).slice(1);L?A.setByteRange(R,L):A.setByteRange(R)}else if(f[5])A.rawProgramDateTime=(" "+f[5]).slice(1),A.tagList.push(["PROGRAM-DATE-TIME",A.rawProgramDateTime]),-1===w&&(w=E.length);else{if(!(f=f[0].match(p))){c.logger.warn("No matches on slow regex match for level playlist!");continue}for(v=1;v<f.length&&void 0===f[v];v++);var I=(" "+f[v]).slice(1),x=(" "+f[v+1]).slice(1),P=f[v+2]?(" "+f[v+2]).slice(1):"";switch(I){case"PLAYLIST-TYPE":b.type=x.toUpperCase();break;case"MEDIA-SEQUENCE":T=b.startSN=parseInt(x);break;case"SKIP":var N=new l.AttrList(x),F=N.decimalInteger("SKIPPED-SEGMENTS");if(Object(r.isFiniteNumber)(F)){b.skippedSegments=F;for(var M=F;M--;)E.unshift(null);T+=F}var B=N.enumeratedString("RECENTLY-REMOVED-DATERANGES");B&&(b.recentlyRemovedDateranges=B.split("\t"));break;case"TARGETDURATION":b.targetduration=parseFloat(x);break;case"VERSION":b.version=parseInt(x);break;case"EXTM3U":break;case"ENDLIST":b.live=!1;break;case"#":(x||P)&&A.tagList.push(P?[x,P]:[x]);break;case"DIS":k++;case"GAP":A.tagList.push([I]);break;case"BITRATE":A.tagList.push([I,x]);break;case"DISCONTINUITY-SEQ":k=parseInt(x);break;case"KEY":var U,V=new l.AttrList(x),G=V.enumeratedString("METHOD"),H=V.URI,K=V.hexadecimalInteger("IV"),W=V.enumeratedString("KEYFORMATVERSIONS"),q=V.enumeratedString("KEYID"),Y=null!=(U=V.enumeratedString("KEYFORMAT"))?U:"identity";if(["com.apple.streamingkeydelivery","com.microsoft.playready","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","com.widevine"].indexOf(Y)>-1){c.logger.warn("Keyformat "+Y+" is not supported from the manifest");continue}if("identity"!==Y)continue;G&&(m=s.LevelKey.fromURL(t,H),H&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(G)>=0&&(m.method=G,m.keyFormat=Y,q&&(m.keyID=q),W&&(m.keyFormatVersions=W),m.iv=K));break;case"START":var $=new l.AttrList(x).decimalFloatingPoint("TIME-OFFSET");Object(r.isFiniteNumber)($)&&(b.startTimeOffset=$);break;case"MAP":var z=new l.AttrList(x);A.relurl=z.URI,z.BYTERANGE&&A.setByteRange(z.BYTERANGE),A.level=n,A.sn="initSegment",m&&(A.levelkey=m),A.initSegment=null,O=A,C=!0;break;case"SERVER-CONTROL":var X=new l.AttrList(x);b.canBlockReload=X.bool("CAN-BLOCK-RELOAD"),b.canSkipUntil=X.optionalFloat("CAN-SKIP-UNTIL",0),b.canSkipDateRanges=b.canSkipUntil>0&&X.bool("CAN-SKIP-DATERANGES"),b.partHoldBack=X.optionalFloat("PART-HOLD-BACK",0),b.holdBack=X.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var J=new l.AttrList(x);b.partTarget=J.decimalFloatingPoint("PART-TARGET");break;case"PART":var Q=b.partList;Q||(Q=b.partList=[]);var Z=_>0?Q[Q.length-1]:void 0,ee=_++,te=new a.Part(new l.AttrList(x),A,t,ee,Z);Q.push(te),A.duration+=te.duration;break;case"PRELOAD-HINT":var ne=new l.AttrList(x);b.preloadHint=ne;break;case"RENDITION-REPORT":var re=new l.AttrList(x);b.renditionReports=b.renditionReports||[],b.renditionReports.push(re);break;default:c.logger.warn("line parsed but not handled: "+f)}}}L&&!L.relurl?(E.pop(),S-=L.duration,b.partList&&(b.fragmentHint=L)):b.partList&&(y(A,L),A.cc=k,b.fragmentHint=A);var ie=E.length,ae=E[0],oe=E[ie-1];if((S+=b.skippedSegments*b.targetduration)>0&&ie&&oe){b.averagetargetduration=S/ie;var se=oe.sn;b.endSN="initSegment"!==se?se:0,ae&&(b.startCC=ae.cc,ae.initSegment||b.fragments.every((function(e){return e.relurl&&(t=e.relurl,g.test(null!=(n=null===(r=i.parseURL(t))||void 0===r?void 0:r.path)?n:""));var t,n,r}))&&(c.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(A=new a.Fragment(u,t)).relurl=oe.relurl,A.level=n,A.sn="initSegment",ae.initSegment=A,b.needSidxRanges=!0))}else b.endSN=0,b.startCC=0;return b.fragmentHint&&(S+=b.fragmentHint.duration),b.totalduration=S,b.endCC=k,w>0&&function(e,t){for(var n=e[t],r=t;r--;){var i=e[r];if(!i)return;i.programDateTime=n.programDateTime-1e3*i.duration,n=i}}(E,w),b},e}();function m(e,t){["video","audio","text"].forEach((function(n){var r=e.filter((function(e){return Object(u.isCodecType)(e,n)}));if(r.length){var i=r.filter((function(e){return 0===e.lastIndexOf("avc1",0)||0===e.lastIndexOf("mp4a",0)}));t[n+"Codec"]=i.length>0?i[0]:r[0],e=e.filter((function(e){return-1===r.indexOf(e)}))}})),t.unknownCodecs=e}function b(e,t,n){var r=t[n];r&&(e[n]=r)}function y(e,t){e.rawProgramDateTime?e.programDateTime=Date.parse(e.rawProgramDateTime):null!=t&&t.programDateTime&&(e.programDateTime=t.endProgramDateTime),Object(r.isFiniteNumber)(e.programDateTime)||(e.programDateTime=null,e.rawProgramDateTime=null)}},"./src/loader/playlist-loader.ts":function(e,t,n){n.r(t);var r=n("./src/polyfills/number.ts"),i=n("./src/events.ts"),a=n("./src/errors.ts"),o=n("./src/utils/logger.ts"),s=n("./src/utils/mp4-tools.ts"),l=n("./src/loader/m3u8-parser.ts"),c=n("./src/types/loader.ts"),u=n("./src/utils/attr-list.ts");function d(e,t){var n=e.url;return void 0!==n&&0!==n.indexOf("data:")||(n=t.url),n}var f=function(){function e(e){this.hls=void 0,this.loaders=Object.create(null),this.hls=e,this.registerListeners()}var t=e.prototype;return t.registerListeners=function(){var e=this.hls;e.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(i.Events.LEVEL_LOADING,this.onLevelLoading,this),e.on(i.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(i.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},t.unregisterListeners=function(){var e=this.hls;e.off(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(i.Events.LEVEL_LOADING,this.onLevelLoading,this),e.off(i.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(i.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},t.createInternalLoader=function(e){var t=this.hls.config,n=t.pLoader,r=t.loader,i=new(n||r)(t);return e.loader=i,this.loaders[e.type]=i,i},t.getInternalLoader=function(e){return this.loaders[e.type]},t.resetInternalLoader=function(e){this.loaders[e]&&delete this.loaders[e]},t.destroyInternalLoaders=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}},t.destroy=function(){this.unregisterListeners(),this.destroyInternalLoaders()},t.onManifestLoading=function(e,t){var n=t.url;this.load({id:null,groupId:null,level:0,responseType:"text",type:c.PlaylistContextType.MANIFEST,url:n,deliveryDirectives:null})},t.onLevelLoading=function(e,t){var n=t.id,r=t.level,i=t.url,a=t.deliveryDirectives;this.load({id:n,groupId:null,level:r,responseType:"text",type:c.PlaylistContextType.LEVEL,url:i,deliveryDirectives:a})},t.onAudioTrackLoading=function(e,t){var n=t.id,r=t.groupId,i=t.url,a=t.deliveryDirectives;this.load({id:n,groupId:r,level:null,responseType:"text",type:c.PlaylistContextType.AUDIO_TRACK,url:i,deliveryDirectives:a})},t.onSubtitleTrackLoading=function(e,t){var n=t.id,r=t.groupId,i=t.url,a=t.deliveryDirectives;this.load({id:n,groupId:r,level:null,responseType:"text",type:c.PlaylistContextType.SUBTITLE_TRACK,url:i,deliveryDirectives:a})},t.load=function(e){var t,n,r,i,a,s,l=this.hls.config,u=this.getInternalLoader(e);if(u){var d=u.context;if(d&&d.url===e.url)return void o.logger.trace("[playlist-loader]: playlist request ongoing");o.logger.log("[playlist-loader]: aborting previous loader for type: "+e.type),u.abort()}switch(e.type){case c.PlaylistContextType.MANIFEST:n=l.manifestLoadingMaxRetry,r=l.manifestLoadingTimeOut,i=l.manifestLoadingRetryDelay,a=l.manifestLoadingMaxRetryTimeout;break;case c.PlaylistContextType.LEVEL:case c.PlaylistContextType.AUDIO_TRACK:case c.PlaylistContextType.SUBTITLE_TRACK:n=0,r=l.levelLoadingTimeOut;break;default:n=l.levelLoadingMaxRetry,r=l.levelLoadingTimeOut,i=l.levelLoadingRetryDelay,a=l.levelLoadingMaxRetryTimeout}if(u=this.createInternalLoader(e),null!==(t=e.deliveryDirectives)&&void 0!==t&&t.part&&(e.type===c.PlaylistContextType.LEVEL&&null!==e.level?s=this.hls.levels[e.level].details:e.type===c.PlaylistContextType.AUDIO_TRACK&&null!==e.id?s=this.hls.audioTracks[e.id].details:e.type===c.PlaylistContextType.SUBTITLE_TRACK&&null!==e.id&&(s=this.hls.subtitleTracks[e.id].details),s)){var f=s.partTarget,h=s.targetduration;f&&h&&(r=Math.min(1e3*Math.max(3*f,.8*h),r))}var p={timeout:r,maxRetry:n,retryDelay:i,maxRetryDelay:a,highWaterMark:0},g={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};u.load(e,p,g)},t.loadsuccess=function(e,t,n,r){if(void 0===r&&(r=null),n.isSidxRequest)return this.handleSidxRequest(e,n),void this.handlePlaylistLoaded(e,t,n,r);this.resetInternalLoader(n.type);var i=e.data;0===i.indexOf("#EXTM3U")?(t.parsing.start=performance.now(),i.indexOf("#EXTINF:")>0||i.indexOf("#EXT-X-TARGETDURATION:")>0?this.handleTrackOrLevelPlaylist(e,t,n,r):this.handleMasterPlaylist(e,t,n,r)):this.handleManifestParsingError(e,n,"no EXTM3U delimiter",r)},t.loaderror=function(e,t,n){void 0===n&&(n=null),this.handleNetworkError(t,n,!1,e)},t.loadtimeout=function(e,t,n){void 0===n&&(n=null),this.handleNetworkError(t,n,!0)},t.handleMasterPlaylist=function(e,t,n,r){var a=this.hls,s=e.data,c=d(e,n),f=l.default.parseMasterPlaylist(s,c),h=f.levels,p=f.sessionData;if(h.length){var g=h.map((function(e){return{id:e.attrs.AUDIO,audioCodec:e.audioCodec}})),v=h.map((function(e){return{id:e.attrs.SUBTITLES,textCodec:e.textCodec}})),m=l.default.parseMasterPlaylistMedia(s,c,"AUDIO",g),b=l.default.parseMasterPlaylistMedia(s,c,"SUBTITLES",v),y=l.default.parseMasterPlaylistMedia(s,c,"CLOSED-CAPTIONS");m.length&&(m.some((function(e){return!e.url}))||!h[0].audioCodec||h[0].attrs.AUDIO||(o.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),m.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new u.AttrList({}),bitrate:0,url:""}))),a.trigger(i.Events.MANIFEST_LOADED,{levels:h,audioTracks:m,subtitles:b,captions:y,url:c,stats:t,networkDetails:r,sessionData:p})}else this.handleManifestParsingError(e,n,"no level found in manifest",r)},t.handleTrackOrLevelPlaylist=function(e,t,n,o){var s=this.hls,f=n.id,h=n.level,p=n.type,g=d(e,n),v=Object(r.isFiniteNumber)(f)?f:0,m=Object(r.isFiniteNumber)(h)?h:v,b=function(e){switch(e.type){case c.PlaylistContextType.AUDIO_TRACK:return c.PlaylistLevelType.AUDIO;case c.PlaylistContextType.SUBTITLE_TRACK:return c.PlaylistLevelType.SUBTITLE;default:return c.PlaylistLevelType.MAIN}}(n),y=l.default.parseLevelPlaylist(e.data,g,m,b,v);if(y.fragments.length){if(p===c.PlaylistContextType.MANIFEST){var E={attrs:new u.AttrList({}),bitrate:0,details:y,name:"",url:g};s.trigger(i.Events.MANIFEST_LOADED,{levels:[E],audioTracks:[],url:g,stats:t,networkDetails:o,sessionData:null})}if(t.parsing.end=performance.now(),y.needSidxRanges){var O,T=null===(O=y.fragments[0].initSegment)||void 0===O?void 0:O.url;this.load({url:T,isSidxRequest:!0,type:p,level:h,levelDetails:y,id:f,groupId:null,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer",deliveryDirectives:null})}else n.levelDetails=y,this.handlePlaylistLoaded(e,t,n,o)}else s.trigger(i.Events.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:g,reason:"no fragments found in level",level:"number"==typeof n.level?n.level:void 0})},t.handleSidxRequest=function(e,t){var n=Object(s.parseSegmentIndex)(new Uint8Array(e.data));if(n){var r=n.references,i=t.levelDetails;r.forEach((function(e,t){var r=e.info,a=i.fragments[t];0===a.byteRange.length&&a.setByteRange(String(1+r.end-r.start)+"@"+String(r.start)),a.initSegment&&a.initSegment.setByteRange(String(n.moovEndOffset)+"@0")}))}},t.handleManifestParsingError=function(e,t,n,r){this.hls.trigger(i.Events.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:t.type===c.PlaylistContextType.MANIFEST,url:e.url,reason:n,response:e,context:t,networkDetails:r})},t.handleNetworkError=function(e,t,n,r){void 0===n&&(n=!1),o.logger.warn("[playlist-loader]: A network "+(n?"timeout":"error")+" occurred while loading "+e.type+" level: "+e.level+" id: "+e.id+' group-id: "'+e.groupId+'"');var s=a.ErrorDetails.UNKNOWN,l=!1,u=this.getInternalLoader(e);switch(e.type){case c.PlaylistContextType.MANIFEST:s=n?a.ErrorDetails.MANIFEST_LOAD_TIMEOUT:a.ErrorDetails.MANIFEST_LOAD_ERROR,l=!0;break;case c.PlaylistContextType.LEVEL:s=n?a.ErrorDetails.LEVEL_LOAD_TIMEOUT:a.ErrorDetails.LEVEL_LOAD_ERROR,l=!1;break;case c.PlaylistContextType.AUDIO_TRACK:s=n?a.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:a.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,l=!1;break;case c.PlaylistContextType.SUBTITLE_TRACK:s=n?a.ErrorDetails.SUBTITLE_TRACK_LOAD_TIMEOUT:a.ErrorDetails.SUBTITLE_LOAD_ERROR,l=!1}u&&this.resetInternalLoader(e.type);var d={type:a.ErrorTypes.NETWORK_ERROR,details:s,fatal:l,url:e.url,loader:u,context:e,networkDetails:t};r&&(d.response=r),this.hls.trigger(i.Events.ERROR,d)},t.handlePlaylistLoaded=function(e,t,n,r){var a=n.type,o=n.level,s=n.id,l=n.groupId,u=n.loader,d=n.levelDetails,f=n.deliveryDirectives;if(null!=d&&d.targetduration){if(u)switch(d.live&&(u.getCacheAge&&(d.ageHeader=u.getCacheAge()||0),u.getCacheAge&&!isNaN(d.ageHeader)||(d.ageHeader=0)),a){case c.PlaylistContextType.MANIFEST:case c.PlaylistContextType.LEVEL:this.hls.trigger(i.Events.LEVEL_LOADED,{details:d,level:o||0,id:s||0,stats:t,networkDetails:r,deliveryDirectives:f});break;case c.PlaylistContextType.AUDIO_TRACK:this.hls.trigger(i.Events.AUDIO_TRACK_LOADED,{details:d,id:s||0,groupId:l||"",stats:t,networkDetails:r,deliveryDirectives:f});break;case c.PlaylistContextType.SUBTITLE_TRACK:this.hls.trigger(i.Events.SUBTITLE_TRACK_LOADED,{details:d,id:s||0,groupId:l||"",stats:t,networkDetails:r,deliveryDirectives:f})}}else this.handleManifestParsingError(e,n,"invalid target duration",r)},e}();t.default=f},"./src/polyfills/number.ts":function(e,t,n){n.r(t),n.d(t,"isFiniteNumber",(function(){return r})),n.d(t,"MAX_SAFE_INTEGER",(function(){return i}));var r=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},i=Number.MAX_SAFE_INTEGER||9007199254740991},"./src/remux/aac-helper.ts":function(e,t,n){n.r(t);var r=function(){function e(){}return e.getSilentFrame=function(e,t){switch(e){case"mp4a.40.2":if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}},e}();t.default=r},"./src/remux/mp4-generator.ts":function(e,t,n){n.r(t);var r=Math.pow(2,32)-1,i=function(){function e(){}return e.init=function(){var t;for(t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:n,audio:r};var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=a,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var o=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,o,l,o,s),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,i))},e.box=function(e){for(var t=8,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=r.length,o=a;a--;)t+=r[a].byteLength;var s=new Uint8Array(t);for(s[0]=t>>24&255,s[1]=t>>16&255,s[2]=t>>8&255,s[3]=255&t,s.set(e,4),a=0,t=8;a<o;a++)s.set(r[a],t),t+=r[a].byteLength;return s},e.hdlr=function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])},e.mdat=function(t){return e.box(e.types.mdat,t)},e.mdhd=function(t,n){n*=t;var i=Math.floor(n/(r+1)),a=Math.floor(n%(r+1));return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,i>>24,i>>16&255,i>>8&255,255&i,a>>24,a>>16&255,a>>8&255,255&a,85,196,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))},e.mfhd=function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))},e.minf=function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))},e.moof=function(t,n,r){return e.box(e.types.moof,e.mfhd(t),e.traf(r,n))},e.moov=function(t){for(var n=t.length,r=[];n--;)r[n]=e.trak(t[n]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(r).concat(e.mvex(t)))},e.mvex=function(t){for(var n=t.length,r=[];n--;)r[n]=e.trex(t[n]);return e.box.apply(null,[e.types.mvex].concat(r))},e.mvhd=function(t,n){n*=t;var i=Math.floor(n/(r+1)),a=Math.floor(n%(r+1)),o=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,i>>24,i>>16&255,i>>8&255,255&i,a>>24,a>>16&255,a>>8&255,255&a,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,o)},e.sdtp=function(t){var n,r,i=t.samples||[],a=new Uint8Array(4+i.length);for(n=0;n<i.length;n++)r=i[n].flags,a[n+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return e.box(e.types.sdtp,a)},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))},e.avc1=function(t){var n,r,i,a=[],o=[];for(n=0;n<t.sps.length;n++)i=(r=t.sps[n]).byteLength,a.push(i>>>8&255),a.push(255&i),a=a.concat(Array.prototype.slice.call(r));for(n=0;n<t.pps.length;n++)i=(r=t.pps[n]).byteLength,o.push(i>>>8&255),o.push(255&i),o=o.concat(Array.prototype.slice.call(r));var s=e.box(e.types.avcC,new Uint8Array([1,a[3],a[4],a[5],255,224|t.sps.length].concat(a).concat([t.pps.length]).concat(o))),l=t.width,c=t.height,u=t.pixelRatio[0],d=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,c>>8&255,255&c,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([u>>24,u>>16&255,u>>8&255,255&u,d>>24,d>>16&255,d>>8&255,255&d])))},e.esds=function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))},e.mp4a=function(t){var n=t.samplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]),e.box(e.types.esds,e.esds(t)))},e.mp3=function(t){var n=t.samplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]))},e.stsd=function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))},e.tkhd=function(t){var n=t.id,i=t.duration*t.timescale,a=t.width,o=t.height,s=Math.floor(i/(r+1)),l=Math.floor(i%(r+1));return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,l>>24,l>>16&255,l>>8&255,255&l,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,a>>8&255,255&a,0,0,o>>8&255,255&o,0,0]))},e.traf=function(t,n){var i=e.sdtp(t),a=t.id,o=Math.floor(n/(r+1)),s=Math.floor(n%(r+1));return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,s>>24,s>>16&255,s>>8&255,255&s])),e.trun(t,i.length+16+20+8+16+8+8),i)},e.trak=function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.trex=function(t){var n=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},e.trun=function(t,n){var r,i,a,o,s,l,c=t.samples||[],u=c.length,d=12+16*u,f=new Uint8Array(d);for(n+=8+d,f.set([0,0,15,1,u>>>24&255,u>>>16&255,u>>>8&255,255&u,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0),r=0;r<u;r++)a=(i=c[r]).duration,o=i.size,s=i.flags,l=i.cts,f.set([a>>>24&255,a>>>16&255,a>>>8&255,255&a,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*r);return e.box(e.types.trun,f)},e.initSegment=function(t){e.types||e.init();var n=e.moov(t),r=new Uint8Array(e.FTYP.byteLength+n.byteLength);return r.set(e.FTYP),r.set(n,e.FTYP.byteLength),r},e}();i.types=void 0,i.HDLR_TYPES=void 0,i.STTS=void 0,i.STSC=void 0,i.STCO=void 0,i.STSZ=void 0,i.VMHD=void 0,i.SMHD=void 0,i.STSD=void 0,i.FTYP=void 0,i.DINF=void 0,t.default=i},"./src/remux/mp4-remuxer.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"normalizePts",(function(){return v}));var r=n("./src/polyfills/number.ts"),i=n("./src/remux/aac-helper.ts"),a=n("./src/remux/mp4-generator.ts"),o=n("./src/events.ts"),s=n("./src/errors.ts"),l=n("./src/utils/logger.ts"),c=n("./src/types/loader.ts"),u=n("./src/utils/timescale-conversion.ts");function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f=null,h=null,p=!1,g=function(){function e(e,t,n,r){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=void 0,this._initDTS=void 0,this.nextAvcDts=null,this.nextAudioPts=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=e,this.config=t,this.typeSupported=n,this.ISGenerated=!1,null===f){var i=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);f=i?parseInt(i[1]):0}if(null===h){var a=navigator.userAgent.match(/Safari\/(\d+)/i);h=a?parseInt(a[1]):0}p=!!f&&f<75||!!h&&h<600}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(e){l.logger.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e},t.resetNextTimestamp=function(){l.logger.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},t.resetInitSegment=function(){l.logger.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1},t.getVideoStartPts=function(e){var t=!1,n=e.reduce((function(e,n){var r=n.pts-e;return r<-4294967296?(t=!0,v(e,n.pts)):r>0?e:n.pts}),e[0].pts);return t&&l.logger.debug("PTS rollover detected"),n},t.remux=function(e,t,n,r,i,a,o,s){var u,d,f,h,p,g,m=i,b=i,y=e.pid>-1,E=t.pid>-1,O=t.samples.length,T=e.samples.length>0,_=O>1;if((!y||T)&&(!E||_)||this.ISGenerated||o){this.ISGenerated||(f=this.generateIS(e,t,i));var S=this.isVideoContiguous,k=-1;if(_&&(k=function(e){for(var t=0;t<e.length;t++)if(e[t].key)return t;return-1}(t.samples),!S&&this.config.forceKeyFrameOnDiscontinuity))if(g=!0,k>0){l.logger.warn("[mp4-remuxer]: Dropped "+k+" out of "+O+" video samples due to a missing keyframe");var L=this.getVideoStartPts(t.samples);t.samples=t.samples.slice(k),t.dropped+=k,b+=(t.samples[0].pts-L)/(t.timescale||9e4)}else-1===k&&(l.logger.warn("[mp4-remuxer]: No keyframe found out of "+O+" video samples"),g=!1);if(this.ISGenerated){if(T&&_){var A=this.getVideoStartPts(t.samples),w=(v(e.samples[0].pts,A)-A)/t.inputTimeScale;m+=Math.max(0,w),b+=Math.max(0,-w)}if(T){if(e.samplerate||(l.logger.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),f=this.generateIS(e,t,i)),d=this.remuxAudio(e,m,this.isAudioContiguous,a,E||_||s===c.PlaylistLevelType.AUDIO?b:void 0),_){var C=d?d.endPTS-d.startPTS:0;t.inputTimeScale||(l.logger.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),f=this.generateIS(e,t,i)),u=this.remuxVideo(t,b,S,C)}}else _&&(u=this.remuxVideo(t,b,S,0));u&&(u.firstKeyFrame=k,u.independent=-1!==k)}}return this.ISGenerated&&(n.samples.length&&(p=this.remuxID3(n,i)),r.samples.length&&(h=this.remuxText(r,i))),{audio:d,video:u,initSegment:f,independent:g,text:h,id3:p}},t.generateIS=function(e,t,n){var i,o,s,l=e.samples,c=t.samples,u=this.typeSupported,d={},f=!Object(r.isFiniteNumber)(this._initPTS),h="audio/mp4";if(f&&(i=o=1/0),e.config&&l.length&&(e.timescale=e.samplerate,e.isAAC||(u.mpeg?(h="audio/mpeg",e.codec=""):u.mp3&&(e.codec="mp3")),d.audio={id:"audio",container:h,codec:e.codec,initSegment:!e.isAAC&&u.mpeg?new Uint8Array(0):a.default.initSegment([e]),metadata:{channelCount:e.channelCount}},f&&(s=e.inputTimeScale,i=o=l[0].pts-Math.round(s*n))),t.sps&&t.pps&&c.length&&(t.timescale=t.inputTimeScale,d.video={id:"main",container:"video/mp4",codec:t.codec,initSegment:a.default.initSegment([t]),metadata:{width:t.width,height:t.height}},f)){s=t.inputTimeScale;var p=this.getVideoStartPts(c),g=Math.round(s*n);o=Math.min(o,v(c[0].dts,p)-g),i=Math.min(i,p-g)}if(Object.keys(d).length)return this.ISGenerated=!0,f&&(this._initPTS=i,this._initDTS=o),{tracks:d,initPTS:i,timescale:s}},t.remuxVideo=function(e,t,n,r){var i,c,h,g=e.inputTimeScale,b=e.samples,y=[],E=b.length,O=this._initPTS,T=this.nextAvcDts,_=8,S=Number.POSITIVE_INFINITY,k=Number.NEGATIVE_INFINITY,L=0,A=!1;n&&null!==T||(T=t*g-(b[0].pts-v(b[0].dts,b[0].pts)));for(var w=0;w<E;w++){var C=b[w];C.pts=v(C.pts-O,T),C.dts=v(C.dts-O,T),C.dts>C.pts&&(L=Math.max(Math.min(L,C.pts-C.dts),-18e3)),C.dts<b[w>0?w-1:w].dts&&(A=!0)}A&&b.sort((function(e,t){var n=e.dts-t.dts,r=e.pts-t.pts;return n||r})),c=b[0].dts,h=b[b.length-1].dts;var j=Math.round((h-c)/(E-1));if(L<0){if(L<-2*j){l.logger.warn("PTS < DTS detected in video samples, offsetting DTS from PTS by "+Object(u.toMsFromMpegTsClock)(-j,!0)+" ms");for(var D=L,R=0;R<E;R++)b[R].dts=D=Math.max(D,b[R].pts-j),b[R].pts=Math.max(D,b[R].pts)}else{l.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Object(u.toMsFromMpegTsClock)(L,!0)+" ms to overcome this issue");for(var I=0;I<E;I++)b[I].dts=b[I].dts+L}c=b[0].dts}if(n){var x=c-T,N=x>j;if(N||x<-1){N?l.logger.warn("AVC: "+Object(u.toMsFromMpegTsClock)(x,!0)+" ms ("+x+"dts) hole between fragments detected, filling it"):l.logger.warn("AVC: "+Object(u.toMsFromMpegTsClock)(-x,!0)+" ms ("+x+"dts) overlapping between fragments detected"),c=T;var F=b[0].pts-x;b[0].dts=c,b[0].pts=F,l.logger.log("Video: First PTS/DTS adjusted: "+Object(u.toMsFromMpegTsClock)(F,!0)+"/"+Object(u.toMsFromMpegTsClock)(c,!0)+", delta: "+Object(u.toMsFromMpegTsClock)(x,!0)+" ms")}}p&&(c=Math.max(0,c));for(var M=0,B=0,U=0;U<E;U++){for(var V=b[U],G=V.units,H=G.length,K=0,W=0;W<H;W++)K+=G[W].data.length;B+=K,M+=H,V.length=K,V.dts=Math.max(V.dts,c),V.pts=Math.max(V.pts,V.dts,0),S=Math.min(V.pts,S),k=Math.max(V.pts,k)}h=b[E-1].dts;var q,Y=B+4*M+8;try{q=new Uint8Array(Y)}catch(P){return void this.observer.emit(o.Events.ERROR,o.Events.ERROR,{type:s.ErrorTypes.MUX_ERROR,details:s.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:Y,reason:"fail allocating video mdat "+Y})}var $=new DataView(q.buffer);$.setUint32(0,Y),q.set(a.default.types.mdat,4);for(var z=0;z<E;z++){for(var X=b[z],J=X.units,Q=0,Z=0,ee=J.length;Z<ee;Z++){var te=J[Z],ne=te.data,re=te.data.byteLength;$.setUint32(_,re),_+=4,q.set(ne,_),_+=re,Q+=4+re}if(z<E-1)i=b[z+1].dts-X.dts;else{var ie=this.config,ae=X.dts-b[z>0?z-1:z].dts;if(ie.stretchShortVideoTrack&&null!==this.nextAudioPts){var oe=Math.floor(ie.maxBufferHole*g),se=(r?S+r*g:this.nextAudioPts)-X.pts;se>oe?((i=se-ae)<0&&(i=ae),l.logger.log("[mp4-remuxer]: It is approximately "+se/90+" ms to the next segment; using duration "+i/90+" ms for the last video frame.")):i=ae}else i=ae}var le=Math.round(X.pts-X.dts);y.push(new m(X.key,i,Q,le))}if(y.length&&f&&f<70){var ce=y[0].flags;ce.dependsOn=2,ce.isNonSync=0}console.assert(void 0!==i,"mp4SampleDuration must be computed"),this.nextAvcDts=T=h+i,this.isVideoContiguous=!0;var ue={data1:a.default.moof(e.sequenceNumber++,c,d({},e,{samples:y})),data2:q,startPTS:S/g,endPTS:(k+i)/g,startDTS:c/g,endDTS:T/g,type:"video",hasAudio:!1,hasVideo:!0,nb:y.length,dropped:e.dropped};return e.samples=[],e.dropped=0,console.assert(q.length,"MDAT length must not be zero"),ue},t.remuxAudio=function(e,t,n,r,c){var u=e.inputTimeScale,f=u/(e.samplerate?e.samplerate:u),h=e.isAAC?1024:1152,p=h*f,g=this._initPTS,b=!e.isAAC&&this.typeSupported.mpeg,y=[],E=e.samples,O=b?0:8,T=this.nextAudioPts||-1,_=t*u;if(this.isAudioContiguous=n=n||E.length&&T>0&&(r&&Math.abs(_-T)<9e3||Math.abs(v(E[0].pts-g,_)-T)<20*p),E.forEach((function(e){e.pts=v(e.pts-g,_)})),!n||T<0){if(!(E=E.filter((function(e){return e.pts>=0}))).length)return;T=0===c?0:r?Math.max(0,_):E[0].pts}if(e.isAAC)for(var k=void 0!==c,L=this.config.maxAudioFramesDrift,A=0,w=T;A<E.length;A++){var C=E[A],j=C.pts,D=j-w,R=Math.abs(1e3*D/u);if(D<=-L*p&&k)0===A&&(l.logger.warn("Audio frame @ "+(j/u).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*D/u)+" ms."),this.nextAudioPts=T=w=j);else if(D>=L*p&&R<1e4&&k){var I=Math.round(D/p);(w=j-I*p)<0&&(I--,w+=p),0===A&&(this.nextAudioPts=T=w),l.logger.warn("[mp4-remuxer]: Injecting "+I+" audio frame @ "+(w/u).toFixed(3)+"s due to "+Math.round(1e3*D/u)+" ms gap.");for(var x=0;x<I;x++){var P=Math.max(w,0),N=i.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);N||(l.logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),N=C.unit.subarray()),E.splice(A,0,{unit:N,pts:P}),w+=p,A++}}C.pts=w,w+=p}for(var F,M=null,B=null,U=0,V=E.length;V--;)U+=E[V].unit.byteLength;for(var G=0,H=E.length;G<H;G++){var K=E[G],W=K.unit,q=K.pts;if(null!==B)y[G-1].duration=Math.round((q-B)/f);else{if(n&&e.isAAC&&(q=T),M=q,!(U>0))return;U+=O;try{F=new Uint8Array(U)}catch(S){return void this.observer.emit(o.Events.ERROR,o.Events.ERROR,{type:s.ErrorTypes.MUX_ERROR,details:s.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:U,reason:"fail allocating audio mdat "+U})}b||(new DataView(F.buffer).setUint32(0,U),F.set(a.default.types.mdat,4))}F.set(W,O);var Y=W.byteLength;O+=Y,y.push(new m(!0,h,Y,0)),B=q}var $=y.length;if($){var z=y[y.length-1];this.nextAudioPts=T=B+f*z.duration;var X=b?new Uint8Array(0):a.default.moof(e.sequenceNumber++,M/f,d({},e,{samples:y}));e.samples=[];var J=M/u,Q=T/u,Z={data1:X,data2:F,startPTS:J,endPTS:Q,startDTS:J,endDTS:Q,type:"audio",hasAudio:!0,hasVideo:!1,nb:$};return this.isAudioContiguous=!0,console.assert(F.length,"MDAT length must not be zero"),Z}},t.remuxEmptyAudio=function(e,t,n,r){var a=e.inputTimeScale,o=a/(e.samplerate?e.samplerate:a),s=this.nextAudioPts,c=(null!==s?s:r.startDTS*a)+this._initDTS,u=r.endDTS*a+this._initDTS,d=1024*o,f=Math.ceil((u-c)/d),h=i.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(l.logger.warn("[mp4-remuxer]: remux empty Audio"),h){for(var p=[],g=0;g<f;g++){var v=c+g*d;p.push({unit:h,pts:v,dts:v})}return e.samples=p,this.remuxAudio(e,t,n,!1)}l.logger.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")},t.remuxID3=function(e,t){var n=e.samples.length;if(n){for(var r=e.inputTimeScale,i=this._initPTS,a=this._initDTS,o=0;o<n;o++){var s=e.samples[o];s.pts=v(s.pts-i,t*r)/r,s.dts=v(s.dts-a,t*r)/r}var l=e.samples;return e.samples=[],{samples:l}}},t.remuxText=function(e,t){var n=e.samples.length;if(n){for(var r=e.inputTimeScale,i=this._initPTS,a=0;a<n;a++){var o=e.samples[a];o.pts=v(o.pts-i,t*r)/r}e.samples.sort((function(e,t){return e.pts-t.pts}));var s=e.samples;return e.samples=[],{samples:s}}},e}();function v(e,t){var n;if(null===t)return e;for(n=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=n;return e}var m=function(e,t,n,r){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=t,this.size=n,this.cts=r,this.flags=new b(e)},b=function(e){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=e?2:1,this.isNonSync=e?0:1}},"./src/remux/passthrough-remuxer.ts":function(e,t,n){n.r(t);var r=n("./src/polyfills/number.ts"),i=n("./src/utils/mp4-tools.ts"),a=n("./src/loader/fragment.ts"),o=n("./src/utils/logger.ts"),s=function(){function e(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=void 0,this.initTracks=void 0,this.lastEndDTS=null}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(e){this.initPTS=e,this.lastEndDTS=null},t.resetNextTimestamp=function(){this.lastEndDTS=null},t.resetInitSegment=function(e,t,n){this.audioCodec=t,this.videoCodec=n,this.generateInitSegment(e),this.emitInitSegment=!0},t.generateInitSegment=function(e){var t=this.audioCodec,n=this.videoCodec;if(!e||!e.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var r=this.initData=Object(i.parseInitSegment)(e);t||(t=c(r.audio,a.ElementaryStreamTypes.AUDIO)),n||(n=c(r.video,a.ElementaryStreamTypes.VIDEO));var s={};r.audio&&r.video?s.audiovideo={container:"video/mp4",codec:t+","+n,initSegment:e,id:"main"}:r.audio?s.audio={container:"audio/mp4",codec:t,initSegment:e,id:"audio"}:r.video?s.video={container:"video/mp4",codec:n,initSegment:e,id:"main"}:o.logger.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=s},t.remux=function(e,t,n,a,s){var c=this.initPTS,u=this.lastEndDTS,d={audio:void 0,video:void 0,text:a,id3:n,initSegment:void 0};Object(r.isFiniteNumber)(u)||(u=this.lastEndDTS=s||0);var f=t.samples;if(!f||!f.length)return d;var h={initPTS:void 0,timescale:1},p=this.initData;if(p&&p.length||(this.generateInitSegment(f),p=this.initData),!p||!p.length)return o.logger.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),d;this.emitInitSegment&&(h.tracks=this.initTracks,this.emitInitSegment=!1),Object(r.isFiniteNumber)(c)||(this.initPTS=h.initPTS=c=l(p,f,u));var g=Object(i.getDuration)(f,p),v=u,m=g+v;Object(i.offsetStartDTS)(p,f,c),g>0?this.lastEndDTS=m:(o.logger.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var b=!!p.audio,y=!!p.video,E="";b&&(E+="audio"),y&&(E+="video");var O={data1:f,startPTS:v,startDTS:v,endPTS:m,endDTS:m,type:E,hasAudio:b,hasVideo:y,nb:1,dropped:0};return d.audio="audio"===O.type?O:void 0,d.video="audio"!==O.type?O:void 0,d.text=a,d.id3=n,d.initSegment=h,d},e}(),l=function(e,t,n){return Object(i.getStartDTS)(e,t)-n};function c(e,t){var n=null==e?void 0:e.codec;return n&&n.length>4?n:"hvc1"===n?"hvc1.1.c.L120.90":"av01"===n?"av01.0.04M.08":"avc1"===n||t===a.ElementaryStreamTypes.VIDEO?"avc1.42e01e":"mp4a.40.5"}t.default=s},"./src/task-loop.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return r}));var r=function(){function e(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}var t=e.prototype;return t.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},t.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},t.onHandlerDestroyed=function(){},t.hasInterval=function(){return!!this._tickInterval},t.hasNextTick=function(){return!!this._tickTimer},t.setInterval=function(e){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,e),!0)},t.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},t.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},t.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)},t.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},t.doTick=function(){},e}()},"./src/types/level.ts":function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i,a;function o(e,t){var n=e.canSkipUntil,r=e.canSkipDateRanges,a=e.endSN;return n&&(void 0!==t?t-a:0)<n?r?i.v2:i.Yes:i.No}n.r(t),n.d(t,"HlsSkip",(function(){return i})),n.d(t,"getSkipValue",(function(){return o})),n.d(t,"HlsUrlParameters",(function(){return s})),n.d(t,"Level",(function(){return l})),(a=i||(i={})).No="",a.Yes="YES",a.v2="v2";var s=function(){function e(e,t,n){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=t,this.skip=n}return e.prototype.addDirectives=function(e){var t=new self.URL(e);return void 0!==this.msn&&t.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&t.searchParams.set("_HLS_part",this.part.toString()),this.skip&&t.searchParams.set("_HLS_skip",this.skip),t.toString()},e}(),l=function(){function e(e){this.attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[e.url],this.attrs=e.attrs,this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.unknownCodecs=e.unknownCodecs,this.codecSet=[e.videoCodec,e.audioCodec].filter((function(e){return e})).join(",").replace(/\.[^.,]+/g,"")}var t,n,i;return t=e,(n=[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(e){var t=e%this.url.length;this._urlId!==t&&(this.details=void 0,this._urlId=t)}}])&&r(t.prototype,n),i&&r(t,i),e}()},"./src/types/loader.ts":function(e,t,n){var r,i,a,o;n.r(t),n.d(t,"PlaylistContextType",(function(){return r})),n.d(t,"PlaylistLevelType",(function(){return a})),(i=r||(r={})).MANIFEST="manifest",i.LEVEL="level",i.AUDIO_TRACK="audioTrack",i.SUBTITLE_TRACK="subtitleTrack",(o=a||(a={})).MAIN="main",o.AUDIO="audio",o.SUBTITLE="subtitle"},"./src/types/transmuxer.ts":function(e,t,n){n.r(t),n.d(t,"ChunkMetadata",(function(){return r}));var r=function(e,t,n,r,i,a){void 0===r&&(r=0),void 0===i&&(i=-1),void 0===a&&(a=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=e,this.sn=t,this.id=n,this.size=r,this.part=i,this.partial=a}},"./src/utils/attr-list.ts":function(e,t,n){n.r(t),n.d(t,"AttrList",(function(){return a}));var r=/^(\d+)x(\d+)$/,i=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,a=function(){function e(t){for(var n in"string"==typeof t&&(t=e.parseAttrList(t)),t)t.hasOwnProperty(n)&&(this[n]=t[n])}var t=e.prototype;return t.decimalInteger=function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t},t.hexadecimalInteger=function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var n=new Uint8Array(t.length/2),r=0;r<t.length/2;r++)n[r]=parseInt(t.slice(2*r,2*r+2),16);return n}return null},t.hexadecimalIntegerAsNumber=function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t},t.decimalFloatingPoint=function(e){return parseFloat(this[e])},t.optionalFloat=function(e,t){var n=this[e];return n?parseFloat(n):t},t.enumeratedString=function(e){return this[e]},t.bool=function(e){return"YES"===this[e]},t.decimalResolution=function(e){var t=r.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}},e.parseAttrList=function(e){var t,n={};for(i.lastIndex=0;null!==(t=i.exec(e));){var r=t[2];0===r.indexOf('"')&&r.lastIndexOf('"')===r.length-1&&(r=r.slice(1,-1)),n[t[1]]=r}return n},e}()},"./src/utils/binary-search.ts":function(e,t,n){n.r(t),t.default={search:function(e,t){for(var n=0,r=e.length-1,i=null,a=null;n<=r;){var o=t(a=e[i=(n+r)/2|0]);if(o>0)n=i+1;else{if(!(o<0))return a;r=i-1}}return null}}},"./src/utils/buffer-helper.ts":function(e,t,n){n.r(t),n.d(t,"BufferHelper",(function(){return a}));var r=n("./src/utils/logger.ts"),i={length:0,start:function(){return 0},end:function(){return 0}},a=function(){function e(){}return e.isBuffered=function(t,n){try{if(t)for(var r=e.getBuffered(t),i=0;i<r.length;i++)if(n>=r.start(i)&&n<=r.end(i))return!0}catch(a){}return!1},e.bufferInfo=function(t,n,r){try{if(t){var i,a=e.getBuffered(t),o=[];for(i=0;i<a.length;i++)o.push({start:a.start(i),end:a.end(i)});return this.bufferedInfo(o,n,r)}}catch(d){}return{len:0,start:n,end:n,nextStart:void 0}},e.bufferedInfo=function(e,t,n){t=Math.max(0,t),e.sort((function(e,t){var n=e.start-t.start;return n||t.end-e.end}));var r=[];if(n)for(var i=0;i<e.length;i++){var a=r.length;if(a){var o=r[a-1].end;e[i].start-o<n?e[i].end>o&&(r[a-1].end=e[i].end):r.push(e[i])}else r.push(e[i])}else r=e;for(var s,l=0,c=t,u=t,d=0;d<r.length;d++){var f=r[d].start,h=r[d].end;if(t+n>=f&&t<h)c=f,l=(u=h)-t;else if(t+n<f){s=f;break}}return{len:l,start:c||0,end:u||0,nextStart:s}},e.getBuffered=function(e){try{return e.buffered}catch(t){return r.logger.log("failed to get media.buffered",t),i}},e}()},"./src/utils/cea-608-parser.ts":function(e,t,n){n.r(t),n.d(t,"Row",(function(){return y})),n.d(t,"CaptionScreen",(function(){return E}));var r,i,a=n("./src/utils/logger.ts"),o={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},s=function(e){var t=e;return o.hasOwnProperty(e)&&(t=o[e]),String.fromCharCode(t)},l=15,c=100,u={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},d={17:2,18:4,21:6,22:8,23:10,19:13,20:15},f={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},h={25:2,26:4,29:6,30:8,31:10,27:13,28:15},p=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];(i=r||(r={}))[i.ERROR=0]="ERROR",i[i.TEXT=1]="TEXT",i[i.WARNING=2]="WARNING",i[i.INFO=2]="INFO",i[i.DEBUG=3]="DEBUG",i[i.DATA=3]="DATA";var g=function(){function e(){this.time=null,this.verboseLevel=r.ERROR}return e.prototype.log=function(e,t){this.verboseLevel>=e&&a.logger.log(this.time+" ["+e+"] "+t)},e}(),v=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toString(16));return t},m=function(){function e(e,t,n,r,i){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=e||"white",this.underline=t||!1,this.italics=n||!1,this.background=r||"black",this.flash=i||!1}var t=e.prototype;return t.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},t.setStyles=function(e){for(var t=["foreground","underline","italics","background","flash"],n=0;n<t.length;n++){var r=t[n];e.hasOwnProperty(r)&&(this[r]=e[r])}},t.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},t.equals=function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},t.copy=function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},t.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},e}(),b=function(){function e(e,t,n,r,i,a){this.uchar=void 0,this.penState=void 0,this.uchar=e||" ",this.penState=new m(t,n,r,i,a)}var t=e.prototype;return t.reset=function(){this.uchar=" ",this.penState.reset()},t.setChar=function(e,t){this.uchar=e,this.penState.copy(t)},t.setPenState=function(e){this.penState.copy(e)},t.equals=function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},t.copy=function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},t.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},e}(),y=function(){function e(e){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var t=0;t<c;t++)this.chars.push(new b);this.logger=e,this.pos=0,this.currPenState=new m}var t=e.prototype;return t.equals=function(e){for(var t=!0,n=0;n<c;n++)if(!this.chars[n].equals(e.chars[n])){t=!1;break}return t},t.copy=function(e){for(var t=0;t<c;t++)this.chars[t].copy(e.chars[t])},t.isEmpty=function(){for(var e=!0,t=0;t<c;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},t.setCursor=function(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(r.DEBUG,"Negative cursor position "+this.pos),this.pos=0):this.pos>c&&(this.logger.log(r.DEBUG,"Too large cursor position "+this.pos),this.pos=c)},t.moveCursor=function(e){var t=this.pos+e;if(e>1)for(var n=this.pos+1;n<t+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)},t.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},t.insertChar=function(e){e>=144&&this.backSpace();var t=s(e);this.pos>=c?this.logger.log(r.ERROR,"Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))},t.clearFromPos=function(e){var t;for(t=e;t<c;t++)this.chars[t].reset()},t.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},t.clearToEndOfRow=function(){this.clearFromPos(this.pos)},t.getTextString=function(){for(var e=[],t=!0,n=0;n<c;n++){var r=this.chars[n].uchar;" "!==r&&(t=!1),e.push(r)}return t?"":e.join("")},t.setPenStyles=function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)},e}(),E=function(){function e(e){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var t=0;t<l;t++)this.rows.push(new y(e));this.logger=e,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var t=e.prototype;return t.reset=function(){for(var e=0;e<l;e++)this.rows[e].clear();this.currRow=14},t.equals=function(e){for(var t=!0,n=0;n<l;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t},t.copy=function(e){for(var t=0;t<l;t++)this.rows[t].copy(e.rows[t])},t.isEmpty=function(){for(var e=!0,t=0;t<l;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},t.backSpace=function(){this.rows[this.currRow].backSpace()},t.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},t.insertChar=function(e){this.rows[this.currRow].insertChar(e)},t.setPen=function(e){this.rows[this.currRow].setPenStyles(e)},t.moveCursor=function(e){this.rows[this.currRow].moveCursor(e)},t.setCursor=function(e){this.logger.log(r.INFO,"setCursor: "+e),this.rows[this.currRow].setCursor(e)},t.setPAC=function(e){this.logger.log(r.INFO,"pacData = "+JSON.stringify(e));var t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var n=0;n<l;n++)this.rows[n].clear();var i=this.currRow+1-this.nrRollUpRows,a=this.lastOutputScreen;if(a){var o=a.rows[i].cueStartTime,s=this.logger.time;if(o&&null!==s&&o<s)for(var c=0;c<this.nrRollUpRows;c++)this.rows[t-this.nrRollUpRows+c+1].copy(a.rows[i+c])}}this.currRow=t;var u=this.rows[this.currRow];if(null!==e.indent){var d=e.indent,f=Math.max(d-1,0);u.setCursor(e.indent),e.color=u.chars[f].penState.foreground}var h={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(h)},t.setBkgData=function(e){this.logger.log(r.INFO,"bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},t.setRollUpRows=function(e){this.nrRollUpRows=e},t.rollUp=function(){if(null!==this.nrRollUpRows){this.logger.log(r.TEXT,this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),this.logger.log(r.INFO,"Rolling up")}else this.logger.log(r.DEBUG,"roll_up but nrRollUpRows not set yet")},t.getDisplayText=function(e){e=e||!1;for(var t=[],n="",r=-1,i=0;i<l;i++){var a=this.rows[i].getTextString();a&&(r=i+1,e?t.push("Row "+r+": '"+a+"'"):t.push(a.trim()))}return t.length>0&&(n=e?"["+t.join(" | ")+"]":t.join("\n")),n},t.getTextAndFormat=function(){return this.rows},e}(),O=function(){function e(e,t,n){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new E(n),this.nonDisplayedMemory=new E(n),this.lastOutputScreen=new E(n),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=n}var t=e.prototype;return t.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},t.getHandler=function(){return this.outputFilter},t.setHandler=function(e){this.outputFilter=e},t.setPAC=function(e){this.writeScreen.setPAC(e)},t.setBkgData=function(e){this.writeScreen.setBkgData(e)},t.setMode=function(e){e!==this.mode&&(this.mode=e,this.logger.log(r.INFO,"MODE="+e),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},t.insertChars=function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(r.INFO,n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(r.TEXT,"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},t.ccRCL=function(){this.logger.log(r.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},t.ccBS=function(){this.logger.log(r.INFO,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},t.ccAOF=function(){},t.ccAON=function(){},t.ccDER=function(){this.logger.log(r.INFO,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},t.ccRU=function(e){this.logger.log(r.INFO,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},t.ccFON=function(){this.logger.log(r.INFO,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},t.ccRDC=function(){this.logger.log(r.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},t.ccTR=function(){this.logger.log(r.INFO,"TR"),this.setMode("MODE_TEXT")},t.ccRTD=function(){this.logger.log(r.INFO,"RTD"),this.setMode("MODE_TEXT")},t.ccEDM=function(){this.logger.log(r.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},t.ccCR=function(){this.logger.log(r.INFO,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},t.ccENM=function(){this.logger.log(r.INFO,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},t.ccEOC=function(){if(this.logger.log(r.INFO,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(r.TEXT,"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},t.ccTO=function(e){this.logger.log(r.INFO,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},t.ccMIDROW=function(e){var t={flash:!1};if(t.underline=e%2==1,t.italics=e>=46,t.italics)t.foreground="white";else{var n=Math.floor(e/2)-16;t.foreground=["white","green","blue","cyan","red","yellow","magenta"][n]}this.logger.log(r.INFO,"MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},t.outputDataUpdate=function(e){void 0===e&&(e=!1);var t=this.logger.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))},t.cueSplitAtTime=function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))},e}(),T=function(){function e(e,t,n){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var r=new g;this.channels=[null,new O(e,t,r),new O(e+1,n,r)],this.cmdHistory={a:null,b:null},this.logger=r}var t=e.prototype;return t.getHandler=function(e){return this.channels[e].getHandler()},t.setHandler=function(e,t){this.channels[e].setHandler(t)},t.addData=function(e,t){var n,i,a,o=!1;this.logger.time=e;for(var s=0;s<t.length;s+=2)if(i=127&t[s],a=127&t[s+1],0!==i||0!==a){if(this.logger.log(r.DATA,"["+v([t[s],t[s+1]])+"] -> ("+v([i,a])+")"),(n=this.parseCmd(i,a))||(n=this.parseMidrow(i,a)),n||(n=this.parsePAC(i,a)),n||(n=this.parseBackgroundAttributes(i,a)),!n&&(o=this.parseChars(i,a))){var l=this.currentChannel;l&&l>0?this.channels[l].insertChars(o):this.logger.log(r.WARNING,"No channel found yet. TEXT-MODE?")}n||o||this.logger.log(r.WARNING,"Couldn't parse cleaned data "+v([i,a])+" orig: "+v([t[s],t[s+1]]))}},t.parseCmd=function(e,t){var n=this.cmdHistory;if(!((20===e||28===e||21===e||29===e)&&t>=32&&t<=47||(23===e||31===e)&&t>=33&&t<=35))return!1;if(S(e,t,n))return _(null,null,n),this.logger.log(r.DEBUG,"Repeated command ("+v([e,t])+") is dropped"),!0;var i=20===e||21===e||23===e?1:2,a=this.channels[i];return 20===e||21===e||28===e||29===e?32===t?a.ccRCL():33===t?a.ccBS():34===t?a.ccAOF():35===t?a.ccAON():36===t?a.ccDER():37===t?a.ccRU(2):38===t?a.ccRU(3):39===t?a.ccRU(4):40===t?a.ccFON():41===t?a.ccRDC():42===t?a.ccTR():43===t?a.ccRTD():44===t?a.ccEDM():45===t?a.ccCR():46===t?a.ccENM():47===t&&a.ccEOC():a.ccTO(t-32),_(e,t,n),this.currentChannel=i,!0},t.parseMidrow=function(e,t){var n=0;if((17===e||25===e)&&t>=32&&t<=47){if((n=17===e?1:2)!==this.currentChannel)return this.logger.log(r.ERROR,"Mismatch channel in midrow parsing"),!1;var i=this.channels[n];return!!i&&(i.ccMIDROW(t),this.logger.log(r.DEBUG,"MIDROW ("+v([e,t])+")"),!0)}return!1},t.parsePAC=function(e,t){var n,r=this.cmdHistory;if(!((e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127||(16===e||24===e)&&t>=64&&t<=95))return!1;if(S(e,t,r))return _(null,null,r),!0;var i=e<=23?1:2;n=t>=64&&t<=95?1===i?u[e]:f[e]:1===i?d[e]:h[e];var a=this.channels[i];return!!a&&(a.setPAC(this.interpretPAC(n,t)),_(e,t,r),this.currentChannel=i,!0)},t.interpretPAC=function(e,t){var n,r={color:null,italics:!1,indent:null,underline:!1,row:e};return n=t>95?t-96:t-64,r.underline=1==(1&n),n<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((n-16)/2),r},t.parseChars=function(e,t){var n,i,a=null,o=null;if(e>=25?(n=2,o=e-8):(n=1,o=e),o>=17&&o<=19?(i=17===o?t+80:18===o?t+112:t+144,this.logger.log(r.INFO,"Special char '"+s(i)+"' in channel "+n),a=[i]):e>=32&&e<=127&&(a=0===t?[e]:[e,t]),a){var l=v(a);this.logger.log(r.DEBUG,"Char codes =  "+l.join(",")),_(e,t,this.cmdHistory)}return a},t.parseBackgroundAttributes=function(e,t){var n;if(!((16===e||24===e)&&t>=32&&t<=47||(23===e||31===e)&&t>=45&&t<=47))return!1;var r={};16===e||24===e?(n=Math.floor((t-32)/2),r.background=p[n],t%2==1&&(r.background=r.background+"_semi")):45===t?r.background="transparent":(r.foreground="black",47===t&&(r.underline=!0));var i=e<=23?1:2;return this.channels[i].setBkgData(r),_(e,t,this.cmdHistory),!0},t.reset=function(){for(var e=0;e<Object.keys(this.channels).length;e++){var t=this.channels[e];t&&t.reset()}this.cmdHistory={a:null,b:null}},t.cueSplitAtTime=function(e){for(var t=0;t<this.channels.length;t++){var n=this.channels[t];n&&n.cueSplitAtTime(e)}},e}();function _(e,t,n){n.a=e,n.b=t}function S(e,t,n){return n.a===e&&n.b===t}t.default=T},"./src/utils/codecs.ts":function(e,t,n){n.r(t),n.d(t,"isCodecType",(function(){return i})),n.d(t,"isCodecSupportedInMp4",(function(){return a}));var r={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}};function i(e,t){var n=r[t];return!!n&&!0===n[e.slice(0,4)]}function a(e,t){return MediaSource.isTypeSupported((t||"video")+'/mp4;codecs="'+e+'"')}},"./src/utils/cues.ts":function(e,t,n){n.r(t);var r=n("./src/utils/vttparser.ts"),i=n("./src/utils/webvtt-parser.ts"),a=n("./src/utils/texttrack-utils.ts"),o=/\s/,s={newCue:function(e,t,n,s){for(var l,c,u,d,f,h=[],p=self.VTTCue||self.TextTrackCue,g=0;g<s.rows.length;g++)if(u=!0,d=0,f="",!(l=s.rows[g]).isEmpty()){for(var v=0;v<l.chars.length;v++)o.test(l.chars[v].uchar)&&u?d++:(f+=l.chars[v].uchar,u=!1);l.cueStartTime=t,t===n&&(n+=1e-4),d>=16?d--:d++;var m=Object(r.fixLineBreaks)(f.trim()),b=Object(i.generateCueId)(t,n,m);e&&e.cues&&e.cues.getCueById(b)||((c=new p(t,n,m)).id=b,c.line=g+1,c.align="left",c.position=10+Math.min(80,10*Math.floor(8*d/32)),h.push(c))}return e&&h.length&&(h.sort((function(e,t){return"auto"===e.line||"auto"===t.line?0:e.line>8&&t.line>8?t.line-e.line:e.line-t.line})),h.forEach((function(t){return Object(a.addCueToTrack)(e,t)}))),h}};t.default=s},"./src/utils/discontinuities.ts":function(e,t,n){n.r(t),n.d(t,"findFirstFragWithCC",(function(){return o})),n.d(t,"shouldAlignOnDiscontinuities",(function(){return s})),n.d(t,"findDiscontinuousReferenceFrag",(function(){return l})),n.d(t,"adjustSlidingStart",(function(){return u})),n.d(t,"alignStream",(function(){return d})),n.d(t,"alignPDT",(function(){return f}));var r=n("./src/polyfills/number.ts"),i=n("./src/utils/logger.ts"),a=n("./src/controller/level-helper.ts");function o(e,t){for(var n=null,r=0,i=e.length;r<i;r++){var a=e[r];if(a&&a.cc===t){n=a;break}}return n}function s(e,t,n){return!(!t.details||!(n.endCC>n.startCC||e&&e.cc<n.startCC))}function l(e,t){var n=e.fragments,r=t.fragments;if(r.length&&n.length){var a=o(n,r[0].cc);if(a&&(!a||a.startPTS))return a;i.logger.log("No frag in previous level to align on")}else i.logger.log("No fragments to align")}function c(e,t){if(e){var n=e.start+t;e.start=e.startPTS=n,e.endPTS=n+e.duration}}function u(e,t){for(var n=t.fragments,r=0,i=n.length;r<i;r++)c(n[r],e);t.fragmentHint&&c(t.fragmentHint,e),t.alignedSliding=!0}function d(e,t,n){t&&(function(e,t,n){if(s(e,n,t)){var a=l(n.details,t);a&&Object(r.isFiniteNumber)(a.start)&&(i.logger.log("Adjusting PTS using last level due to CC increase within current level "+t.url),u(a.start,t))}}(e,n,t),!n.alignedSliding&&t.details&&f(n,t.details),n.alignedSliding||!t.details||n.skippedSegments||Object(a.adjustSliding)(t.details,n))}function f(e,t){if(t.fragments.length&&e.hasProgramDateTime&&t.hasProgramDateTime){var n=t.fragments[0].programDateTime,a=e.fragments[0].programDateTime,o=(a-n)/1e3+t.fragments[0].start;o&&Object(r.isFiniteNumber)(o)&&(i.logger.log("Adjusting PTS using programDateTime delta "+(a-n)+"ms, sliding:"+o.toFixed(3)+" "+e.url+" "),u(o,e))}}},"./src/utils/ewma-bandwidth-estimator.ts":function(e,t,n){n.r(t);var r=n("./src/utils/ewma.ts"),i=function(){function e(e,t,n){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new r.default(e),this.fast_=new r.default(t)}var t=e.prototype;return t.update=function(e,t){var n=this.slow_,i=this.fast_;this.slow_.halfLife!==e&&(this.slow_=new r.default(e,n.getEstimate(),n.getTotalWeight())),this.fast_.halfLife!==t&&(this.fast_=new r.default(t,i.getEstimate(),i.getTotalWeight()))},t.sample=function(e,t){var n=(e=Math.max(e,this.minDelayMs_))/1e3,r=8*t/n;this.fast_.sample(n,r),this.slow_.sample(n,r)},t.canEstimate=function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_},t.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},t.destroy=function(){},e}();t.default=i},"./src/utils/ewma.ts":function(e,t,n){n.r(t);var r=function(){function e(e,t,n){void 0===t&&(t=0),void 0===n&&(n=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=t,this.totalWeight_=n}var t=e.prototype;return t.sample=function(e,t){var n=Math.pow(this.alpha_,e);this.estimate_=t*(1-n)+n*this.estimate_,this.totalWeight_+=e},t.getTotalWeight=function(){return this.totalWeight_},t.getEstimate=function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_},e}();t.default=r},"./src/utils/fetch-loader.ts":function(e,t,n){n.r(t),n.d(t,"fetchSupported",(function(){return d}));var r=n("./src/polyfills/number.ts"),i=n("./src/loader/load-stats.ts"),a=n("./src/demux/chunk-cache.ts");function o(e){var t="function"==typeof Map?new Map:void 0;return(o=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return s(e,arguments,u(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),c(r,e)})(e)}function s(e,t,n){return(s=l()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&c(i,n.prototype),i}).apply(null,arguments)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(e){}return!1}var f=function(){function e(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||h,this.controller=new self.AbortController,this.stats=new i.LoadStats}var t=e.prototype;return t.destroy=function(){this.loader=this.callbacks=null,this.abortInternal()},t.abortInternal=function(){var e=this.response;e&&e.ok||(this.stats.aborted=!0,this.controller.abort())},t.abort=function(){var e;this.abortInternal(),null!==(e=this.callbacks)&&void 0!==e&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},t.load=function(e,t,n){var i=this,a=this.stats;if(a.loading.start)throw new Error("Loader can only be used once.");a.loading.start=self.performance.now();var o=function(e,t){var n={method:"GET",mode:"cors",credentials:"same-origin",signal:t};return e.rangeEnd&&(n.headers=new self.Headers({Range:"bytes="+e.rangeStart+"-"+String(e.rangeEnd-1)})),n}(e,this.controller.signal),s=n.onProgress,l="arraybuffer"===e.responseType,c=l?"byteLength":"length";this.context=e,this.config=t,this.callbacks=n,this.request=this.fetchSetup(e,o),self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout((function(){i.abortInternal(),n.onTimeout(a,e,i.response)}),t.timeout),self.fetch(this.request).then((function(n){if(i.response=i.loader=n,!n.ok){var o=n.status,c=n.statusText;throw new p(c||"fetch, bad network response",o,n)}return a.loading.first=Math.max(self.performance.now(),a.loading.start),a.total=parseInt(n.headers.get("Content-Length")||"0"),s&&Object(r.isFiniteNumber)(t.highWaterMark)?i.loadProgressively(n,a,e,t.highWaterMark,s):l?n.arrayBuffer():n.text()})).then((function(o){var l=i.response;self.clearTimeout(i.requestTimeout),a.loading.end=Math.max(self.performance.now(),a.loading.first),a.loaded=a.total=o[c];var u={url:l.url,data:o};s&&!Object(r.isFiniteNumber)(t.highWaterMark)&&s(a,e,o,l),n.onSuccess(u,a,e,l)})).catch((function(t){if(self.clearTimeout(i.requestTimeout),!a.aborted){var r=t.code||0;n.onError({code:r,text:t.message},e,t.details)}}))},t.getCacheAge=function(){var e=null;if(this.response){var t=this.response.headers.get("age");e=t?parseFloat(t):null}return e},t.loadProgressively=function(e,t,n,r,i){void 0===r&&(r=0);var o=new a.default,s=e.body.getReader();return function a(){return s.read().then((function(s){if(s.done)return o.dataLength&&i(t,n,o.flush(),e),Promise.resolve(new ArrayBuffer(0));var l=s.value,c=l.length;return t.loaded+=c,c<r||o.dataLength?(o.push(l),o.dataLength>=r&&i(t,n,o.flush(),e)):i(t,n,l,e),a()})).catch((function(){return Promise.reject()}))}()},e}();function h(e,t){return new self.Request(e.url,t)}var p=function(e){var t,n;function r(t,n,r){var i;return(i=e.call(this,t)||this).code=void 0,i.details=void 0,i.code=n,i.details=r,i}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,c(t,n),r}(o(Error));t.default=f},"./src/utils/imsc1-ttml-parser.ts":function(e,t,n){n.r(t),n.d(t,"IMSC1_CODEC",(function(){return u})),n.d(t,"parseIMSC1",(function(){return p}));var r=n("./src/utils/mp4-tools.ts"),i=n("./src/utils/vttparser.ts"),a=n("./src/utils/vttcue.ts"),o=n("./src/demux/id3.ts"),s=n("./src/utils/timescale-conversion.ts"),l=n("./src/utils/webvtt-parser.ts");function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u="stpp.ttml.im1t",d=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,f=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,h={left:"start",center:"center",right:"end",start:"start",end:"end"};function p(e,t,n,i,u){var d=Object(r.findBox)(new Uint8Array(e),["mdat"]);if(0!==d.length){var f=d[0],p=Object(o.utf8ArrayToStr)(new Uint8Array(e,f.start,f.end-f.start)),O=Object(s.toTimescaleFromScale)(t,1,n);try{i(function(e,t){var n=(new DOMParser).parseFromString(e,"text/xml").getElementsByTagName("tt")[0];if(!n)throw new Error("Invalid ttml");var r={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},i=Object.keys(r).reduce((function(e,t){return e[t]=n.getAttribute("ttp:"+t)||r[t],e}),{}),o="preserve"!==n.getAttribute("xml:space"),s=v(g(n,"styling","style")),u=v(g(n,"layout","region")),d=g(n,"body","[begin]");return[].map.call(d,(function(e){var n=m(e,o);if(!n||!e.hasAttribute("begin"))return null;var r=E(e.getAttribute("begin"),i),d=E(e.getAttribute("dur"),i),f=E(e.getAttribute("end"),i);if(null===r)throw y(e);if(null===f){if(null===d)throw y(e);f=r+d}var p=new a.default(r-t,f-t,n);p.id=Object(l.generateCueId)(p.startTime,p.endTime,p.text);var g=u[e.getAttribute("region")],v=s[e.getAttribute("style")];p.position=10,p.size=80;var O=function(e,t){var n="http://www.w3.org/ns/ttml#styling";return["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce((function(r,i){var a=b(t,n,i)||b(e,n,i);return a&&(r[i]=a),r}),{})}(g,v),T=O.textAlign;if(T){var _=h[T];_&&(p.lineAlign=_),p.align=T}return c(p,O),p})).filter((function(e){return null!==e}))}(p,O))}catch(T){u(T)}}else u(new Error("Could not parse IMSC1 mdat"))}function g(e,t,n){var r=e.getElementsByTagName(t)[0];return r?[].slice.call(r.querySelectorAll(n)):[]}function v(e){return e.reduce((function(e,t){var n=t.getAttribute("xml:id");return n&&(e[n]=t),e}),{})}function m(e,t){return[].slice.call(e.childNodes).reduce((function(e,n,r){var i;return"br"===n.nodeName&&r?e+"\n":null!==(i=n.childNodes)&&void 0!==i&&i.length?m(n,t):t?e+n.textContent.trim().replace(/\s+/g," "):e+n.textContent}),"")}function b(e,t,n){return e.hasAttributeNS(t,n)?e.getAttributeNS(t,n):null}function y(e){return new Error("Could not parse ttml timestamp "+e)}function E(e,t){if(!e)return null;var n=Object(i.parseTimeStamp)(e);return null===n&&(d.test(e)?n=function(e,t){var n=d.exec(e),r=(0|n[4])+(0|n[5])/t.subFrameRate;return 3600*(0|n[1])+60*(0|n[2])+(0|n[3])+r/t.frameRate}(e,t):f.test(e)&&(n=function(e,t){var n=f.exec(e),r=Number(n[1]);switch(n[2]){case"h":return 3600*r;case"m":return 60*r;case"ms":return 1e3*r;case"f":return r/t.frameRate;case"t":return r/t.tickRate}return r}(e,t))),n}},"./src/utils/logger.ts":function(e,t,n){n.r(t),n.d(t,"enableLogs",(function(){return s})),n.d(t,"logger",(function(){return l}));var r=function(){},i={trace:r,debug:r,log:r,warn:r,info:r,error:r},a=i;function o(e){var t=self.console[e];return t?t.bind(self.console,"["+e+"] >"):r}function s(e){if(self.console&&!0===e||"object"==typeof e){!function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.forEach((function(t){a[t]=e[t]?e[t].bind(e):o(t)}))}(e,"debug","log","info","warn","error");try{a.log()}catch(t){a=i}}else a=i}var l=i},"./src/utils/mediakeys-helper.ts":function(e,t,n){var r,i;n.r(t),n.d(t,"KeySystems",(function(){return r})),n.d(t,"requestMediaKeySystemAccess",(function(){return a})),(i=r||(r={})).WIDEVINE="com.widevine.alpha",i.PLAYREADY="com.microsoft.playready";var a="undefined"!=typeof self&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null},"./src/utils/mediasource-helper.ts":function(e,t,n){function r(){return self.MediaSource||self.WebKitMediaSource}n.r(t),n.d(t,"getMediaSource",(function(){return r}))},"./src/utils/mp4-tools.ts":function(e,t,n){n.r(t),n.d(t,"bin2str",(function(){return s})),n.d(t,"readUint16",(function(){return l})),n.d(t,"readUint32",(function(){return c})),n.d(t,"writeUint32",(function(){return u})),n.d(t,"findBox",(function(){return d})),n.d(t,"parseSegmentIndex",(function(){return f})),n.d(t,"parseInitSegment",(function(){return h})),n.d(t,"getStartDTS",(function(){return p})),n.d(t,"getDuration",(function(){return g})),n.d(t,"computeRawDurationFromSamples",(function(){return v})),n.d(t,"offsetStartDTS",(function(){return m})),n.d(t,"segmentValidRange",(function(){return b})),n.d(t,"appendUint8Array",(function(){return y}));var r=n("./src/utils/typed-array.ts"),i=n("./src/loader/fragment.ts"),a=Math.pow(2,32)-1,o=[].push;function s(e){return String.fromCharCode.apply(null,e)}function l(e,t){"data"in e&&(t+=e.start,e=e.data);var n=e[t]<<8|e[t+1];return n<0?65536+n:n}function c(e,t){"data"in e&&(t+=e.start,e=e.data);var n=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];return n<0?4294967296+n:n}function u(e,t,n){"data"in e&&(t+=e.start,e=e.data),e[t]=n>>24,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function d(e,t){var n,r,i,a=[];if(!t.length)return a;"data"in e?(n=e.data,r=e.start,i=e.end):(r=0,i=(n=e).byteLength);for(var l=r;l<i;){var u=c(n,l),f=u>1?l+u:i;if(s(n.subarray(l+4,l+8))===t[0])if(1===t.length)a.push({data:n,start:l+8,end:f});else{var h=d({data:n,start:l+8,end:f},t.slice(1));h.length&&o.apply(a,h)}l=f}return a}function f(e){var t=d(e,["moov"])[0],n=t?t.end:null,r=d(e,["sidx"]);if(!r||!r[0])return null;var i=[],a=r[0],o=a.data[0],s=0===o?8:16,u=c(a,s);s+=4,s+=0===o?8:16,s+=2;var f=a.end+0,h=l(a,s);s+=2;for(var p=0;p<h;p++){var g=s,v=c(a,g);g+=4;var m=2147483647&v;if(1==(2147483648&v)>>>31)return console.warn("SIDX has hierarchical references (not supported)"),null;var b=c(a,g);g+=4,i.push({referenceSize:m,subsegmentDuration:b,info:{duration:b/u,start:f,end:f+m-1}}),f+=m,s=g+=4}return{earliestPresentationTime:0,timescale:u,version:o,referencesCount:h,references:i,moovEndOffset:n}}function h(e){for(var t=[],n=d(e,["moov","trak"]),r=0;r<n.length;r++){var a=n[r],o=d(a,["tkhd"])[0];if(o){var l=o.data[o.start],u=0===l?12:20,f=c(o,u),h=d(a,["mdia","mdhd"])[0];if(h){var p=c(h,u=0===(l=h.data[h.start])?12:20),g=d(a,["mdia","hdlr"])[0];if(g){var v=s(g.data.subarray(g.start+8,g.start+12)),m={soun:i.ElementaryStreamTypes.AUDIO,vide:i.ElementaryStreamTypes.VIDEO}[v];if(m){var b=d(a,["mdia","minf","stbl","stsd"])[0],y=void 0;b&&(y=s(b.data.subarray(b.start+12,b.start+16))),t[f]={timescale:p,type:m},t[m]={timescale:p,id:f,codec:y}}}}}}return d(e,["moov","mvex","trex"]).forEach((function(e){var n=c(e,4),r=t[n];r&&(r.default={duration:c(e,12),flags:c(e,20)})})),t}function p(e,t){return d(t,["moof","traf"]).reduce((function(t,n){var r=d(n,["tfdt"])[0],i=r.data[r.start],a=d(n,["tfhd"]).reduce((function(t,n){var a=c(n,4),o=e[a];if(o){var s=c(r,4);1===i&&(s*=Math.pow(2,32),s+=c(r,8));var l=s/(o.timescale||9e4);if(isFinite(l)&&(null===t||l<t))return l}return t}),null);return null!==a&&isFinite(a)&&(null===t||a<t)?a:t}),null)||0}function g(e,t){for(var n=0,r=0,a=0,o=d(e,["moof","traf"]),s=0;s<o.length;s++){var l=o[s],u=d(l,["tfhd"])[0],h=t[c(u,4)];if(h){var p=h.default,g=c(u,0)|(null==p?void 0:p.flags),m=null==p?void 0:p.duration;8&g&&(m=c(u,2&g?12:8));for(var b=h.timescale||9e4,y=d(l,["trun"]),E=0;E<y.length;E++)n=m?m*c(y[E],4):v(y[E]),h.type===i.ElementaryStreamTypes.VIDEO?r+=n/b:h.type===i.ElementaryStreamTypes.AUDIO&&(a+=n/b)}}if(0===r&&0===a){var O=f(e);if(null!=O&&O.references)return O.references.reduce((function(e,t){return e+t.info.duration||0}),0)}return r||a}function v(e){var t=c(e,0),n=8;1&t&&(n+=4),4&t&&(n+=4);for(var r=0,i=c(e,4),a=0;a<i;a++)256&t&&(r+=c(e,n),n+=4),512&t&&(n+=4),1024&t&&(n+=4),2048&t&&(n+=4);return r}function m(e,t,n){d(t,["moof","traf"]).forEach((function(t){d(t,["tfhd"]).forEach((function(r){var i=c(r,4),o=e[i];if(o){var s=o.timescale||9e4;d(t,["tfdt"]).forEach((function(e){var t=e.data[e.start],r=c(e,4);if(0===t)u(e,4,r-n*s);else{r*=Math.pow(2,32),r+=c(e,8),r-=n*s,r=Math.max(r,0);var i=Math.floor(r/(a+1)),o=Math.floor(r%(a+1));u(e,4,i),u(e,8,o)}}))}}))}))}function b(e){var t={valid:null,remainder:null},n=d(e,["moof"]);if(!n)return t;if(n.length<2)return t.remainder=e,t;var i=n[n.length-1];return t.valid=Object(r.sliceUint8)(e,0,i.start-8),t.remainder=Object(r.sliceUint8)(e,i.start-8),t}function y(e,t){var n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}},"./src/utils/output-filter.ts":function(e,t,n){n.r(t),n.d(t,"default",(function(){return r}));var r=function(){function e(e,t){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=t}var t=e.prototype;return t.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},t.newCue=function(e,t,n){(null===this.startTime||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)},t.reset=function(){this.cueRanges=[]},e}()},"./src/utils/texttrack-utils.ts":function(e,t,n){n.r(t),n.d(t,"sendAddTrackEvent",(function(){return i})),n.d(t,"addCueToTrack",(function(){return a})),n.d(t,"clearCurrentCues",(function(){return o})),n.d(t,"removeCuesInRange",(function(){return s})),n.d(t,"getCuesInRange",(function(){return l}));var r=n("./src/utils/logger.ts");function i(e,t){var n;try{n=new Event("addtrack")}catch(r){(n=document.createEvent("Event")).initEvent("addtrack",!1,!1)}n.track=e,t.dispatchEvent(n)}function a(e,t){var n=e.mode;if("disabled"===n&&(e.mode="hidden"),e.cues&&!e.cues.getCueById(t.id))try{if(e.addCue(t),!e.cues.getCueById(t.id))throw new Error("addCue is failed for: "+t)}catch(a){r.logger.debug("[texttrack-utils]: "+a);var i=new self.TextTrackCue(t.startTime,t.endTime,t.text);i.id=t.id,e.addCue(i)}"disabled"===n&&(e.mode=n)}function o(e){var t=e.mode;if("disabled"===t&&(e.mode="hidden"),e.cues)for(var n=e.cues.length;n--;)e.removeCue(e.cues[n]);"disabled"===t&&(e.mode=t)}function s(e,t,n){var r=e.mode;if("disabled"===r&&(e.mode="hidden"),e.cues&&e.cues.length>0)for(var i=l(e.cues,t,n),a=0;a<i.length;a++)e.removeCue(i[a]);"disabled"===r&&(e.mode=r)}function l(e,t,n){var r=[],i=function(e,t){if(t<e[0].startTime)return 0;var n=e.length-1;if(t>e[n].endTime)return-1;for(var r=0,i=n;r<=i;){var a=Math.floor((i+r)/2);if(t<e[a].startTime)i=a-1;else{if(!(t>e[a].startTime&&r<n))return a;r=a+1}}return e[r].startTime-t<t-e[i].startTime?r:i}(e,t);if(i>-1)for(var a=i,o=e.length;a<o;a++){var s=e[a];if(s.startTime>=t&&s.endTime<=n)r.push(s);else if(s.startTime>n)return r}return r}},"./src/utils/time-ranges.ts":function(e,t,n){n.r(t),t.default={toString:function(e){for(var t="",n=e.length,r=0;r<n;r++)t+="["+e.start(r).toFixed(3)+","+e.end(r).toFixed(3)+"]";return t}}},"./src/utils/timescale-conversion.ts":function(e,t,n){function r(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=!1);var i=e*t*n;return r?Math.round(i):i}function i(e,t,n,i){return void 0===n&&(n=1),void 0===i&&(i=!1),r(e,t,1/n,i)}function a(e,t){return void 0===t&&(t=!1),r(e,1e3,1/9e4,t)}function o(e,t){return void 0===t&&(t=1),r(e,9e4,1/t)}n.r(t),n.d(t,"toTimescaleFromBase",(function(){return r})),n.d(t,"toTimescaleFromScale",(function(){return i})),n.d(t,"toMsFromMpegTsClock",(function(){return a})),n.d(t,"toMpegTsClockFromTimescale",(function(){return o}))},"./src/utils/typed-array.ts":function(e,t,n){function r(e,t,n){return Uint8Array.prototype.slice?e.slice(t,n):new Uint8Array(Array.prototype.slice.call(e,t,n))}n.r(t),n.d(t,"sliceUint8",(function(){return r}))},"./src/utils/vttcue.ts":function(e,t,n){n.r(t),t.default=function(){if("undefined"!=typeof self&&self.VTTCue)return self.VTTCue;var e=["","lr","rl"],t=["start","middle","end","left","right"];function n(e,t){if("string"!=typeof t)return!1;if(!Array.isArray(e))return!1;var n=t.toLowerCase();return!!~e.indexOf(n)&&n}function r(e){return n(t,e)}function i(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var o in a)e[o]=a[o]}return e}function a(t,a,o){var s=this,l={enumerable:!0};s.hasBeenReset=!1;var c="",u=!1,d=t,f=a,h=o,p=null,g="",v=!0,m="auto",b="start",y=50,E="middle",O=50,T="middle";Object.defineProperty(s,"id",i({},l,{get:function(){return c},set:function(e){c=""+e}})),Object.defineProperty(s,"pauseOnExit",i({},l,{get:function(){return u},set:function(e){u=!!e}})),Object.defineProperty(s,"startTime",i({},l,{get:function(){return d},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");d=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",i({},l,{get:function(){return f},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");f=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",i({},l,{get:function(){return h},set:function(e){h=""+e,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",i({},l,{get:function(){return p},set:function(e){p=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",i({},l,{get:function(){return g},set:function(t){var r=function(t){return n(e,t)}(t);if(!1===r)throw new SyntaxError("An invalid or illegal string was specified.");g=r,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",i({},l,{get:function(){return v},set:function(e){v=!!e,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",i({},l,{get:function(){return m},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");m=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",i({},l,{get:function(){return b},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",i({},l,{get:function(){return y},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",i({},l,{get:function(){return E},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");E=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",i({},l,{get:function(){return O},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");O=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",i({},l,{get:function(){return T},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");T=t,this.hasBeenReset=!0}})),s.displayState=void 0}return a.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},a}()},"./src/utils/vttparser.ts":function(e,t,n){n.r(t),n.d(t,"parseTimeStamp",(function(){return a})),n.d(t,"fixLineBreaks",(function(){return d})),n.d(t,"VTTParser",(function(){return f}));var r=n("./src/utils/vttcue.ts"),i=function(){function e(){}return e.prototype.decode=function(e,t){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))},e}();function a(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+parseFloat(r||0)}var n=e.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return n?parseFloat(n[2])>59?t(n[2],n[3],0,n[4]):t(n[1],n[2],n[3],n[4]):null}var o=function(){function e(){this.values=Object.create(null)}var t=e.prototype;return t.set=function(e,t){this.get(e)||""===t||(this.values[e]=t)},t.get=function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},t.has=function(e){return e in this.values},t.alt=function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},t.integer=function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},t.percent=function(e,t){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(t)){var n=parseFloat(t);if(n>=0&&n<=100)return this.set(e,n),!0}return!1},e}();function s(e,t,n,r){var i=r?e.split(r):[e];for(var a in i)if("string"==typeof i[a]){var o=i[a].split(n);2===o.length&&t(o[0],o[1])}}var l=new r.default(0,0,""),c="middle"===l.align?"middle":"center";function u(e,t,n){var r=e;function i(){var t=a(e);if(null===t)throw new Error("Malformed timestamp: "+r);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function u(){e=e.replace(/^\s+/,"")}if(u(),t.startTime=i(),u(),"--\x3e"!==e.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);e=e.substr(3),u(),t.endTime=i(),u(),function(e,t){var r=new o;s(e,(function(e,t){var i;switch(e){case"region":for(var a=n.length-1;a>=0;a--)if(n[a].id===t){r.set(e,n[a].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":i=t.split(","),r.integer(e,i[0]),r.percent(e,i[0])&&r.set("snapToLines",!1),r.alt(e,i[0],["auto"]),2===i.length&&r.alt("lineAlign",i[1],["start",c,"end"]);break;case"position":i=t.split(","),r.percent(e,i[0]),2===i.length&&r.alt("positionAlign",i[1],["start",c,"end","line-left","line-right","auto"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start",c,"end","left","right"])}}),/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical","");var i=r.get("line","auto");"auto"===i&&-1===l.line&&(i=-1),t.line=i,t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100),t.align=r.get("align",c);var a=r.get("position","auto");"auto"===a&&50===l.position&&(a="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=a}(e,t)}function d(e){return e.replace(/<br(?: \/)?>/gi,"\n")}var f=function(){function e(){this.state="INITIAL",this.buffer="",this.decoder=new i,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}var t=e.prototype;return t.parse=function(e){var t=this;function n(){var e=t.buffer,n=0;for(e=d(e);n<e.length&&"\r"!==e[n]&&"\n"!==e[n];)++n;var r=e.substr(0,n);return"\r"===e[n]&&++n,"\n"===e[n]&&++n,t.buffer=e.substr(n),r}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var i="";if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var a=(i=n()).match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!a||!a[0])throw new Error("Malformed WebVTT signature.");t.state="HEADER"}for(var o=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(o?o=!1:i=n(),t.state){case"HEADER":/:/.test(i)?s(i,(function(e,t){}),/:/):i||(t.state="ID");continue;case"NOTE":i||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){t.state="NOTE";break}if(!i)continue;if(t.cue=new r.default(0,0,""),t.state="CUE",-1===i.indexOf("--\x3e")){t.cue.id=i;continue}case"CUE":if(!t.cue){t.state="BADCUE";continue}try{u(i,t.cue,t.regionList)}catch(c){t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var l=-1!==i.indexOf("--\x3e");if(!i||l&&(o=!0)){t.oncue&&t.cue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}if(null===t.cue)continue;t.cue.text&&(t.cue.text+="\n"),t.cue.text+=i;continue;case"BADCUE":i||(t.state="ID")}}}catch(c){"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},t.flush=function(){var e=this;try{if((e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state||"BADWEBVTT"===e.state)throw new Error("Malformed WebVTT signature.")}catch(t){e.onparsingerror&&e.onparsingerror(t)}return e.onflush&&e.onflush(),this},e}()},"./src/utils/webvtt-parser.ts":function(e,t,n){n.r(t),n.d(t,"generateCueId",(function(){return d})),n.d(t,"parseWebVTT",(function(){return f}));var r=n("./src/polyfills/number.ts"),i=n("./src/utils/vttparser.ts"),a=n("./src/demux/id3.ts"),o=n("./src/utils/timescale-conversion.ts"),s=n("./src/remux/mp4-remuxer.ts"),l=/\r\n|\n\r|\n|\r/g,c=function(e,t,n){return void 0===n&&(n=0),e.substr(n,t.length)===t},u=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return(t>>>0).toString()};function d(e,t,n){return u(e.toString())+u(t.toString())+u(n)}function f(e,t,n,u,f,h,p,g){var v,m=new i.VTTParser,b=Object(a.utf8ArrayToStr)(new Uint8Array(e)).trim().replace(l,"\n").split("\n"),y=[],E=Object(o.toMpegTsClockFromTimescale)(t,n),O="00:00.000",T=0,_=0,S=!0,k=!1;m.oncue=function(e){var t=u[f],n=u.ccOffset,r=(T-E)/9e4;if(null!=t&&t.new&&(void 0!==_?n=u.ccOffset=t.start:function(e,t,n){var r=e[t],i=e[r.prevCC];if(!i||!i.new&&r.new)return e.ccOffset=e.presentationOffset=r.start,void(r.new=!1);for(;null!==(a=i)&&void 0!==a&&a.new;){var a;e.ccOffset+=r.start-i.start,r.new=!1,i=e[(r=i).prevCC]}e.presentationOffset=n}(u,f,r)),r&&(n=r-u.presentationOffset),k){var i=e.endTime-e.startTime,a=Object(s.normalizePts)(9e4*(e.startTime+n-_),9e4*h)/9e4;e.startTime=a,e.endTime=a+i}var o=e.text.trim();e.text=decodeURIComponent(encodeURIComponent(o)),e.id||(e.id=d(e.startTime,e.endTime,o)),e.endTime>0&&y.push(e)},m.onparsingerror=function(e){v=e},m.onflush=function(){v?g(v):p(y)},b.forEach((function(e){if(S){if(c(e,"X-TIMESTAMP-MAP=")){S=!1,k=!0,e.substr(16).split(",").forEach((function(e){c(e,"LOCAL:")?O=e.substr(6):c(e,"MPEGTS:")&&(T=parseInt(e.substr(7)))}));try{_=function(e){var t=parseInt(e.substr(-3)),n=parseInt(e.substr(-6,2)),i=parseInt(e.substr(-9,2)),a=e.length>9?parseInt(e.substr(0,e.indexOf(":"))):0;if(!(Object(r.isFiniteNumber)(t)&&Object(r.isFiniteNumber)(n)&&Object(r.isFiniteNumber)(i)&&Object(r.isFiniteNumber)(a)))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+e);return t+=1e3*n,(t+=6e4*i)+36e5*a}(O)/1e3}catch(t){k=!1,v=t}return}""===e&&(S=!1)}m.parse(e+"\n")})),m.flush()}},"./src/utils/xhr-loader.ts":function(e,t,n){n.r(t);var r=n("./src/utils/logger.ts"),i=n("./src/loader/load-stats.ts"),a=/^age:\s*[\d.]+\s*$/m,o=function(){function e(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=e?e.xhrSetup:null,this.stats=new i.LoadStats,this.retryDelay=0}var t=e.prototype;return t.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null},t.abortInternal=function(){var e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,4!==e.readyState&&(this.stats.aborted=!0,e.abort()))},t.abort=function(){var e;this.abortInternal(),null!==(e=this.callbacks)&&void 0!==e&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},t.load=function(e,t,n){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=t,this.callbacks=n,this.retryDelay=t.retryDelay,this.loadInternal()},t.loadInternal=function(){var e=this.config,t=this.context;if(e){var n=this.loader=new self.XMLHttpRequest,r=this.stats;r.loading.first=0,r.loaded=0;var i=this.xhrSetup;try{if(i)try{i(n,t.url)}catch(a){n.open("GET",t.url,!0),i(n,t.url)}n.readyState||n.open("GET",t.url,!0)}catch(a){return void this.callbacks.onError({code:n.status,text:a.message},t,n)}t.rangeEnd&&n.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),n.onreadystatechange=this.readystatechange.bind(this),n.onprogress=this.loadprogress.bind(this),n.responseType=t.responseType,self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),e.timeout),n.send()}},t.readystatechange=function(){var e=this.context,t=this.loader,n=this.stats;if(e&&t){var i=t.readyState,a=this.config;if(!n.aborted&&i>=2)if(self.clearTimeout(this.requestTimeout),0===n.loading.first&&(n.loading.first=Math.max(self.performance.now(),n.loading.start)),4===i){t.onreadystatechange=null,t.onprogress=null;var o=t.status;if(o>=200&&o<300){var s,l;if(n.loading.end=Math.max(self.performance.now(),n.loading.first),l="arraybuffer"===e.responseType?(s=t.response).byteLength:(s=t.responseText).length,n.loaded=n.total=l,!this.callbacks)return;var c=this.callbacks.onProgress;if(c&&c(n,e,s,t),!this.callbacks)return;var u={url:t.responseURL,data:s};this.callbacks.onSuccess(u,n,e,t)}else n.retry>=a.maxRetry||o>=400&&o<499?(r.logger.error(o+" while loading "+e.url),this.callbacks.onError({code:o,text:t.statusText},e,t)):(r.logger.warn(o+" while loading "+e.url+", retrying in "+this.retryDelay+"..."),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,a.maxRetryDelay),n.retry++)}else self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),a.timeout)}},t.loadtimeout=function(){r.logger.warn("timeout while loading "+this.context.url);var e=this.callbacks;e&&(this.abortInternal(),e.onTimeout(this.stats,this.context,this.loader))},t.loadprogress=function(e){var t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total)},t.getCacheAge=function(){var e=null;if(this.loader&&a.test(this.loader.getAllResponseHeaders())){var t=this.loader.getResponseHeader("age");e=t?parseFloat(t):null}return e},e}();t.default=o}}).default);var m=g(v.exports);const b={name:"d-icon"},y=Object.assign(b,{props:{icon:String,size:[Number,String]},setup:function(e){const t=e,n=Object(r["computed"])(()=>({fontSize:/^\d+$/.test(t.size)?t.size+"px":t.size}));return(t,i)=>(Object(r["openBlock"])(),Object(r["createElementBlock"])("i",{class:Object(r["normalizeClass"])(["d-icon iconfont",e.icon]),style:Object(r["normalizeStyle"])(Object(r["unref"])(n))},null,6))}});y.__scopeId="data-v-0c690e66",Object(r["pushScopeId"])("data-v-4cb76d59");const E={class:"d-player-top"},O={class:"top-title"},T={class:"top-title"};Object(r["popScopeId"])();const _={props:{title:{default:""}},setup(e){Date.prototype.format=function(e){let t={"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds()};for(var n in t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e};let t=Object(r["ref"])("00:00:00");t.value=(new Date).format("hh:mm:ss");let n=null;return n=setInterval(()=>{t.value=(new Date).format("hh:mm:ss")},1e3),Object(r["onUnmounted"])(()=>{clearInterval(n)}),(n,i)=>(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",E,[Object(r["createElementVNode"])("p",O,Object(r["toDisplayString"])(e.title||""),1),Object(r["createElementVNode"])("p",T,Object(r["toDisplayString"])(Object(r["unref"])(t)),1)]))},__scopeId:"data-v-4cb76d59"};Object(r["pushScopeId"])("data-v-ac2469ec");const S={class:"d-status"},k={class:"d-flex-center"},L={class:"d-flex-center"},A=Object(r["createTextVNode"])("5X速播放中 ");Object(r["popScopeId"])();var w=Object(r["defineComponent"])({props:["state"],setup:e=>(t,n)=>Object(r["withDirectives"])((Object(r["openBlock"])(),Object(r["createElementBlock"])("div",S,[Object(r["withDirectives"])(Object(r["createElementVNode"])("li",k,[Object(r["createVNode"])(y,{size:"18",class:"d-status-icon",icon:"icon-volume-"+(0==e.state.volume?"mute":e.state.volume>.5?"up":"down")},null,8,["icon"]),Object(r["createTextVNode"])(" "+Object(r["toDisplayString"])(~~(100*e.state.volume))+"% ",1)],512),[[r["vShow"],"volume"==e.state.handleType]]),Object(r["withDirectives"])(Object(r["createElementVNode"])("li",L,[Object(r["createVNode"])(y,{size:"12",icon:"icon-play"}),Object(r["createVNode"])(y,{size:"12",icon:"icon-play",style:{"margin-right":"5px"}}),A],512),[[r["vShow"],"playbackRate"==e.state.handleType||e.state.isMultiplesPlay]])],512)),[[r["vShow"],e.state.handleType||e.state.isMultiplesPlay]])});w.__scopeId="data-v-ac2469ec",Object(r["pushScopeId"])("data-v-385f7870");const C=["checked","true-value","false-value"],j=Object(r["createElementVNode"])("span",{class:"d-switch_action"},null,-1);Object(r["popScopeId"])();var D=Object(r["defineComponent"])({props:{modelValue:{type:[Number,String,Boolean]},width:{type:String,default:"40px"},trueValue:{type:[Number,String,Boolean],default:!0},falseValue:{type:[Number,String,Boolean],default:!0},activeColor:{type:[String],default:"#409EFF"}},emits:["update:modelValue","change"],setup(e,{emit:t}){const n=e;Object(r["useCssVars"])(t=>({"014e5dc0":e.width,e4e32852:e.activeColor}));const i=Object(r["ref"])(null),a=Object(r["computed"])(()=>n.modelValue===n.trueValue),o=()=>{Object(r["nextTick"])(()=>{const e=i.value.checked;t("update:modelValue",e),t("change",e)})};return(t,n)=>(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{class:Object(r["normalizeClass"])(["d-switch",{"is-checked":Object(r["unref"])(a)}])},[Object(r["createElementVNode"])("input",{class:"d-switch__input",ref:i,type:"checkbox",checked:Object(r["unref"])(a),onChange:o,"true-value":e.trueValue,"false-value":e.falseValue},null,40,C),j],2))}});D.__scopeId="data-v-385f7870",Object(r["pushScopeId"])("data-v-b2384226");const R={key:0},I=Object(r["createElementVNode"])("i",{class:"rotating iconfont icon-loading f50"},null,-1),x=[Object(r["createElementVNode"])("i",{class:"rotating iconfont icon-loading f50"},null,-1),Object(r["createElementVNode"])("p",null,"正在缓冲...",-1)],P=[Object(r["createElementVNode"])("i",{class:"iconfont icon-replay f24 mr5"},null,-1),Object(r["createTextVNode"])("重新播放 ")],N=[Object(r["createElementVNode"])("i",{class:"iconfont icon-replay f24 mr5"},null,-1),Object(r["createTextVNode"])("请求错误 ")];Object(r["popScopeId"])();var F=Object(r["defineComponent"])({props:{loadType:String,text:{type:String,default:""}},setup(e){const t=e,{proxy:n}=Object(r["getCurrentInstance"])(),i=["loadstart","waiting","ended","error","stalled"],a=()=>{n.$parent.play()},o=Object(r["computed"])(()=>{let e="background: rgba(0, 0, 0, .1);z-index:1";return"loadstart"==t.loadType&&(e="background: rgba(0, 0, 0, 1);;z-index:3"),e});return(t,n)=>Object(r["withDirectives"])((Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{class:"d-loading",style:Object(r["normalizeStyle"])(Object(r["unref"])(o))},[Object(r["createElementVNode"])("div",null,["loadstart"==e.loadType?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",R,[I,Object(r["createElementVNode"])("p",null,Object(r["toDisplayString"])(e.text),1)])):Object(r["createCommentVNode"])("",!0),Object(r["withDirectives"])(Object(r["createElementVNode"])("span",null,x,512),[[r["vShow"],"waiting"==e.loadType]]),Object(r["withDirectives"])(Object(r["createElementVNode"])("span",null,[Object(r["createElementVNode"])("p",{onClick:a,class:"d-flex-x d-pointer"},P)],512),[[r["vShow"],"ended"==e.loadType]]),Object(r["withDirectives"])(Object(r["createElementVNode"])("span",null,[Object(r["createElementVNode"])("p",{onClick:a,class:"d-flex-x d-pointer"},N)],512),[[r["vShow"],"error"==e.loadType||"stalled"==e.loadType]])])],4)),[[r["vShow"],i.includes(e.loadType)]])}});F.__scopeId="data-v-b2384226";const M=function(e,t,n,r=!1){e&&t&&n&&e.addEventListener(t,n,r)},B=function(e,t,n,r=!1){e&&t&&n&&e.removeEventListener(t,n,r)};Object(r["pushScopeId"])("data-v-5a794390");const U=["onMousedown"];Object(r["popScopeId"])();var V=Object(r["defineComponent"])(f(d({},{name:"DSlider"}),{props:{modelValue:{required:!0,type:Number,default:0},disabled:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},hover:{type:Boolean,default:!0},hoverText:{type:String,default:""},preload:{type:Number,default:0},size:{type:String,default:"10px"}},emits:["update:modelValue","change","onMousemove"],setup:function(e,{emit:t}){const n=e;Object(r["useCssVars"])(t=>({"5242b67b":e.size}));const i=Object(r["ref"])(null),a=Object(r["ref"])(null),o=Object(r["reactive"])({dragging:!1,hoverPosition:0,hoverTipsLeft:"50%"}),s=Object(r["computed"])(()=>{let e=n.modelValue<0?0:n.modelValue>1?1:n.modelValue;return n.vertical?`height:${100*e}%`:`width:${100*e}%`}),l=Object(r["computed"])(()=>{let e=n.preload<0?0:n.preload>1?1:n.preload;return n.vertical?`height:${100*e}%`:`width:${100*e}%`}),c=Object(r["computed"])(()=>{let e=o.hoverPosition<0?0:o.hoverPosition>1?1:o.hoverPosition;return n.vertical?`bottom:${100*e}%`:`left:${100*e}%`}),u=e=>{e.preventDefault()},d=e=>{n.disabled||(e.preventDefault(),o.dragging=!0,h(e),M(window,"mousemove",g),M(window,"touchmove",g),M(window,"mouseup",v),M(window,"touchend",v))},f=e=>{if(!n.hover)return;let r=p(e);if(t("onMousemove",e,r),o.hoverPosition=r,n.vertical)return;let s=i.value,l=a.value.clientWidth/2,c=e.clientX-s.getBoundingClientRect().left;c<l?o.hoverTipsLeft=l-c+"px":s.clientWidth-c<l?o.hoverTipsLeft=s.clientWidth-c-l+"px":o.hoverTipsLeft="50%"},h=e=>{let n=p(e);t("update:modelValue",n),t("change",e,n)},p=e=>{let t=i.value,r=0;if(n.vertical){let n=t.clientHeight;r=(t.getBoundingClientRect().bottom-e.clientY)/n}else r=(e.clientX-t.getBoundingClientRect().left)/t.clientWidth;return r<0?0:r>1?1:r},g=e=>{h(e)},v=e=>{o.dragging&&(B(window,"mousemove",g),B(window,"touchmove",g),B(window,"mouseup",v),B(window,"touchend",v),B(window,"contextmenu",v),setTimeout(()=>{o.dragging=!1},0))};return(e,t)=>(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{ref:i,class:Object(r["normalizeClass"])(["d-slider",{"is-vertical":n.vertical}]),onMousedown:Object(r["withModifiers"])(d,["stop"]),onContextmenu:u},[Object(r["createElementVNode"])("div",{class:"d-slider__runway",onMousemove:f},[Object(r["withDirectives"])(Object(r["createElementVNode"])("div",{class:"d-slider__cursor",style:Object(r["normalizeStyle"])(Object(r["unref"])(c))},[Object(r["withDirectives"])(Object(r["createElementVNode"])("div",{class:"d-slider__tips",ref:a,style:Object(r["normalizeStyle"])({left:Object(r["unref"])(o).hoverTipsLeft})},Object(r["toDisplayString"])(n.hoverText),5),[[r["vShow"],n.hoverText]])],4),[[r["vShow"],n.hover]]),Object(r["createElementVNode"])("div",{class:"d-slider__preload",style:Object(r["normalizeStyle"])(Object(r["unref"])(l))},null,4),Object(r["createElementVNode"])("div",{class:"d-slider__bar",style:Object(r["normalizeStyle"])(Object(r["unref"])(s))},null,4)],32)],42,U))}}));V.__scopeId="data-v-5a794390",Object(r["pushScopeId"])("data-v-570fa0d1");const G={key:0,class:"d-player-dialog"},H={class:"d-player-dialog-body"},K={class:"d-player-dialog-title"},W={class:"d-player-hotkey-panel"},q={class:"d-player-filter-panel"},Y={class:"d-player-filter-panel-item"},$=Object(r["createElementVNode"])("span",null,"饱和度",-1),z={class:"d-player-filter-panel-item"},X=Object(r["createElementVNode"])("span",null,"亮度",-1),J={class:"d-player-filter-panel-item"},Q=Object(r["createElementVNode"])("span",null,"对比度",-1),Z={key:0,class:"d-player-contextmenu"},ee=["dplayerKeyCode"],te=Object(r["createElementVNode"])("input",{class:"d-player-copyText"},null,-1);Object(r["popScopeId"])();var ne=Object(r["defineComponent"])({setup(e){const t=Object(r["reactive"])({show:!1,dialogType:"",dialogTitle:"",version:"1.3.1-beta.6",mouseX:0,mouseY:0}),n=[{label:"视频色彩调整",key:"filter"},{label:"快捷键说明",key:"hotkey"},{label:"复制视频网址",key:"copy"},{label:"版本：1.3.1-beta.6",key:"version"}],i=[{key:"Space",label:"播放/暂停"},{key:"→",label:"单次快进10s，长按5倍速播放"},{key:"←",label:"快退5s"},{key:"↑",label:"音量增加10%"},{key:"↓",label:"音量增加降低10%"},{key:"Esc",label:"退出全屏/退出网页全屏"},{key:"F",label:"全屏/退出全屏"}],a=Object(r["reactive"])({saturate:.392,brightness:.392,contrast:.392}),o=Object(r["computed"])(()=>({left:t.mouseX+"px",top:t.mouseY+"px"}));Object(r["watch"])(a,e=>{let t=document.querySelector("#dPlayerVideo"),n=(2.55*e.saturate).toFixed(2),r=(2.55*e.brightness).toFixed(2),i=(2.55*e.contrast).toFixed(2);t.style.filter=`saturate(${n}) brightness(${r}) contrast(${i})`});const s=()=>{a.saturate=.392,a.brightness=.392,a.contrast=.392},l=e=>{"Escape"==e.key&&u(0)},c=e=>{e.preventDefault(),M(window,"keydown",l),M(window,"click",u);let n=document.querySelector("#refPlayerWrap"),r=n.clientWidth;n.clientHeight,t.mouseX=e.clientX-n.getBoundingClientRect().left,r-t.mouseX<130&&(t.mouseX=t.mouseX+(r-t.mouseX-130)),t.mouseY=e.clientY-n.getBoundingClientRect().top,t.show=!0},u=e=>{let r="LI"==e.path[0].tagName,i=e.path[0].attributes.dplayerKeyCode&&e.path[0].attributes.dplayerKeyCode.value,a=n.map(e=>e.key);if(r&&a.includes(i))if(t.dialogTitle=e.path[0].innerText,t.dialogType=i,"copy"==i){let e=document.querySelector(".d-player-copyText");e.value=window.location.href,e.select(),document.execCommand("copy"),t.dialogType=""}else"version"==i&&(t.dialogType="");t.show=!1,B(window,"keydown",l),B(window,"click",u)};return Object(r["onMounted"])(()=>{let e=document.querySelector("#refPlayerWrap");B(window,"keydown",l),B(window,"click",u),B(e,"contextmenu",c),M(e,"contextmenu",c)}),Object(r["onUnmounted"])(()=>{let e=document.querySelector("#refPlayerWrap");B(window,"keydown",l),B(window,"click",u),B(e,"contextmenu",c)}),(e,l)=>(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[Object(r["createVNode"])(r["Transition"],{name:"d-fade-in"},{default:Object(r["withCtx"])(()=>[Object(r["unref"])(t).dialogType?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",G,[Object(r["createElementVNode"])("div",H,[Object(r["createElementVNode"])("h5",K,[Object(r["createTextVNode"])(Object(r["toDisplayString"])(Object(r["unref"])(t).dialogTitle)+" ",1),Object(r["createElementVNode"])("i",{onClick:l[0]||(l[0]=e=>Object(r["unref"])(t).dialogType=!1),class:"icon icon-close"},"X")]),Object(r["withDirectives"])(Object(r["createElementVNode"])("ul",W,[(Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(i,e=>Object(r["createElementVNode"])("li",{class:"d-player-hotkey-panel-item",key:e.key},[Object(r["createElementVNode"])("span",null,Object(r["toDisplayString"])(e.key),1),Object(r["createElementVNode"])("span",null,Object(r["toDisplayString"])(e.label),1)])),64))],512),[[r["vShow"],"hotkey"==Object(r["unref"])(t).dialogType]]),Object(r["withDirectives"])(Object(r["createElementVNode"])("ul",q,[Object(r["createElementVNode"])("li",Y,[$,Object(r["createVNode"])(V,{class:"filter-panel-slider",size:"5px",modelValue:Object(r["unref"])(a).saturate,"onUpdate:modelValue":l[1]||(l[1]=e=>Object(r["unref"])(a).saturate=e)},null,8,["modelValue"]),Object(r["createElementVNode"])("span",null,Object(r["toDisplayString"])(Math.round(255*Object(r["unref"])(a).saturate)),1)]),Object(r["createElementVNode"])("li",z,[X,Object(r["createVNode"])(V,{class:"filter-panel-slider",size:"5px",modelValue:Object(r["unref"])(a).brightness,"onUpdate:modelValue":l[2]||(l[2]=e=>Object(r["unref"])(a).brightness=e)},null,8,["modelValue"]),Object(r["createElementVNode"])("span",null,Object(r["toDisplayString"])(Math.round(255*Object(r["unref"])(a).brightness)),1)]),Object(r["createElementVNode"])("li",J,[Q,Object(r["createVNode"])(V,{class:"filter-panel-slider",size:"5px",modelValue:Object(r["unref"])(a).contrast,"onUpdate:modelValue":l[3]||(l[3]=e=>Object(r["unref"])(a).contrast=e)},null,8,["modelValue"]),Object(r["createElementVNode"])("span",null,Object(r["toDisplayString"])(Math.round(255*Object(r["unref"])(a).contrast)),1)]),Object(r["createElementVNode"])("span",{onClick:s,title:"重置","aria-label":"重置",class:"d-player-filter-reset"},"重置")],512),[[r["vShow"],"filter"==Object(r["unref"])(t).dialogType]])])])):Object(r["createCommentVNode"])("",!0)]),_:1}),Object(r["unref"])(t).show?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",Z,[Object(r["createElementVNode"])("ul",{class:"d-player-contextmenu-body",style:Object(r["normalizeStyle"])(Object(r["unref"])(o))},[(Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(n,e=>Object(r["createElementVNode"])("li",{dplayerKeyCode:e.key,key:e.key},Object(r["toDisplayString"])(e.label),9,ee)),64))],4),te])):Object(r["createCommentVNode"])("",!0)]))}});ne.__scopeId="data-v-570fa0d1";const re=e=>{let t=~~(e/3600),n=~~(e%3600/60),r=~~(e%60);return t=t<10?"0"+t:t,n=n<10?"0"+n:n,r=r<10?"0"+r:r,`${t}:${n}:${r}`},ie=!!("ontouchstart"in window),ae=["loadstart","play","pause","playing","seeking","seeked","waiting","durationchange","progress","canplay","timeupdate","ended","error","stalled"],oe={width:{type:String,default:"800px"},height:{type:String,default:"450px"},color:{type:String,default:"#409eff"},src:{required:!0,type:String,default:""},title:{type:String,default:""},type:{type:String,default:"video/mp4"},poster:{type:String,default:""},webFullScreen:{type:Boolean,default:!1},speed:{type:Boolean,default:!0},currentTime:{type:Number,default:0},playsinline:{type:Boolean,default:!1},muted:{type:Boolean,default:!1},speedRate:{type:Array,default:()=>["2.0","1.5","1.25","1.0","0.75","0.5"]},autoPlay:{type:Boolean,default:!1},loop:{type:Boolean,default:!1},mirror:{type:Boolean,default:!1},ligthOff:{type:Boolean,default:!1},volume:{type:[String,Number],default:.3},control:{type:Boolean,default:!0},controlBtns:{type:Array,default:["audioTrack","quality","speedRate","volume","setting","pip","pageFullScreen","fullScreen"]},preload:{type:String,default:"auto"}};Object(r["pushScopeId"])("data-v-01791e9e");const se={class:"d-player-video",id:"dPlayerVideo"},le=["controls","webkit-playsinline","playsinline","volume","muted","loop","preload","src","poster"],ce={class:"d-player-lightoff"},ue={key:1,class:"d-player-state"},de={class:"d-play-btn"},fe=["onKeyup","onKeydown"],he={class:"d-control-progress"},pe={class:"d-tool-bar"},ge={key:0,class:"d-tool-item d-tool-time audioTrack-btn"},ve=Object(r["createElementVNode"])("span",{style:{margin:"0 3px"}},"/",-1),me={class:"total-time"},be={class:"d-tool-bar"},ye={key:0,class:"d-tool-item quality-btn"},Ee={class:"d-tool-item-main"},Oe={class:"speed-main",style:{"text-align":"center"}},Te=["onClick"],_e={key:1,class:"d-tool-item speedRate-btn"},Se={class:"d-tool-item-main"},ke={class:"speed-main"},Le=["onClick"],Ae={key:2,class:"d-tool-item volume-btn"},we={class:"d-tool-item-main volume-box",style:{width:"52px"}},Ce={class:"volume-text-size"},je={key:3,class:"d-tool-item setting-btn"},De={class:"d-tool-item-main"},Re={class:"speed-main"},Ie=Object(r["createTextVNode"])(" 镜像画面 "),xe=Object(r["createTextVNode"])(" 循环播放 "),Pe=Object(r["createTextVNode"])(" 关灯模式 "),Ne=Object(r["createElementVNode"])("div",{class:"d-tool-item-main"},"画中画",-1),Fe=Object(r["createElementVNode"])("div",{class:"d-tool-item-main"},"网页全屏",-1),Me=Object(r["createElementVNode"])("div",{class:"d-tool-item-main"},"全屏",-1);Object(r["popScopeId"])();var Be=Object(r["defineComponent"])(f(d({},{name:"vue3VideoPlay",inheritAttrs:!1}),{props:oe,emits:[...ae,"mirrorChange","loopChange","lightOffChange"],setup:function(e,{expose:t,emit:n}){const i=e;Object(r["useCssVars"])(e=>({"51d4439c":Object(r["unref"])(b),"77e758a6":e.width,b8a1afc0:e.height}));const a=new m({fragLoadingTimeOut:2e3}),o=Object(r["ref"])(null),s=Object(r["ref"])(null),l=Object(r["ref"])(null),c=Object(r["ref"])(null),u=Object(r["reactive"])(f(d({dVideo:null},i),{muted:i.muted,playBtnState:i.autoPlay?"pause":"play",loadStateType:"loadstart",fullScreen:!1,handleType:"",currentTime:"00:00:00",preloadBar:0,totalTime:"00:00:00",isVideoHovering:!0,speedActive:"1.0",playProgress:0,isMultiplesPlay:!1,longPressTimeout:null,progressCursorTime:"00:00:00",qualityLevels:[],currentLevel:0})),h=(...e)=>t=>e.reverse().reduce((e,t)=>t(e),t),g=ae.reduce((e,t)=>{var r;return e["on"+(r=t,r.charAt(0).toUpperCase()+r.slice(1))]=e=>{u.loadStateType=t,n(t,e)},e},{});g.onCanplay=h(g.onCanplay,()=>{"play"!=u.playBtnState&&u.dVideo.play(),u.autoPlay&&(u.dVideo.play(),u.playBtnState="pause")}),g.onEnded=h(g.onEnded,()=>{u.playBtnState="replay"}),g.onDurationchange=e=>{n("durationchange",e),0!=i.currentTime&&(u.dVideo.currentTime=i.currentTime),g.onTimeupdate(e)},g.onProgress=e=>{console.log("缓冲中..."),n("progress",e);let t=e.target.duration,r=e.target.buffered,i=e.target.buffered.length&&e.target.buffered.end(r-1);u.preloadBar=i/t},g.onTimeupdate=e=>{n("timeupdate",e);let t=e.duration||e.target.duration||0,r=e.currentTime||e.target.currentTime;u.playProgress=r/t,u.currentTime=re(r),u.totalTime=re(t)},g.onError=h(g.onError,()=>{u.playBtnState="replay"});let v=Object(r["useAttrs"])();for(let r in v)g[r]=v[r];const b=(E=u.color,`${parseInt("0x"+E.slice(1,3))},${parseInt("0x"+E.slice(3,5))},${parseInt("0x"+E.slice(5,7))}`);var E;const O=p(500,()=>{u.handleType=""}),T=e=>{e.preventDefault(),"ArrowUp"==e.code?u.volume=u.volume+.1>1?1:u.volume+.1:u.volume=u.volume-.1<0?0:u.volume-.1,u.muted=!1,u.handleType="volume",O()},S=e=>{i.speed&&(u.dVideo.currentTime=u.dVideo.currentTime<10?.1:u.dVideo.currentTime-10,g.onTimeupdate(u.dVideo),A())},k=e=>{e.preventDefault();let t=e.type;if("ArrowRight"==e.key)if(A(),"keyup"==t){if(clearTimeout(u.longPressTimeout),!i.speed&&!u.longPressTimeout)return;u.isMultiplesPlay?(u.dVideo.playbackRate=u.speedActive,u.isMultiplesPlay=!1):(u.dVideo.currentTime=u.dVideo.currentTime+10,g.onTimeupdate(u.dVideo))}else if("keydown"==t){if(!i.speed)return;u.isMultiplesPlay&&clearTimeout(u.longPressTimeout),u.longPressTimeout=setTimeout(()=>{u.isMultiplesPlay=!0,u.dVideo.playbackRate=5,u.handleType="playbackRate",O()},500)}},L=()=>{ie||c.value.focus()},A=()=>{u.loadStateType="play",u.dVideo.play().catch(()=>{setTimeout(()=>{u.playBtnState="replay",u.loadStateType="error"},500)}),u.playBtnState="pause"},C=()=>{u.dVideo.pause(),u.playBtnState="play"},j=e=>{e&&e.preventDefault(),"play"==u.playBtnState||"replay"==u.playBtnState?A():"pause"==u.playBtnState&&C()},R=()=>{u.muted=!u.muted,0==u.volume&&(u.volume=.05)},I=(e,t)=>{let n=u.dVideo.duration||u.dVideo.target.duration;u.dVideo.currentTime=n*t,"play"==u.playBtnState&&(u.dVideo.play(),u.playBtnState="pause")},x=(e,t)=>{u.progressCursorTime=re(u.dVideo.duration*t)},P=p(2500,()=>{u.isVideoHovering=!1}),N=e=>{u.isVideoHovering=!0,P()},M=e=>{n("mirrorChange",e,u.dVideo)},B=e=>{n("loopChange",e,u.dVideo)},U=e=>{n("lightOffChange",e,u.dVideo)},G=()=>{var e;e=u.dVideo,document.pictureInPictureElement?document.exitPictureInPicture().catch(e=>{console.log(e,"Video failed to leave Picture-in-Picture mode.")}):e.requestPictureInPicture().catch(e=>{console.log(e,"Video failed to enter Picture-in-Picture mode.")})},H=()=>{u.fullScreen=(e=>{let t=document,n=t.webkitIsFullScreen||t.fullscreen;return n?(document.exitFullscreen||t.webkitExitFullScreen).call(t):(e.requestFullscreen||e.webkitRequestFullScreen).call(e),!n})(o.value)};return Object(r["watch"])(()=>i.src,()=>{Object(r["nextTick"])(()=>{u.dVideo.canPlayType(i.type)||u.dVideo.canPlayType("application/vnd.apple.mpegurl")?u.muted=i.autoPlay:m.isSupported()&&(a.detachMedia(),a.attachMedia(u.dVideo),a.on(m.Events.MEDIA_ATTACHED,()=>{a.loadSource(i.src),a.on("hlsManifestParsed",(e,t)=>{console.log(t),u.currentLevel=t.level,u.qualityLevels=t.levels||[]})}),a.on("hlsLevelSwitching",(e,t)=>{console.log(t),console.log("LEVEL_SWITCHING")}),a.on("hlsLevelSwitched",(e,t)=>{u.currentLevel=t.level,console.log("LEVEL_SWITCHED")}))})},{immediate:!0}),Object(r["onMounted"])(()=>{u.dVideo=s,L()}),t({play:A,pause:C,togglePlay:j}),(e,t)=>(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{ref:o,id:"refPlayerWrap",class:Object(r["normalizeClass"])(["d-player-wrap",{"web-full-screen":Object(r["unref"])(u).webFullScreen,"is-lightoff":Object(r["unref"])(u).lightOff,"d-player-wrap-hover":"play"==Object(r["unref"])(u).playBtnState||Object(r["unref"])(u).isVideoHovering}]),onMousemove:N},[Object(r["createElementVNode"])("div",se,[Object(r["createElementVNode"])("video",Object(r["mergeProps"])({ref:s,class:["d-player-video-main",{"video-mirror":Object(r["unref"])(u).mirror}],id:"dPlayerVideoMain",controls:!(!Object(r["unref"])(ie)||!Object(r["unref"])(u).speed),"webkit-playsinline":i.playsinline,playsinline:i.playsinline},Object(r["unref"])(g),{volume:Object(r["unref"])(u).volume,muted:Object(r["unref"])(u).muted,loop:Object(r["unref"])(u).loop,preload:e.preload,width:"100%",height:"100%",src:i.src,poster:i.poster}),"您的浏览器不支持Video标签。",16,le)]),Object(r["createVNode"])(r["Transition"],{name:"d-fade-in"},{default:Object(r["withCtx"])(()=>[Object(r["withDirectives"])(Object(r["createElementVNode"])("div",ce,null,512),[[r["vShow"],Object(r["unref"])(u).lightOff]])]),_:1}),Object(r["unref"])(u).fullScreen?(Object(r["openBlock"])(),Object(r["createBlock"])(_,{key:0,title:i.title},null,8,["title"])):Object(r["createCommentVNode"])("",!0),Object(r["unref"])(ie)?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",ue,[Object(r["createVNode"])(r["Transition"],{name:"d-scale-out"},{default:Object(r["withCtx"])(()=>[Object(r["withDirectives"])(Object(r["createElementVNode"])("div",de,[Object(r["createVNode"])(y,{icon:"icon-play",size:40})],512),[[r["vShow"],"play"==Object(r["unref"])(u).playBtnState]])]),_:1}),Object(r["createVNode"])(w,{state:Object(r["unref"])(u)},null,8,["state"])])),Object(r["unref"])(ie)?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createElementBlock"])("input",{key:2,type:"input",readonly:"readonly",ref:c,onDblclick:H,onKeyup:[Object(r["withKeys"])(H,["f"]),t[0]||(t[0]=Object(r["withKeys"])(e=>Object(r["unref"])(u).webFullScreen=!1,["esc"])),k],onClick:j,onKeydown:[Object(r["withKeys"])(j,["space"]),Object(r["withKeys"])(S,["arrow-left"]),Object(r["withKeys"])(T,["arrow-up","arrow-down"]),k],class:"d-player-input",maxlength:"0"},null,40,fe)),Object(r["createVNode"])(F,{loadType:Object(r["unref"])(u).loadStateType},null,8,["loadType"]),Object(r["createVNode"])(ne),!Object(r["unref"])(ie)&&Object(r["unref"])(u).control?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{key:3,class:"d-player-control",ref:l},[Object(r["createElementVNode"])("div",he,[Object(r["createVNode"])(V,{class:"d-progress-bar",onOnMousemove:x,onChange:I,disabled:!Object(r["unref"])(u).speed,hoverText:Object(r["unref"])(u).progressCursorTime,modelValue:Object(r["unref"])(u).playProgress,"onUpdate:modelValue":t[1]||(t[1]=e=>Object(r["unref"])(u).playProgress=e),preload:Object(r["unref"])(u).preloadBar},null,8,["disabled","hoverText","modelValue","preload"])]),Object(r["createElementVNode"])("div",{class:"d-control-tool",onClick:L},[Object(r["createElementVNode"])("div",pe,[Object(r["createElementVNode"])("div",{class:"d-tool-item",onClick:j},[Object(r["createVNode"])(y,{size:"24",icon:"icon-"+Object(r["unref"])(u).playBtnState},null,8,["icon"])]),i.controlBtns.includes("audioTrack")?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",ge,[Object(r["createElementVNode"])("span",null,Object(r["toDisplayString"])(Object(r["unref"])(u).currentTime),1),ve,Object(r["createElementVNode"])("span",me,Object(r["toDisplayString"])(Object(r["unref"])(u).totalTime),1)])):Object(r["createCommentVNode"])("",!0)]),Object(r["createElementVNode"])("div",be,[Object(r["unref"])(u).qualityLevels.length&&i.controlBtns.includes("quality")?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",ye,[Object(r["createTextVNode"])(Object(r["toDisplayString"])(Object(r["unref"])(u).qualityLevels.length&&(Object(r["unref"])(u).qualityLevels[Object(r["unref"])(u).currentLevel]||{}).height)+"P ",1),Object(r["createElementVNode"])("div",Ee,[Object(r["createElementVNode"])("ul",Oe,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(Object(r["unref"])(u).qualityLevels,(e,t)=>(Object(r["openBlock"])(),Object(r["createElementBlock"])("li",{class:Object(r["normalizeClass"])({"speed-active":Object(r["unref"])(u).currentLevel==t}),onClick:e=>((e,t)=>{a.currentLevel=t,u.currentLevel=t})(0,t),key:e},Object(r["toDisplayString"])(e.height)+"P",11,Te))),128))])])])):Object(r["createCommentVNode"])("",!0),i.controlBtns.includes("speedRate")?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",_e,[Object(r["createTextVNode"])(Object(r["toDisplayString"])("1.0"==Object(r["unref"])(u).speedActive?"倍速":Object(r["unref"])(u).speedActive+"x")+" ",1),Object(r["createElementVNode"])("div",Se,[Object(r["createElementVNode"])("ul",ke,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(Object(r["unref"])(u).speedRate,e=>(Object(r["openBlock"])(),Object(r["createElementBlock"])("li",{class:Object(r["normalizeClass"])({"speed-active":Object(r["unref"])(u).speedActive==e}),onClick:t=>(e=>{u.speedActive=e,u.dVideo.playbackRate=e})(e),key:e},Object(r["toDisplayString"])(e)+"x",11,Le))),128))])])])):Object(r["createCommentVNode"])("",!0),i.controlBtns.includes("volume")?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",Ae,[Object(r["createElementVNode"])("div",we,[Object(r["createElementVNode"])("div",{class:Object(r["normalizeClass"])(["volume-main",{"is-muted":Object(r["unref"])(u).muted}])},[Object(r["createElementVNode"])("span",Ce,Object(r["toDisplayString"])(Object(r["unref"])(u).muted?0:~~(100*Object(r["unref"])(u).volume))+"%",1),Object(r["createVNode"])(V,{onChange:t[2]||(t[2]=e=>Object(r["unref"])(u).muted=!1),hover:!1,size:"5px",vertical:!0,modelValue:Object(r["unref"])(u).volume,"onUpdate:modelValue":t[3]||(t[3]=e=>Object(r["unref"])(u).volume=e)},null,8,["modelValue"])],2)]),Object(r["createElementVNode"])("span",{onClick:R,style:{display:"flex"}},[Object(r["createVNode"])(y,{size:"20",icon:"icon-volume-"+(0==Object(r["unref"])(u).volume||Object(r["unref"])(u).muted?"mute":Object(r["unref"])(u).volume>.5?"up":"down")},null,8,["icon"])])])):Object(r["createCommentVNode"])("",!0),i.controlBtns.includes("setting")?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",je,[Object(r["createVNode"])(y,{size:"20",class:"rotateHover",icon:"icon-settings"}),Object(r["createElementVNode"])("div",De,[Object(r["createElementVNode"])("ul",Re,[Object(r["createElementVNode"])("li",null,[Ie,Object(r["createVNode"])(D,{onChange:M,modelValue:Object(r["unref"])(u).mirror,"onUpdate:modelValue":t[4]||(t[4]=e=>Object(r["unref"])(u).mirror=e)},null,8,["modelValue"])]),Object(r["createElementVNode"])("li",null,[xe,Object(r["createVNode"])(D,{onChange:B,modelValue:Object(r["unref"])(u).loop,"onUpdate:modelValue":t[5]||(t[5]=e=>Object(r["unref"])(u).loop=e)},null,8,["modelValue"])]),Object(r["createElementVNode"])("li",null,[Pe,Object(r["createVNode"])(D,{onChange:U,modelValue:Object(r["unref"])(u).lightOff,"onUpdate:modelValue":t[6]||(t[6]=e=>Object(r["unref"])(u).lightOff=e)},null,8,["modelValue"])])])])])):Object(r["createCommentVNode"])("",!0),i.controlBtns.includes("pip")?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{key:4,class:"d-tool-item pip-btn",onClick:G},[Object(r["createVNode"])(y,{size:"20",icon:"icon-pip"}),Ne])):Object(r["createCommentVNode"])("",!0),i.controlBtns.includes("pageFullScreen")?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{key:5,class:"d-tool-item pip-btn",onClick:t[7]||(t[7]=e=>Object(r["unref"])(u).webFullScreen=!Object(r["unref"])(u).webFullScreen)},[Object(r["createVNode"])(y,{size:"20",icon:"icon-web-screen"}),Fe])):Object(r["createCommentVNode"])("",!0),i.controlBtns.includes("fullScreen")?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{key:6,class:"d-tool-item fullScreen-btn",onClick:H},[Me,Object(r["createVNode"])(y,{size:"20",icon:"icon-screen"})])):Object(r["createCommentVNode"])("",!0)])])],512)):Object(r["createCommentVNode"])("",!0)],34))}}));function Ue(e){e.component(Be.name,Be)}Be.__scopeId="data-v-01791e9e",Be.install=Ue}).call(this,n("c8ba"))},"7d7e":function(e,t,n){var r=n("40d5"),i=Function.prototype,a=i.call,o=r&&i.bind.bind(a,a);e.exports=function(e){return r?o(e):function(){return a.apply(e,arguments)}}},"7f74":function(e,t,n){"use strict";n("68ef"),n("9312")},"7fb6":function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n("23f9"),i=n("7a23"),a=n("1fba"),o=n("fa7c"),s=n("e5f6"),l=n("b75f"),c=n("e744"),u=n("450f"),d=n("4e5e"),f=n("9a1c"),h=n("8be7");const[p,g]=Object(a["a"])("tabbar-item"),v=Object(o["a"])({},d["b"],{dot:Boolean,icon:String,name:s["f"],badge:s["f"],badgeProps:Object,iconPrefix:String});var m=Object(i["defineComponent"])({name:p,props:v,emits:["click"],setup(e,{emit:t,slots:n}){const r=Object(d["c"])(),a=Object(i["getCurrentInstance"])().proxy,{parent:o,index:s}=Object(u["useParent"])(c["a"]);if(!o)return void 0;const p=Object(i["computed"])(()=>{var t;const{route:n,modelValue:r}=o.props;if(n&&"$route"in a){const{$route:t}=a,{to:n}=e,r=Object(l["f"])(n)?n:{path:n};return!!t.matched.find(e=>{const t="path"in r&&r.path===e.path,n="name"in r&&r.name===e.name;return t||n})}return(null!=(t=e.name)?t:s.value)===r}),v=n=>{var i;p.value||o.setActive(null!=(i=e.name)?i:s.value,r),t("click",n)},m=()=>n.icon?n.icon({active:p.value}):e.icon?Object(i["createVNode"])(f["a"],{name:e.icon,classPrefix:e.iconPrefix},null):void 0;return()=>{var t;const{dot:r,badge:a}=e,{activeColor:s,inactiveColor:l}=o.props,c=p.value?s:l;return Object(i["createVNode"])("div",{role:"tab",class:g({active:p.value}),style:{color:c},tabindex:0,"aria-selected":p.value,onClick:v},[Object(i["createVNode"])(h["a"],Object(i["mergeProps"])({dot:r,class:g("icon"),content:a},e.badgeProps),{default:m}),Object(i["createVNode"])("div",{class:g("text")},[null==(t=n.default)?void 0:t.call(n,{active:p.value})])])}}});const b=Object(r["a"])(m);var y=b},"825a":function(e,t,n){var r=n("861d"),i=String,a=TypeError;e.exports=function(e){if(r(e))return e;throw a(i(e)+" is not an object")}},"83ab":function(e,t,n){var r=n("d039");e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"83b9":function(e,t,n){"use strict";var r=n("d925"),i=n("e683");e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},"848b":function(e,t,n){"use strict";var r=n("5cce").version,i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var a={};function o(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");var r=Object.keys(e),i=r.length;while(i-- >0){var a=r[i],o=t[a];if(o){var s=e[a],l=void 0===s||o(s,a,e);if(!0!==l)throw new TypeError("option "+a+" must be "+l)}else if(!0!==n)throw Error("Unknown option "+a)}}i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,o){if(!1===e)throw new Error(i(r," has been removed"+(t?" in "+t:"")));return t&&!a[r]&&(a[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,o)}},e.exports={assertOptions:o,validators:i}},"84d0":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7a23");function i(e){const t=Object(r["ref"])(!1);return Object(r["watch"])(e,e=>{e&&(t.value=e)},{immediate:!0}),e=>()=>t.value?e():null}},"852e":function(e,t,n){(function(t,n){e.exports=n()})(0,(function(){"use strict";function e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var t={read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function n(t,r){function i(n,i,a){if("undefined"!==typeof document){a=e({},r,a),"number"===typeof a.expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),n=encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var s in a)a[s]&&(o+="; "+s,!0!==a[s]&&(o+="="+a[s].split(";")[0]));return document.cookie=n+"="+t.write(i,n)+o}}function a(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},i=0;i<n.length;i++){var a=n[i].split("="),o=a.slice(1).join("=");try{var s=decodeURIComponent(a[0]);if(r[s]=t.read(o,s),e===s)break}catch(l){}}return e?r[e]:r}}return Object.create({set:i,get:a,remove:function(t,n){i(t,"",e({},n,{expires:-1}))},withAttributes:function(t){return n(this.converter,e({},this.attributes,t))},withConverter:function(t){return n(e({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}var r=n(t,{path:"/"});return r}))},"861d":function(e,t,n){var r=n("1626"),i=n("8ea1"),a=i.all;e.exports=i.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:r(e)||e===a}:function(e){return"object"==typeof e?null!==e:r(e)}},8925:function(e,t,n){var r=n("e330"),i=n("1626"),a=n("c6cd"),o=r(Function.toString);i(a.inspectSource)||(a.inspectSource=function(e){return o(e)}),e.exports=a.inspectSource},"89a0":function(e,t,n){"use strict";n("68ef"),n("cb51"),n("3743")},"8a0b":function(e,t,n){},"8be7":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("23f9"),i=n("7a23"),a=n("1fba"),o=n("e5f6"),s=n("b75f"),l=n("5aa0");const[c,u]=Object(a["a"])("badge"),d={dot:Boolean,max:o["f"],tag:Object(o["e"])("div"),color:String,offset:Array,content:o["f"],showZero:o["g"],position:Object(o["e"])("top-right")};var f=Object(i["defineComponent"])({name:c,props:d,setup(e,{slots:t}){const n=()=>{if(t.content)return!0;const{content:n,showZero:r}=e;return Object(s["b"])(n)&&""!==n&&(r||0!==n&&"0"!==n)},r=()=>{const{dot:r,max:i,content:a}=e;if(!r&&n())return t.content?t.content():Object(s["b"])(i)&&Object(s["e"])(a)&&+a>i?i+"+":a},a=Object(i["computed"])(()=>{const n={background:e.color};if(e.offset){const[r,i]=e.offset;t.default?(n.top=Object(l["a"])(i),n.right="number"===typeof r?Object(l["a"])(-r):r.startsWith("-")?r.replace("-",""):"-"+r):(n.marginTop=Object(l["a"])(i),n.marginLeft=Object(l["a"])(r))}return n}),o=()=>{if(n()||e.dot)return Object(i["createVNode"])("div",{class:u([e.position,{dot:e.dot,fixed:!!t.default}]),style:a.value},[r()])};return()=>{if(t.default){const{tag:n}=e;return Object(i["createVNode"])(n,{class:u("wrapper")},{default:()=>[t.default(),o()]})}return o()}}});const h=Object(r["a"])(f)},"8db7":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return s})),n.d(t,"i",(function(){return m})),n.d(t,"j",(function(){return v}));var r=n("450f"),i=n("7a23"),a=n("b75f");function o(e){const t="scrollTop"in e?e.scrollTop:e.pageYOffset;return Math.max(t,0)}function s(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}function l(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function c(e){s(window,e),s(document.body,e)}function u(e,t){if(e===window)return 0;const n=t?o(t):l();return Object(r["useRect"])(e).top+n}const d=Object(a["d"])();function f(){d&&c(l())}const h=e=>e.stopPropagation();function p(e,t){("boolean"!==typeof e.cancelable||e.cancelable)&&e.preventDefault(),t&&h(e)}function g(e){const t=Object(i["unref"])(e);if(!t)return!1;const n=window.getComputedStyle(t),r="none"===n.display,a=null===t.offsetParent&&"fixed"!==n.position;return r||a}const{width:v,height:m}=Object(r["useWindowSize"])()},"8df4":function(e,t,n){"use strict";var r=n("7a77");function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e,t=new i((function(t){e=t}));return{token:t,cancel:e}},e.exports=i},"8ea1":function(e,t){var n="object"==typeof document&&document.all,r="undefined"==typeof n&&void 0!==n;e.exports={all:n,IS_HTMLDDA:r}},"90e3":function(e,t,n){var r=n("e330"),i=0,a=Math.random(),o=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++i+a,36)}},9112:function(e,t,n){var r=n("83ab"),i=n("9bf2"),a=n("5c6c");e.exports=r?function(e,t,n){return i.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},9312:function(e,t,n){},"94ca":function(e,t,n){var r=n("d039"),i=n("1626"),a=/#|\.prototype\./,o=function(e,t){var n=l[s(e)];return n==u||n!=c&&(i(t)?r(t):!!t)},s=o.normalize=function(e){return String(e).replace(a,".").toLowerCase()},l=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";e.exports=o},"95de":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return h}));var r=n("7a23"),i=n("1fba"),a=n("e5f6"),o=n("5aa0"),s=n("bbf9");const[l,c]=Object(i["a"])("config-provider"),u=Symbol(l),d={tag:Object(a["e"])("div"),zIndex:Number,themeVars:Object,iconPrefix:String};function f(e){const t={};return Object.keys(e).forEach(n=>{t["--van-"+Object(o["g"])(n)]=e[n]}),t}var h=Object(r["defineComponent"])({name:l,props:d,setup(e,{slots:t}){const n=Object(r["computed"])(()=>{if(e.themeVars)return f(e.themeVars)});return Object(r["provide"])(u,e),Object(r["watchEffect"])(()=>{void 0!==e.zIndex&&Object(s["a"])(e.zIndex)}),()=>Object(r["createVNode"])(e.tag,{class:c(),style:n.value},{default:()=>{var e;return[null==(e=t.default)?void 0:e.call(t)]}})}})},"9a1c":function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return v}));var r=n("23f9"),i=n("7a23"),a=n("1fba"),o=n("e5f6"),s=n("5aa0"),l=n("8be7"),c=n("95de");const[u,d]=Object(a["a"])("icon"),f=e=>null==e?void 0:e.includes("/"),h={dot:Boolean,tag:Object(o["e"])("i"),name:String,size:o["f"],badge:o["f"],color:String,badgeProps:Object,classPrefix:String};var p=Object(i["defineComponent"])({name:u,props:h,setup(e,{slots:t}){const n=Object(i["inject"])(c["a"],null),r=Object(i["computed"])(()=>e.classPrefix||(null==n?void 0:n.iconPrefix)||d());return()=>{const{tag:n,dot:a,name:o,size:c,badge:u,color:h}=e,p=f(o);return Object(i["createVNode"])(l["a"],Object(i["mergeProps"])({dot:a,tag:n,class:[r.value,p?"":`${r.value}-${o}`],style:{color:h,fontSize:Object(s["a"])(c)},content:u},e.badgeProps),{default:()=>{var e;return[null==(e=t.default)?void 0:e.call(t),p&&Object(i["createVNode"])("img",{class:d("image"),src:o},null)]}})}}});const g=Object(r["a"])(p);var v=g},"9b55":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("fa7c"),i=n("b75f");function a(e,{args:t=[],done:n,canceled:a}){if(e){const o=e.apply(null,t);Object(i["g"])(o)?o.then(e=>{e?n():a&&a()}).catch(r["d"]):o?n():a&&a()}else n()}},"9bf2":function(e,t,n){var r=n("83ab"),i=n("0cfb"),a=n("aed9"),o=n("825a"),s=n("a04b"),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d="enumerable",f="configurable",h="writable";t.f=r?a?function(e,t,n){if(o(e),t=s(t),o(n),"function"===typeof e&&"prototype"===t&&"value"in n&&h in n&&!n[h]){var r=u(e,t);r&&r[h]&&(e[t]=n.value,n={configurable:f in n?n[f]:r[f],enumerable:d in n?n[d]:r[d],writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(o(e),t=s(t),o(n),i)try{return c(e,t,n)}catch(r){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"9ff4":function(e,t,n){"use strict";(function(e){function r(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return A})),n.d(t,"d",(function(){return L})),n.d(t,"e",(function(){return Z})),n.d(t,"f",(function(){return ne})),n.d(t,"g",(function(){return oe})),n.d(t,"h",(function(){return D})),n.d(t,"i",(function(){return ce})),n.d(t,"j",(function(){return ie})),n.d(t,"k",(function(){return x})),n.d(t,"l",(function(){return te})),n.d(t,"m",(function(){return l})),n.d(t,"n",(function(){return ae})),n.d(t,"o",(function(){return P})),n.d(t,"p",(function(){return X})),n.d(t,"q",(function(){return B})),n.d(t,"r",(function(){return a})),n.d(t,"s",(function(){return m})),n.d(t,"t",(function(){return $})),n.d(t,"u",(function(){return N})),n.d(t,"v",(function(){return j})),n.d(t,"w",(function(){return G})),n.d(t,"x",(function(){return C})),n.d(t,"y",(function(){return Y})),n.d(t,"z",(function(){return H})),n.d(t,"A",(function(){return z})),n.d(t,"B",(function(){return b})),n.d(t,"C",(function(){return F})),n.d(t,"D",(function(){return s})),n.d(t,"E",(function(){return U})),n.d(t,"F",(function(){return V})),n.d(t,"G",(function(){return E})),n.d(t,"H",(function(){return O})),n.d(t,"I",(function(){return r})),n.d(t,"J",(function(){return h})),n.d(t,"K",(function(){return p})),n.d(t,"L",(function(){return c})),n.d(t,"M",(function(){return R})),n.d(t,"N",(function(){return T})),n.d(t,"O",(function(){return re})),n.d(t,"P",(function(){return se})),n.d(t,"Q",(function(){return q}));const i="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",a=r(i);const o="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",s=r(o);function l(e){return!!e||""===e}function c(e){if(P(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=U(r)?f(r):c(r);if(i)for(const e in i)t[e]=i[e]}return t}return U(e)||G(e)?e:void 0}const u=/;(?![^(]*\))/g,d=/:(.+)/;function f(e){const t={};return e.split(u).forEach(e=>{if(e){const n=e.split(d);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function h(e){let t="";if(U(e))t=e;else if(P(e))for(let n=0;n<e.length;n++){const r=h(e[n]);r&&(t+=r+" ")}else if(G(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function p(e){if(!e)return null;let{class:t,style:n}=e;return t&&!U(t)&&(e.class=h(t)),n&&(e.style=c(n)),e}const g="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",v="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",m=r(g),b=r(v);function y(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=E(e[r],t[r]);return n}function E(e,t){if(e===t)return!0;let n=M(e),r=M(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=V(e),r=V(t),n||r)return e===t;if(n=P(e),r=P(t),n||r)return!(!n||!r)&&y(e,t);if(n=G(e),r=G(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,a=Object.keys(t).length;if(i!==a)return!1;for(const n in e){const r=e.hasOwnProperty(n),i=t.hasOwnProperty(n);if(r&&!i||!r&&i||!E(e[n],t[n]))return!1}}return String(e)===String(t)}function O(e,t){return e.findIndex(e=>E(e,t))}const T=e=>U(e)?e:null==e?"":P(e)||G(e)&&(e.toString===K||!B(e.toString))?JSON.stringify(e,_,2):String(e),_=(e,t)=>t&&t.__v_isRef?_(e,t.value):N(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[t,n])=>(e[t+" =>"]=n,e),{})}:F(t)?{[`Set(${t.size})`]:[...t.values()]}:!G(t)||P(t)||Y(t)?t:String(t),S={},k=[],L=()=>{},A=()=>!1,w=/^on[^a-z]/,C=e=>w.test(e),j=e=>e.startsWith("onUpdate:"),D=Object.assign,R=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},I=Object.prototype.hasOwnProperty,x=(e,t)=>I.call(e,t),P=Array.isArray,N=e=>"[object Map]"===W(e),F=e=>"[object Set]"===W(e),M=e=>"[object Date]"===W(e),B=e=>"function"===typeof e,U=e=>"string"===typeof e,V=e=>"symbol"===typeof e,G=e=>null!==e&&"object"===typeof e,H=e=>G(e)&&B(e.then)&&B(e.catch),K=Object.prototype.toString,W=e=>K.call(e),q=e=>W(e).slice(8,-1),Y=e=>"[object Object]"===W(e),$=e=>U(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,z=r(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),X=r("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),J=e=>{const t=Object.create(null);return n=>{const r=t[n];return r||(t[n]=e(n))}},Q=/-(\w)/g,Z=J(e=>e.replace(Q,(e,t)=>t?t.toUpperCase():"")),ee=/\B([A-Z])/g,te=J(e=>e.replace(ee,"-$1").toLowerCase()),ne=J(e=>e.charAt(0).toUpperCase()+e.slice(1)),re=J(e=>e?"on"+ne(e):""),ie=(e,t)=>!Object.is(e,t),ae=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},oe=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},se=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let le;const ce=()=>le||(le="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{})}).call(this,n("c8ba"))},a04b:function(e,t,n){var r=n("c04e"),i=n("d9b5");e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},a526:function(e,t,n){},a6fb:function(e,t,n){"use strict";n("68ef"),n("cb51"),n("3743"),n("9312"),n("ae73")},a71a:function(e,t,n){},abc5:function(e,t,n){"use strict";(function(e){function r(){return i().__VUE_DEVTOOLS_GLOBAL_HOOK__}function i(){return"undefined"!==typeof navigator&&"undefined"!==typeof window?window:"undefined"!==typeof e?e:{}}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a}));const a="function"===typeof Proxy}).call(this,n("c8ba"))},ac6b:function(e,t,n){"use strict";n("68ef"),n("cb51"),n("3743"),n("a71a"),n("4d75")},ae73:function(e,t,n){},aed9:function(e,t,n){var r=n("83ab"),i=n("d039");e.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},afa9:function(e,t,n){"use strict";n("68ef"),n("bf60")},b138:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d}));var r=n("7a23"),i=n("1fba"),a=n("e5f6"),o=n("450f");const[s,l]=Object(i["a"])("row"),c=Symbol(s),u={tag:Object(a["e"])("div"),wrap:a["g"],align:String,gutter:Object(a["c"])(0),justify:String};var d=Object(r["defineComponent"])({name:s,props:u,setup(e,{slots:t}){const{children:n,linkChildren:i}=Object(o["useChildren"])(c),a=Object(r["computed"])(()=>{const e=[[]];let t=0;return n.forEach((n,r)=>{t+=Number(n.span),t>24?(e.push([r]),t-=24):e[e.length-1].push(r)}),e}),s=Object(r["computed"])(()=>{const t=Number(e.gutter),n=[];return t?(a.value.forEach(e=>{const r=t*(e.length-1)/e.length;e.forEach((e,i)=>{if(0===i)n.push({right:r});else{const i=t-n[e-1].right,a=r-i;n.push({left:i,right:a})}})}),n):n});return i({spaces:s}),()=>{const{tag:n,wrap:i,align:a,justify:o}=e;return Object(r["createVNode"])(n,{class:l({["align-"+a]:a,["justify-"+o]:o,nowrap:!i})},{default:()=>{var e;return[null==(e=t.default)?void 0:e.call(t)]}})}}})},b258:function(e,t,n){},b42e:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var t=+e;return(t>0?r:n)(t)}},b50d:function(e,t,n){"use strict";var r=n("c532"),i=n("467f"),a=n("7aac"),o=n("30b5"),s=n("83b9"),l=n("c345"),c=n("3934"),u=n("2d83"),d=n("cafa"),f=n("7a77");e.exports=function(e){return new Promise((function(t,n){var h,p=e.data,g=e.headers,v=e.responseType;function m(){e.cancelToken&&e.cancelToken.unsubscribe(h),e.signal&&e.signal.removeEventListener("abort",h)}r.isFormData(p)&&delete g["Content-Type"];var b=new XMLHttpRequest;if(e.auth){var y=e.auth.username||"",E=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";g.Authorization="Basic "+btoa(y+":"+E)}var O=s(e.baseURL,e.url);function T(){if(b){var r="getAllResponseHeaders"in b?l(b.getAllResponseHeaders()):null,a=v&&"text"!==v&&"json"!==v?b.response:b.responseText,o={data:a,status:b.status,statusText:b.statusText,headers:r,config:e,request:b};i((function(e){t(e),m()}),(function(e){n(e),m()}),o),b=null}}if(b.open(e.method.toUpperCase(),o(O,e.params,e.paramsSerializer),!0),b.timeout=e.timeout,"onloadend"in b?b.onloadend=T:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(T)},b.onabort=function(){b&&(n(u("Request aborted",e,"ECONNABORTED",b)),b=null)},b.onerror=function(){n(u("Network Error",e,null,b)),b=null},b.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||d;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(u(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",b)),b=null},r.isStandardBrowserEnv()){var _=(e.withCredentials||c(O))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;_&&(g[e.xsrfHeaderName]=_)}"setRequestHeader"in b&&r.forEach(g,(function(e,t){"undefined"===typeof p&&"content-type"===t.toLowerCase()?delete g[t]:b.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(b.withCredentials=!!e.withCredentials),v&&"json"!==v&&(b.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&b.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(h=function(e){b&&(n(!e||e&&e.type?new f("canceled"):e),b.abort(),b=null)},e.cancelToken&&e.cancelToken.subscribe(h),e.signal&&(e.signal.aborted?h():e.signal.addEventListener("abort",h))),p||(p=null),b.send(p)}))}},b622:function(e,t,n){var r=n("da84"),i=n("5692"),a=n("1a2d"),o=n("90e3"),s=n("04f8"),l=n("fdbf"),c=i("wks"),u=r.Symbol,d=u&&u["for"],f=l?u:u&&u.withoutSetter||o;e.exports=function(e){if(!a(c,e)||!s&&"string"!=typeof c[e]){var t="Symbol."+e;s&&a(u,e)?c[e]=u[e]:c[e]=l&&d?d(t):f(t)}return c[e]}},b75f:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return s}));var r=n("fa7c");const i=e=>void 0!==e&&null!==e,a=e=>"function"===typeof e,o=e=>null!==e&&"object"===typeof e,s=e=>o(e)&&a(e.then)&&a(e.catch),l=e=>"[object Date]"===Object.prototype.toString.call(e)&&!Number.isNaN(e.getTime());const c=e=>"number"===typeof e||/^\d+(\.\d+)?$/.test(e),u=()=>!!r["c"]&&/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase())},bb0e:function(e,t,n){"use strict";n("68ef"),n("bf60"),n("7b0a")},bbf9:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));let r=2e3;const i=()=>++r,a=e=>{r=e}},bc3a:function(e,t,n){e.exports=n("cee4")},bed3:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("23f9"),i=n("b138");const a=Object(r["a"])(i["b"]);var o=a},bf60:function(e,t,n){},c04e:function(e,t,n){var r=n("c65b"),i=n("861d"),a=n("d9b5"),o=n("dc4a"),s=n("485a"),l=n("b622"),c=TypeError,u=l("toPrimitive");e.exports=function(e,t){if(!i(e)||a(e))return e;var n,l=o(e,u);if(l){if(void 0===t&&(t="default"),n=r(l,e,t),!i(n)||a(n))return n;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},c345:function(e,t,n){"use strict";var r=n("c532"),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,o={};return e?(r.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},c401:function(e,t,n){"use strict";var r=n("c532"),i=n("4c3d");e.exports=function(e,t,n){var a=this||i;return r.forEach(n,(function(n){e=n.call(a,e,t)})),e}},c430:function(e,t){e.exports=!1},c532:function(e,t,n){"use strict";var r=n("1d2b"),i=Object.prototype.toString;function a(e){return Array.isArray(e)}function o(e){return"undefined"===typeof e}function s(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function l(e){return"[object ArrayBuffer]"===i.call(e)}function c(e){return"[object FormData]"===i.call(e)}function u(e){var t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&l(e.buffer),t}function d(e){return"string"===typeof e}function f(e){return"number"===typeof e}function h(e){return null!==e&&"object"===typeof e}function p(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function g(e){return"[object Date]"===i.call(e)}function v(e){return"[object File]"===i.call(e)}function m(e){return"[object Blob]"===i.call(e)}function b(e){return"[object Function]"===i.call(e)}function y(e){return h(e)&&b(e.pipe)}function E(e){return"[object URLSearchParams]"===i.call(e)}function O(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function T(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function _(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function S(){var e={};function t(t,n){p(e[n])&&p(t)?e[n]=S(e[n],t):p(t)?e[n]=S({},t):a(t)?e[n]=t.slice():e[n]=t}for(var n=0,r=arguments.length;n<r;n++)_(arguments[n],t);return e}function k(e,t,n){return _(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e}function L(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}e.exports={isArray:a,isArrayBuffer:l,isBuffer:s,isFormData:c,isArrayBufferView:u,isString:d,isNumber:f,isObject:h,isPlainObject:p,isUndefined:o,isDate:g,isFile:v,isBlob:m,isFunction:b,isStream:y,isURLSearchParams:E,isStandardBrowserEnv:T,forEach:_,merge:S,extend:k,trim:O,stripBOM:L}},c65b:function(e,t,n){var r=n("40d5"),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},c6b6:function(e,t,n){var r=n("7d7e"),i=r({}.toString),a=r("".slice);e.exports=function(e){return a(i(e),8,-1)}},c6cd:function(e,t,n){var r=n("da84"),i=n("6374"),a="__core-js_shared__",o=r[a]||i(a,{});e.exports=o},c777:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return w}));var r=n("7a23"),i=n("1fba"),a=n("e5f6"),o=n("fa7c"),s=n("5aa0"),l=n("d243"),c=n("8db7"),u=n("450f"),d=n("efd9"),f=n("5913"),h=n("b75f");function p(e){if(!Object(h["b"])(e))return e;if(Array.isArray(e))return e.map(e=>p(e));if(Object(h["f"])(e)){const t={};return Object.keys(e).forEach(n=>{t[n]=p(e[n])}),t}return e}var g=n("d7d5");const v=200,m=300,b=15,[y,E]=Object(i["a"])("picker-column");function O(e){const{transform:t}=window.getComputedStyle(e),n=t.slice(7,t.length-1).split(", ")[5];return Number(n)}const T=Symbol(y),_=e=>Object(h["f"])(e)&&e.disabled;var S=Object(r["defineComponent"])({name:y,props:{textKey:Object(a["d"])(String),readonly:Boolean,allowHtml:Boolean,className:a["h"],itemHeight:Object(a["d"])(Number),defaultIndex:Object(a["b"])(0),swipeDuration:Object(a["d"])(a["f"]),initialOptions:Object(a["a"])(),visibleItemCount:Object(a["d"])(a["f"])},emits:["change"],setup(e,{emit:t,slots:n}){let i,a,o,l,f;const y=Object(r["ref"])(),S=Object(r["ref"])(),k=Object(r["reactive"])({index:e.defaultIndex,offset:0,duration:0,options:p(e.initialOptions)}),L=Object(g["a"])(),A=()=>k.options.length,w=()=>e.itemHeight*(+e.visibleItemCount-1)/2,C=e=>{e=Object(s["c"])(e,0,A());for(let t=e;t<A();t++)if(!_(k.options[t]))return t;for(let t=e-1;t>=0;t--)if(!_(k.options[t]))return t},j=(n,r)=>{n=C(n)||0;const a=-n*e.itemHeight,o=()=>{n!==k.index&&(k.index=n,r&&t("change",n))};i&&a!==k.offset?f=o:o(),k.offset=a},D=t=>{JSON.stringify(t)!==JSON.stringify(k.options)&&(k.options=p(t),j(e.defaultIndex))},R=t=>{i||e.readonly||(f=null,k.duration=v,j(t,!0))},I=t=>Object(h["f"])(t)&&e.textKey in t?t[e.textKey]:t,x=t=>Object(s["c"])(Math.round(-t/e.itemHeight),0,A()-1),P=(t,n)=>{const r=Math.abs(t/n);t=k.offset+r/.003*(t<0?-1:1);const i=x(t);k.duration=+e.swipeDuration,j(i,!0)},N=()=>{i=!1,k.duration=0,f&&(f(),f=null)},F=t=>{if(!e.readonly){if(L.start(t),i){const e=O(S.value);k.offset=Math.min(0,e-w()),a=k.offset}else a=k.offset;k.duration=0,o=Date.now(),l=a,f=null}},M=t=>{if(e.readonly)return;L.move(t),L.isVertical()&&(i=!0,Object(c["e"])(t,!0)),k.offset=Object(s["c"])(a+L.deltaY.value,-A()*e.itemHeight,e.itemHeight);const n=Date.now();n-o>m&&(o=n,l=k.offset)},B=()=>{if(e.readonly)return;const t=k.offset-l,n=Date.now()-o,r=n<m&&Math.abs(t)>b;if(r)return void P(t,n);const a=x(k.offset);k.duration=v,j(a,!0),setTimeout(()=>{i=!1},0)},U=()=>{const t={height:e.itemHeight+"px"};return k.options.map((i,a)=>{const o=I(i),s=_(i),l={role:"button",style:t,tabindex:s?-1:0,class:E("item",{disabled:s,selected:a===k.index}),onClick:()=>R(a)},c={class:"van-ellipsis",[e.allowHtml?"innerHTML":"textContent"]:o};return Object(r["createVNode"])("li",l,[n.option?n.option(i):Object(r["createVNode"])("div",c,null)])})},V=e=>{const{options:t}=k;for(let n=0;n<t.length;n++)if(I(t[n])===e)return j(n)},G=()=>k.options[k.index],H=()=>k.options.length;return j(k.index),Object(u["useParent"])(T),Object(d["a"])({state:k,setIndex:j,getValue:G,setValue:V,setOptions:D,hasOptions:H,stopMomentum:N}),Object(r["watch"])(()=>e.initialOptions,D),Object(r["watch"])(()=>e.defaultIndex,e=>j(e)),Object(u["useEventListener"])("touchmove",M,{target:y}),()=>Object(r["createVNode"])("div",{ref:y,class:[E(),e.className],onTouchstartPassive:F,onTouchend:B,onTouchcancel:B},[Object(r["createVNode"])("ul",{ref:S,style:{transform:`translate3d(0, ${k.offset+w()}px, 0)`,transitionDuration:k.duration+"ms",transitionProperty:k.duration?"all":"none"},class:E("wrapper"),onTransitionend:N},[U()])])}});const[k,L,A]=Object(i["a"])("picker"),w={title:String,loading:Boolean,readonly:Boolean,allowHtml:Boolean,itemHeight:Object(a["c"])(44),showToolbar:a["g"],swipeDuration:Object(a["c"])(1e3),visibleItemCount:Object(a["c"])(6),cancelButtonText:String,confirmButtonText:String},C=Object(o["a"])({},w,{columns:Object(a["a"])(),valueKey:String,defaultIndex:Object(a["c"])(0),toolbarPosition:Object(a["e"])("top"),columnsFieldNames:Object});var j=Object(r["defineComponent"])({name:k,props:C,emits:["confirm","cancel","change"],setup(e,{emit:t,slots:n}){const i=Object(r["ref"])(!1),a=Object(r["ref"])(),o=Object(r["ref"])([]),h=Object(r["computed"])(()=>{const{columnsFieldNames:t}=e;return{text:(null==t?void 0:t.text)||e.valueKey||"text",values:(null==t?void 0:t.values)||"values",children:(null==t?void 0:t.children)||"children"}}),{children:p,linkChildren:g}=Object(u["useChildren"])(T);g();const v=Object(r["computed"])(()=>Object(s["i"])(e.itemHeight)),m=Object(r["computed"])(()=>{const t=e.columns[0];if("object"===typeof t){if(h.value.children in t)return"cascade";if(h.value.values in t)return"object"}return"plain"}),b=()=>{var t;const n=[];let r={[h.value.children]:e.columns};while(r&&r[h.value.children]){const i=r[h.value.children];let a=null!=(t=r.defaultIndex)?t:+e.defaultIndex;while(i[a]&&i[a].disabled){if(!(a<i.length-1)){a=0;break}a++}n.push({[h.value.values]:r[h.value.children],className:r.className,defaultIndex:a}),r=i[a]}o.value=n},y=()=>{const{columns:t}=e;"plain"===m.value?o.value=[{[h.value.values]:t}]:"cascade"===m.value?b():o.value=t,i.value=o.value.some(e=>e[h.value.values]&&0!==e[h.value.values].length)||p.some(e=>e.hasOptions)},E=()=>p.map(e=>e.state.index),O=(e,t)=>{const n=p[e];n&&(n.setOptions(t),i.value=!0)},_=t=>{let n={[h.value.children]:e.columns};const r=E();for(let e=0;e<=t;e++)n=n[h.value.children][r[e]];while(n&&n[h.value.children])t++,O(t,n[h.value.children]),n=n[h.value.children][n.defaultIndex||0]},k=e=>p[e],w=e=>{const t=k(e);if(t)return t.getValue()},C=(e,t)=>{const n=k(e);n&&(n.setValue(t),"cascade"===m.value&&_(e))},j=e=>{const t=k(e);if(t)return t.state.index},D=(e,t)=>{const n=k(e);n&&(n.setIndex(t),"cascade"===m.value&&_(e))},R=e=>{const t=k(e);if(t)return t.state.options},I=()=>p.map(e=>e.getValue()),x=e=>{e.forEach((e,t)=>{C(t,e)})},P=e=>{e.forEach((e,t)=>{D(t,e)})},N=e=>{"plain"===m.value?t(e,w(0),j(0)):t(e,I(),E())},F=e=>{"cascade"===m.value&&_(e),"plain"===m.value?t("change",w(0),j(0)):t("change",I(),e)},M=()=>{p.forEach(e=>e.stopMomentum()),N("confirm")},B=()=>N("cancel"),U=()=>n.title?n.title():e.title?Object(r["createVNode"])("div",{class:[L("title"),"van-ellipsis"]},[e.title]):void 0,V=()=>{const t=e.cancelButtonText||A("cancel");return Object(r["createVNode"])("button",{type:"button",class:[L("cancel"),l["h"]],onClick:B},[n.cancel?n.cancel():t])},G=()=>{const t=e.confirmButtonText||A("confirm");return Object(r["createVNode"])("button",{type:"button",class:[L("confirm"),l["h"]],onClick:M},[n.confirm?n.confirm():t])},H=()=>{if(e.showToolbar){const e=n.toolbar||n.default;return Object(r["createVNode"])("div",{class:L("toolbar")},[e?e():[V(),U(),G()]])}},K=()=>o.value.map((t,i)=>{var a;return Object(r["createVNode"])(S,{textKey:h.value.text,readonly:e.readonly,allowHtml:e.allowHtml,className:t.className,itemHeight:v.value,defaultIndex:null!=(a=t.defaultIndex)?a:+e.defaultIndex,swipeDuration:e.swipeDuration,initialOptions:t[h.value.values],visibleItemCount:e.visibleItemCount,onChange:()=>F(i)},{option:n.option})}),W=e=>{if(i.value){const t={height:v.value+"px"},n={backgroundSize:`100% ${(e-v.value)/2}px`};return[Object(r["createVNode"])("div",{class:L("mask"),style:n},null),Object(r["createVNode"])("div",{class:[l["f"],L("frame")],style:t},null)]}},q=()=>{const t=v.value*+e.visibleItemCount,n={height:t+"px"};return Object(r["createVNode"])("div",{ref:a,class:L("columns"),style:n},[K(),W(t)])};return Object(r["watch"])(()=>e.columns,y,{immediate:!0}),Object(u["useEventListener"])("touchmove",c["e"],{target:a}),Object(d["a"])({confirm:M,getValues:I,setValues:x,getIndexes:E,setIndexes:P,getColumnIndex:j,setColumnIndex:D,getColumnValue:w,setColumnValue:C,getColumnValues:R,setColumnValues:O}),()=>{var t,i;return Object(r["createVNode"])("div",{class:L()},["top"===e.toolbarPosition?H():null,e.loading?Object(r["createVNode"])(f["a"],{class:L("loading")},null):null,null==(t=n["columns-top"])?void 0:t.call(n),q(),null==(i=n["columns-bottom"])?void 0:i.call(n),"bottom"===e.toolbarPosition?H():null])}}})},c8af:function(e,t,n){"use strict";var r=n("c532");e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},ca84:function(e,t,n){var r=n("e330"),i=n("1a2d"),a=n("fc6a"),o=n("4d64").indexOf,s=n("d012"),l=r([].push);e.exports=function(e,t){var n,r=a(e),c=0,u=[];for(n in r)!i(s,n)&&i(r,n)&&l(u,n);while(t.length>c)i(r,n=t[c++])&&(~o(u,n)||l(u,n));return u}},cafa:function(e,t,n){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},cb2d:function(e,t,n){var r=n("1626"),i=n("9bf2"),a=n("13d2"),o=n("6374");e.exports=function(e,t,n,s){s||(s={});var l=s.enumerable,c=void 0!==s.name?s.name:t;if(r(n)&&a(n,c,s),s.global)l?e[t]=n:o(t,n);else{try{s.unsafe?e[t]&&(l=!0):delete e[t]}catch(u){}l?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},cb51:function(e,t,n){},cc12:function(e,t,n){var r=n("da84"),i=n("861d"),a=r.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},cdce:function(e,t,n){var r=n("da84"),i=n("1626"),a=r.WeakMap;e.exports=i(a)&&/native code/.test(String(a))},cee4:function(e,t,n){"use strict";var r=n("c532"),i=n("1d2b"),a=n("0a06"),o=n("4a7b"),s=n("4c3d");function l(e){var t=new a(e),n=i(a.prototype.request,t);return r.extend(n,a.prototype,t),r.extend(n,t),n.create=function(t){return l(o(e,t))},n}var c=l(s);c.Axios=a,c.Cancel=n("7a77"),c.CancelToken=n("8df4"),c.isCancel=n("2e67"),c.VERSION=n("5cce").version,c.all=function(e){return Promise.all(e)},c.spread=n("0df6"),c.isAxiosError=n("5f02"),e.exports=c,e.exports.default=c},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,n){var r=n("da84"),i=n("1626"),a=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e]):r[e]&&r[e][t]}},d1e7:function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,a=i&&!r.call({1:2},1);t.f=a?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},d243:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return u}));const r="van-hairline",i=r+"--top",a=r+"--left",o=r+"--bottom",s=r+"--surround",l=r+"--top-bottom",c=r+"-unset--top-bottom",u="van-haptics-feedback",d=Symbol("van-form")},d29f:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return b}));var r=n("23f9"),i=n("7a23"),a=n("1fba"),o=n("e5f6"),s=n("8db7"),l=n("fa7c"),c=n("5aa0"),u=n("b75f"),d=n("450f"),f=n("84d0");const[h,p]=Object(a["a"])("overlay"),g={show:Boolean,zIndex:o["f"],duration:o["f"],className:o["h"],lockScroll:o["g"],lazyRender:o["g"],customStyle:Object};var v=Object(i["defineComponent"])({name:h,props:g,setup(e,{slots:t}){const n=Object(i["ref"])(),r=Object(f["a"])(()=>e.show||!e.lazyRender),a=t=>{e.lockScroll&&Object(s["e"])(t,!0)},o=r(()=>{var r;const a=Object(l["a"])(Object(c["f"])(e.zIndex),e.customStyle);return Object(u["b"])(e.duration)&&(a.animationDuration=e.duration+"s"),Object(i["withDirectives"])(Object(i["createVNode"])("div",{ref:n,style:a,class:[p(),e.className]},[null==(r=t.default)?void 0:r.call(t)]),[[i["vShow"],e.show]])});return Object(d["useEventListener"])("touchmove",a,{target:n}),()=>Object(i["createVNode"])(i["Transition"],{name:"van-fade",appear:!0},{default:o})}});const m=Object(r["a"])(v);var b=m},d7d5:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("7a23");function i(e,t){return e>t?"horizontal":t>e?"vertical":""}function a(){const e=Object(r["ref"])(0),t=Object(r["ref"])(0),n=Object(r["ref"])(0),a=Object(r["ref"])(0),o=Object(r["ref"])(0),s=Object(r["ref"])(0),l=Object(r["ref"])(""),c=()=>"vertical"===l.value,u=()=>"horizontal"===l.value,d=()=>{n.value=0,a.value=0,o.value=0,s.value=0,l.value=""},f=n=>{d(),e.value=n.touches[0].clientX,t.value=n.touches[0].clientY},h=r=>{const c=r.touches[0];n.value=(c.clientX<0?0:c.clientX)-e.value,a.value=c.clientY-t.value,o.value=Math.abs(n.value),s.value=Math.abs(a.value);const u=10;(!l.value||o.value<u&&s.value<u)&&(l.value=i(o.value,s.value))};return{move:h,start:f,reset:d,startX:e,startY:t,deltaX:n,deltaY:a,offsetX:o,offsetY:s,direction:l,isVertical:c,isHorizontal:u}}},d925:function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},d9b5:function(e,t,n){var r=n("d066"),i=n("1626"),a=n("3a9b"),o=n("fdbf"),s=Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&a(t.prototype,s(e))}},da84:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n("c8ba"))},dc4a:function(e,t,n){var r=n("59ed"),i=n("7234");e.exports=function(e,t){var n=e[t];return i(n)?void 0:r(n)}},dc94:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("23f9"),i=n("7a23"),a=n("1fba"),o=n("e5f6"),s=n("5aa0"),l=n("d243"),c=n("fa8a"),u=n("9a1c");const[d,f]=Object(a["a"])("nav-bar"),h={title:String,fixed:Boolean,zIndex:o["f"],border:o["g"],leftText:String,rightText:String,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean};var p=Object(i["defineComponent"])({name:d,props:h,emits:["click-left","click-right"],setup(e,{emit:t,slots:n}){const r=Object(i["ref"])(),a=Object(c["a"])(r,f),o=e=>t("click-left",e),d=e=>t("click-right",e),h=()=>n.left?n.left():[e.leftArrow&&Object(i["createVNode"])(u["a"],{class:f("arrow"),name:"arrow-left"},null),e.leftText&&Object(i["createVNode"])("span",{class:f("text")},[e.leftText])],p=()=>n.right?n.right():Object(i["createVNode"])("span",{class:f("text")},[e.rightText]),g=()=>{const{title:t,fixed:a,border:c,zIndex:u}=e,g=Object(s["f"])(u),v=e.leftArrow||e.leftText||n.left,m=e.rightText||n.right;return Object(i["createVNode"])("div",{ref:r,style:g,class:[f({fixed:a}),{[l["a"]]:c,"van-safe-area-top":e.safeAreaInsetTop}]},[Object(i["createVNode"])("div",{class:f("content")},[v&&Object(i["createVNode"])("div",{class:[f("left"),l["h"]],onClick:o},[h()]),Object(i["createVNode"])("div",{class:[f("title"),"van-ellipsis"]},[n.title?n.title():t]),m&&Object(i["createVNode"])("div",{class:[f("right"),l["h"]],onClick:d},[p()])])])};return()=>e.fixed&&e.placeholder?a(g):g()}});const g=Object(r["a"])(p);var v=g},dd3f:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("23f9"),i=n("e744");const a=Object(r["a"])(i["b"]);var o=a},dda5:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n("23f9"),i=n("c777");const a=Object(r["a"])(i["a"]);var o=a},df7c:function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e){"string"!==typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",r=!1,a=arguments.length-1;a>=-1&&!r;a--){var o=a>=0?arguments[a]:e.cwd();if("string"!==typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,r="/"===o.charAt(0))}return t=n(i(t.split("/"),(function(e){return!!e})),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),o="/"===a(e,-1);return e=n(i(e.split("/"),(function(e){return!!e})),!r).join("/"),e||r||(e="."),e&&o&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var n=e.length-1;n>=0;n--)if(""!==e[n])break;return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),a=r(n.split("/")),o=Math.min(i.length,a.length),s=o,l=0;l<o;l++)if(i[l]!==a[l]){s=l;break}var c=[];for(l=s;l<i.length;l++)c.push("..");return c=c.concat(a.slice(s)),c.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,a=e.length-1;a>=1;--a)if(t=e.charCodeAt(a),47===t){if(!i){r=a;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=r(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,a=0,o=e.length-1;o>=0;--o){var s=e.charCodeAt(o);if(47!==s)-1===r&&(i=!1,r=o+1),46===s?-1===t?t=o:1!==a&&(a=1):-1!==t&&(a=-1);else if(!i){n=o+1;break}}return-1===t||-1===r||0===a||1===a&&t===r-1&&t===n+1?"":e.slice(t,r)};var a="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("4362"))},df85:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("7a23"),i={expireTimes:"1d",path:"; path=/",domain:"",secure:!1,sameSite:"; SameSite=Lax"},a=function(){function e(){this.current_default_config=i}return e.prototype.config=function(e){for(var t in this.current_default_config)this.current_default_config[t]=e[t]?e[t]:i[t]},e.prototype.get=function(e){var t=decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null;if(t&&"{"===t.substring(0,1)&&"}"===t.substring(t.length-1,t.length))try{t=JSON.parse(t)}catch(n){return t}return t},e.prototype.set=function(e,t,n,r,i,a,o){if(!e)throw new Error("Cookie name is not found in the first argument.");if(/^(?:expires|max-age|path|domain|secure|SameSite)$/i.test(e))throw new Error('Cookie name illegality. Cannot be set to ["expires","max-age","path","domain","secure","SameSite"]\t current key name: '+e);t&&t.constructor===Object&&(t=JSON.stringify(t));var s="";if(void 0==n&&(n=this.current_default_config.expireTimes?this.current_default_config.expireTimes:""),n&&0!=n)switch(n.constructor){case Number:s=n===1/0||-1===n?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:if(/^(?:\d+(y|m|d|h|min|s))$/i.test(n)){var l=n.replace(/^(\d+)(?:y|m|d|h|min|s)$/i,"$1");switch(n.replace(/^(?:\d+)(y|m|d|h|min|s)$/i,"$1").toLowerCase()){case"m":s="; max-age="+2592e3*+l;break;case"d":s="; max-age="+86400*+l;break;case"h":s="; max-age="+3600*+l;break;case"min":s="; max-age="+60*+l;break;case"s":s="; max-age="+l;break;case"y":s="; max-age="+31104e3*+l;break;default:new Error('unknown exception of "set operation"')}}else s="; expires="+n;break;case Date:s="; expires="+n.toUTCString();break}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+s+(i?"; domain="+i:this.current_default_config.domain?this.current_default_config.domain:"")+(r?"; path="+r:this.current_default_config.path?this.current_default_config.path:"; path=/")+(void 0==a?this.current_default_config.secure?"; Secure":"":a?"; Secure":"")+(void 0==o?this.current_default_config.sameSite?"; SameSute="+this.current_default_config.sameSite:"":o?"; SameSite="+o:""),this},e.prototype.remove=function(e,t,n){return!(!e||!this.isKey(e))&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:this.current_default_config.domain?this.current_default_config.domain:"")+(t?"; path="+t:this.current_default_config.path?this.current_default_config.path:"; path=/")+"; SameSite=Lax",!0)},e.prototype.isKey=function(e){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},e.prototype.keys=function(){if(!document.cookie)return[];for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=0;t<e.length;t++)e[t]=decodeURIComponent(e[t]);return e},e}(),o=null;function s(){null==o&&(o=new a);var e=Object(r["reactive"])(o);return{cookies:e}}},e330:function(e,t,n){var r=n("c6b6"),i=n("7d7e");e.exports=function(e){if("Function"===r(e))return i(e)}},e3b3:function(e,t,n){},e5f6:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return r}));const r=null,i=[Number,String],a={type:Boolean,default:!0},o=e=>({type:e,required:!0}),s=()=>({type:Array,default:()=>[]}),l=e=>({type:Number,default:e}),c=e=>({type:i,default:e}),u=e=>({type:String,default:e})},e683:function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},e744:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return g}));var r=n("7a23"),i=n("1fba"),a=n("e5f6"),o=n("5aa0"),s=n("d243"),l=n("9b55"),c=n("450f"),u=n("fa8a");const[d,f]=Object(i["a"])("tabbar"),h={route:Boolean,fixed:a["g"],border:a["g"],zIndex:a["f"],placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:Object(a["c"])(0),safeAreaInsetBottom:{type:Boolean,default:null}},p=Symbol(d);var g=Object(r["defineComponent"])({name:d,props:h,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const i=Object(r["ref"])(),{linkChildren:a}=Object(c["useChildren"])(p),d=Object(u["a"])(i,f),h=()=>{var t;return null!=(t=e.safeAreaInsetBottom)?t:e.fixed},g=()=>{var t;const{fixed:a,zIndex:l,border:c}=e;return Object(r["createVNode"])("div",{ref:i,role:"tablist",style:Object(o["f"])(l),class:[f({fixed:a}),{[s["e"]]:c,"van-safe-area-bottom":h()}]},[null==(t=n.default)?void 0:t.call(n)])},v=(n,r)=>{Object(l["a"])(e.beforeChange,{args:[n],done(){t("update:modelValue",n),t("change",n),r()}})};return a({props:e,setActive:v}),()=>e.fixed&&e.placeholder?d(g):g()}})},e893:function(e,t,n){var r=n("1a2d"),i=n("56ef"),a=n("06cf"),o=n("9bf2");e.exports=function(e,t,n){for(var s=i(t),l=o.f,c=a.f,u=0;u<s.length;u++){var d=s[u];r(e,d)||n&&r(n,d)||l(e,d,c(t,d))}}},e8b5:function(e,t,n){var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},ee0b:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n("7a23");const i=Symbol();function a(e){const t=Object(r["inject"])(i,null);t&&Object(r["watch"])(t,t=>{t&&e()})}},eec6:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var r=n("e5f6");const i={show:Boolean,zIndex:r["f"],overlay:r["g"],duration:r["f"],teleport:[String,Object],lockScroll:r["g"],lazyRender:r["g"],beforeClose:Function,overlayStyle:Object,overlayClass:r["h"],transitionAppear:Boolean,closeOnClickOverlay:r["g"]},a=Object.keys(i)},efc0:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("23f9"),i=n("7a23"),a=n("1fba"),o=n("e5f6"),s=n("450f"),l=n("b138");const[c,u]=Object(a["a"])("col"),d={tag:Object(o["e"])("div"),span:Object(o["c"])(0),offset:o["f"]};var f=Object(i["defineComponent"])({name:c,props:d,setup(e,{slots:t}){const{parent:n,index:r}=Object(s["useParent"])(l["a"]),a=Object(i["computed"])(()=>{if(!n)return;const{spaces:e}=n;if(e&&e.value&&e.value[r.value]){const{left:t,right:n}=e.value[r.value];return{paddingLeft:t?t+"px":null,paddingRight:n?n+"px":null}}});return()=>{const{tag:n,span:r,offset:o}=e;return Object(i["createVNode"])(n,{style:a.value,class:u({[r]:r,["offset-"+o]:o})},{default:()=>{var e;return[null==(e=t.default)?void 0:e.call(t)]}})}}});const h=Object(r["a"])(f);var p=h},efd9:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("7a23"),i=n("fa7c");function a(e){const t=Object(r["getCurrentInstance"])();t&&Object(i["a"])(t.proxy,e)}},f6b4:function(e,t,n){"use strict";var r=n("c532");function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},f772:function(e,t,n){var r=n("5692"),i=n("90e3"),a=r("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},f83d:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return E})),n.d(t,"g",(function(){return r})),n.d(t,"h",(function(){return O})),n.d(t,"i",(function(){return S})),n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return h})),n.d(t,"l",(function(){return T})),n.d(t,"m",(function(){return u})),n.d(t,"n",(function(){return k})),n.d(t,"o",(function(){return w})),n.d(t,"p",(function(){return f})),n.d(t,"q",(function(){return _})),n.d(t,"r",(function(){return s})),n.d(t,"s",(function(){return C})),n.d(t,"t",(function(){return p}));
/*!
  * shared v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */
const r="undefined"!==typeof window;const i=/\{([0-9a-zA-Z]+)\}/g;function a(e,...t){return 1===t.length&&k(t[0])&&(t=t[0]),t&&t.hasOwnProperty||(t={}),e.replace(i,(e,n)=>t.hasOwnProperty(n)?t[n]:"")}const o="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag,s=e=>o?Symbol(e):e,l=(e,t,n)=>c({l:e,k:t,s:n}),c=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),u=e=>"number"===typeof e&&isFinite(e),d=e=>"[object Date]"===A(e),f=e=>"[object RegExp]"===A(e),h=e=>w(e)&&0===Object.keys(e).length;function p(e,t){"undefined"!==typeof console&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const g=Object.assign;let v;const m=()=>v||(v="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{});function b(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const y=Object.prototype.hasOwnProperty;function E(e,t){return y.call(e,t)}const O=Array.isArray,T=e=>"function"===typeof e,_=e=>"string"===typeof e,S=e=>"boolean"===typeof e,k=e=>null!==e&&"object"===typeof e,L=Object.prototype.toString,A=e=>L.call(e),w=e=>"[object Object]"===A(e),C=e=>null==e?"":O(e)||w(e)&&e.toString===L?JSON.stringify(e,null,2):String(e)}).call(this,n("c8ba"))},fa7c:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return c}));var r=n("b75f");function i(){}const a=Object.assign,o="undefined"!==typeof window;function s(e,t){const n=t.split(".");let i=e;return n.forEach(e=>{var t;i=Object(r["f"])(i)&&null!=(t=i[e])?t:""}),i}function l(e,t,n){return t.reduce((t,r)=>(n&&void 0===e[r]||(t[r]=e[r]),t),{})}const c=e=>Array.isArray(e)?e:[e]},fa8a:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("7a23"),i=n("450f"),a=n("ee0b");const o=(e,t)=>{const n=Object(r["ref"])(),o=()=>{n.value=Object(i["useRect"])(e).height};return Object(r["onMounted"])(()=>{if(Object(r["nextTick"])(o),t)for(let e=1;e<=3;e++)setTimeout(o,100*e)}),Object(a["b"])(()=>Object(r["nextTick"])(o)),n};function s(e,t){const n=o(e,!0);return e=>Object(r["createVNode"])("div",{class:t("placeholder"),style:{height:n.value?n.value+"px":void 0}},[e()])}},fc63:function(e,t,n){"use strict";n("68ef"),n("e3b3"),n("a526")},fc6a:function(e,t,n){var r=n("44ad"),i=n("1d80");e.exports=function(e){return r(i(e))}},fdbf:function(e,t,n){var r=n("04f8");e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},ffb2:function(e,t,n){"use strict";n("68ef")}}]);